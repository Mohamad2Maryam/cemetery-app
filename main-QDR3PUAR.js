import{A as Vn,B as Ba,C as ko,D as iy,E as oy,F as x,G as nt,H as Me,I as fd,J as sy,K as Fo,L as Qe,M as mn,N as Ua,O as hd,P as ay,Q as ci,R as Lo,S as ly,T as cy,U as jn,V as rt,a as y,b as ne,c as re,d as YS,e as tt,f as qv,g as La,h as Kv,i as Qv,j as m,k as li,l as Va,m as Yv,n as Zv,o as Ne,p as Jv,q as dd,r as Xv,s as zt,t as ey,u as ty,v as ja,w as De,x as ny,y as ry,z as yt}from"./chunk-CXUGHH2X.js";var Fb=re((Jz,kb)=>{"use strict";kb.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var yr=re(ii=>{"use strict";var Iv,yj=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ii.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ii.getSymbolTotalCodewords=function(e){return yj[e]};ii.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ii.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Iv=e};ii.isKanjiModeEnabled=function(){return typeof Iv<"u"};ii.toSJIS=function(e){return Iv(e)}});var ed=re(xt=>{"use strict";xt.L={bit:1};xt.M={bit:0};xt.Q={bit:3};xt.H={bit:2};function _j(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return xt.L;case"m":case"medium":return xt.M;case"q":case"quartile":return xt.Q;case"h":case"high":return xt.H;default:throw new Error("Unknown EC Level: "+t)}}xt.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};xt.from=function(e,n){if(xt.isValid(e))return e;try{return _j(e)}catch{return n}}});var jb=re((tq,Vb)=>{"use strict";function Lb(){this.buffer=[],this.length=0}Lb.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};Vb.exports=Lb});var Ub=re((nq,Bb)=>{"use strict";function Aa(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Aa.prototype.set=function(t,e,n,r){let i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Aa.prototype.get=function(t,e){return this.data[t*this.size+e]};Aa.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Aa.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};Bb.exports=Aa});var $b=re(td=>{"use strict";var Cj=yr().getSymbolSize;td.getRowColCoords=function(e){if(e===1)return[];let n=Math.floor(e/7)+2,r=Cj(e),i=r===145?26:Math.ceil((r-13)/(2*n-2))*2,o=[r-7];for(let s=1;s<n-1;s++)o[s]=o[s-1]-i;return o.push(6),o.reverse()};td.getPositions=function(e){let n=[],r=td.getRowColCoords(e),i=r.length;for(let o=0;o<i;o++)for(let s=0;s<i;s++)o===0&&s===0||o===0&&s===i-1||o===i-1&&s===0||n.push([r[o],r[s]]);return n}});var Wb=re(Gb=>{"use strict";var wj=yr().getSymbolSize,Hb=7;Gb.getPositions=function(e){let n=wj(e);return[[0,0],[n-Hb,0],[0,n-Hb]]}});var zb=re(ue=>{"use strict";ue.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var oi={N1:3,N2:3,N3:40,N4:10};ue.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};ue.from=function(e){return ue.isValid(e)?parseInt(e,10):void 0};ue.getPenaltyN1=function(e){let n=e.size,r=0,i=0,o=0,s=null,a=null;for(let l=0;l<n;l++){i=o=0,s=a=null;for(let c=0;c<n;c++){let u=e.get(l,c);u===s?i++:(i>=5&&(r+=oi.N1+(i-5)),s=u,i=1),u=e.get(c,l),u===a?o++:(o>=5&&(r+=oi.N1+(o-5)),a=u,o=1)}i>=5&&(r+=oi.N1+(i-5)),o>=5&&(r+=oi.N1+(o-5))}return r};ue.getPenaltyN2=function(e){let n=e.size,r=0;for(let i=0;i<n-1;i++)for(let o=0;o<n-1;o++){let s=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);(s===4||s===0)&&r++}return r*oi.N2};ue.getPenaltyN3=function(e){let n=e.size,r=0,i=0,o=0;for(let s=0;s<n;s++){i=o=0;for(let a=0;a<n;a++)i=i<<1&2047|e.get(s,a),a>=10&&(i===1488||i===93)&&r++,o=o<<1&2047|e.get(a,s),a>=10&&(o===1488||o===93)&&r++}return r*oi.N3};ue.getPenaltyN4=function(e){let n=0,r=e.data.length;for(let o=0;o<r;o++)n+=e.data[o];return Math.abs(Math.ceil(n*100/r/5)-10)*oi.N4};function Dj(t,e,n){switch(t){case ue.Patterns.PATTERN000:return(e+n)%2===0;case ue.Patterns.PATTERN001:return e%2===0;case ue.Patterns.PATTERN010:return n%3===0;case ue.Patterns.PATTERN011:return(e+n)%3===0;case ue.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2===0;case ue.Patterns.PATTERN101:return e*n%2+e*n%3===0;case ue.Patterns.PATTERN110:return(e*n%2+e*n%3)%2===0;case ue.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}ue.applyMask=function(e,n){let r=n.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)n.isReserved(o,i)||n.xor(o,i,Dj(e,o,i))};ue.getBestMask=function(e,n){let r=Object.keys(ue.Patterns).length,i=0,o=1/0;for(let s=0;s<r;s++){n(s),ue.applyMask(s,e);let a=ue.getPenaltyN1(e)+ue.getPenaltyN2(e)+ue.getPenaltyN3(e)+ue.getPenaltyN4(e);ue.applyMask(s,e),a<o&&(o=a,i=s)}return i}});var Sv=re(bv=>{"use strict";var _r=ed(),nd=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],rd=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];bv.getBlocksCount=function(e,n){switch(n){case _r.L:return nd[(e-1)*4+0];case _r.M:return nd[(e-1)*4+1];case _r.Q:return nd[(e-1)*4+2];case _r.H:return nd[(e-1)*4+3];default:return}};bv.getTotalCodewordsCount=function(e,n){switch(n){case _r.L:return rd[(e-1)*4+0];case _r.M:return rd[(e-1)*4+1];case _r.Q:return rd[(e-1)*4+2];case _r.H:return rd[(e-1)*4+3];default:return}}});var qb=re(od=>{"use strict";var xa=new Uint8Array(512),id=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)xa[n]=e,id[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)xa[n]=xa[n-255]})();od.log=function(e){if(e<1)throw new Error("log("+e+")");return id[e]};od.exp=function(e){return xa[e]};od.mul=function(e,n){return e===0||n===0?0:xa[id[e]+id[n]]}});var Kb=re(Na=>{"use strict";var Tv=qb();Na.mul=function(e,n){let r=new Uint8Array(e.length+n.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<n.length;o++)r[i+o]^=Tv.mul(e[i],n[o]);return r};Na.mod=function(e,n){let r=new Uint8Array(e);for(;r.length-n.length>=0;){let i=r[0];for(let s=0;s<n.length;s++)r[s]^=Tv.mul(n[s],i);let o=0;for(;o<r.length&&r[o]===0;)o++;r=r.slice(o)}return r};Na.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let r=0;r<e;r++)n=Na.mul(n,new Uint8Array([1,Tv.exp(r)]));return n}});var Zb=re((cq,Yb)=>{"use strict";var Qb=Kb();function Mv(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Mv.prototype.initialize=function(e){this.degree=e,this.genPoly=Qb.generateECPolynomial(this.degree)};Mv.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let n=new Uint8Array(e.length+this.degree);n.set(e);let r=Qb.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){let o=new Uint8Array(this.degree);return o.set(r,i),o}return r};Yb.exports=Mv});var Av=re(Jb=>{"use strict";Jb.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var xv=re(Ln=>{"use strict";var Xb="[0-9]+",Ej="[A-Z $%*+\\-./:]+",Ra="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ra=Ra.replace(/u/g,"\\u");var Ij="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ra+`)(?:.|[\r
]))+`;Ln.KANJI=new RegExp(Ra,"g");Ln.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ln.BYTE=new RegExp(Ij,"g");Ln.NUMERIC=new RegExp(Xb,"g");Ln.ALPHANUMERIC=new RegExp(Ej,"g");var bj=new RegExp("^"+Ra+"$"),Sj=new RegExp("^"+Xb+"$"),Tj=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ln.testKanji=function(e){return bj.test(e)};Ln.testNumeric=function(e){return Sj.test(e)};Ln.testAlphanumeric=function(e){return Tj.test(e)}});var Cr=re(Te=>{"use strict";var Mj=Av(),Nv=xv();Te.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Te.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Te.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Te.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Te.MIXED={bit:-1};Te.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Mj.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]};Te.getBestModeForData=function(e){return Nv.testNumeric(e)?Te.NUMERIC:Nv.testAlphanumeric(e)?Te.ALPHANUMERIC:Nv.testKanji(e)?Te.KANJI:Te.BYTE};Te.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Te.isValid=function(e){return e&&e.bit&&e.ccBits};function Aj(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return Te.NUMERIC;case"alphanumeric":return Te.ALPHANUMERIC;case"kanji":return Te.KANJI;case"byte":return Te.BYTE;default:throw new Error("Unknown mode: "+t)}}Te.from=function(e,n){if(Te.isValid(e))return e;try{return Aj(e)}catch{return n}}});var iS=re(si=>{"use strict";var sd=yr(),xj=Sv(),eS=ed(),wr=Cr(),Rv=Av(),nS=7973,tS=sd.getBCHDigit(nS);function Nj(t,e,n){for(let r=1;r<=40;r++)if(e<=si.getCapacity(r,n,t))return r}function rS(t,e){return wr.getCharCountIndicator(t,e)+4}function Rj(t,e){let n=0;return t.forEach(function(r){let i=rS(r.mode,e);n+=i+r.getBitsLength()}),n}function Pj(t,e){for(let n=1;n<=40;n++)if(Rj(t,n)<=si.getCapacity(n,e,wr.MIXED))return n}si.from=function(e,n){return Rv.isValid(e)?parseInt(e,10):n};si.getCapacity=function(e,n,r){if(!Rv.isValid(e))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=wr.BYTE);let i=sd.getSymbolTotalCodewords(e),o=xj.getTotalCodewordsCount(e,n),s=(i-o)*8;if(r===wr.MIXED)return s;let a=s-rS(r,e);switch(r){case wr.NUMERIC:return Math.floor(a/10*3);case wr.ALPHANUMERIC:return Math.floor(a/11*2);case wr.KANJI:return Math.floor(a/13);case wr.BYTE:default:return Math.floor(a/8)}};si.getBestVersionForData=function(e,n){let r,i=eS.from(n,eS.M);if(Array.isArray(e)){if(e.length>1)return Pj(e,i);if(e.length===0)return 1;r=e[0]}else r=e;return Nj(r.mode,r.getLength(),i)};si.getEncodedBits=function(e){if(!Rv.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;sd.getBCHDigit(n)-tS>=0;)n^=nS<<sd.getBCHDigit(n)-tS;return e<<12|n}});var lS=re(aS=>{"use strict";var Pv=yr(),sS=1335,Oj=21522,oS=Pv.getBCHDigit(sS);aS.getEncodedBits=function(e,n){let r=e.bit<<3|n,i=r<<10;for(;Pv.getBCHDigit(i)-oS>=0;)i^=sS<<Pv.getBCHDigit(i)-oS;return(r<<10|i)^Oj}});var uS=re((gq,cS)=>{"use strict";var kj=Cr();function Ao(t){this.mode=kj.NUMERIC,this.data=t.toString()}Ao.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ao.prototype.getLength=function(){return this.data.length};Ao.prototype.getBitsLength=function(){return Ao.getBitsLength(this.data.length)};Ao.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);let o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,o*3+1))};cS.exports=Ao});var fS=re((mq,dS)=>{"use strict";var Fj=Cr(),Ov=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function xo(t){this.mode=Fj.ALPHANUMERIC,this.data=t}xo.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};xo.prototype.getLength=function(){return this.data.length};xo.prototype.getBitsLength=function(){return xo.getBitsLength(this.data.length)};xo.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Ov.indexOf(this.data[n])*45;r+=Ov.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Ov.indexOf(this.data[n]),6)};dS.exports=xo});var pS=re((vq,hS)=>{"use strict";hS.exports=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var o=e.charCodeAt(i);if(o>=55296&&o<=56319&&r>i+1){var s=e.charCodeAt(i+1);s>=56320&&s<=57343&&(o=(o-55296)*1024+s-56320+65536,i+=1)}if(o<128){n.push(o);continue}if(o<2048){n.push(o>>6|192),n.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){n.push(o>>12|224),n.push(o>>6&63|128),n.push(o&63|128);continue}if(o>=65536&&o<=1114111){n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer}});var mS=re((yq,gS)=>{"use strict";var Lj=pS(),Vj=Cr();function No(t){this.mode=Vj.BYTE,typeof t=="string"&&(t=Lj(t)),this.data=new Uint8Array(t)}No.getBitsLength=function(e){return e*8};No.prototype.getLength=function(){return this.data.length};No.prototype.getBitsLength=function(){return No.getBitsLength(this.data.length)};No.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};gS.exports=No});var yS=re((_q,vS)=>{"use strict";var jj=Cr(),Bj=yr();function Ro(t){this.mode=jj.KANJI,this.data=t}Ro.getBitsLength=function(e){return e*13};Ro.prototype.getLength=function(){return this.data.length};Ro.prototype.getBitsLength=function(){return Ro.getBitsLength(this.data.length)};Ro.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Bj.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};vS.exports=Ro});var _S=re((Cq,kv)=>{"use strict";var Pa={single_source_shortest_paths:function(t,e,n){var r={},i={};i[e]=0;var o=Pa.PriorityQueue.make();o.push(e,0);for(var s,a,l,c,u,d,f,h,p;!o.empty();){s=o.pop(),a=s.value,c=s.cost,u=t[a]||{};for(l in u)u.hasOwnProperty(l)&&(d=u[l],f=c+d,h=i[l],p=typeof i[l]>"u",(p||h>f)&&(i[l]=f,o.push(l,f),r[l]=a))}if(typeof n<"u"&&typeof i[n]>"u"){var g=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(g)}return r},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e,i;r;)n.push(r),i=t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){var r=Pa.single_source_shortest_paths(t,e,n);return Pa.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var e=Pa.PriorityQueue,n={},r;t=t||{};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n.queue=[],n.sorter=t.sorter||e.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof kv<"u"&&(kv.exports=Pa)});var TS=re(Po=>{"use strict";var te=Cr(),DS=uS(),ES=fS(),IS=mS(),bS=yS(),Oa=xv(),ad=yr(),Uj=_S();function CS(t){return unescape(encodeURIComponent(t)).length}function ka(t,e,n){let r=[],i;for(;(i=t.exec(n))!==null;)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function SS(t){let e=ka(Oa.NUMERIC,te.NUMERIC,t),n=ka(Oa.ALPHANUMERIC,te.ALPHANUMERIC,t),r,i;return ad.isKanjiModeEnabled()?(r=ka(Oa.BYTE,te.BYTE,t),i=ka(Oa.KANJI,te.KANJI,t)):(r=ka(Oa.BYTE_KANJI,te.BYTE,t),i=[]),e.concat(n,r,i).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function Fv(t,e){switch(e){case te.NUMERIC:return DS.getBitsLength(t);case te.ALPHANUMERIC:return ES.getBitsLength(t);case te.KANJI:return bS.getBitsLength(t);case te.BYTE:return IS.getBitsLength(t)}}function $j(t){return t.reduce(function(e,n){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===n.mode?(e[e.length-1].data+=n.data,e):(e.push(n),e)},[])}function Hj(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n];switch(r.mode){case te.NUMERIC:e.push([r,{data:r.data,mode:te.ALPHANUMERIC,length:r.length},{data:r.data,mode:te.BYTE,length:r.length}]);break;case te.ALPHANUMERIC:e.push([r,{data:r.data,mode:te.BYTE,length:r.length}]);break;case te.KANJI:e.push([r,{data:r.data,mode:te.BYTE,length:CS(r.data)}]);break;case te.BYTE:e.push([{data:r.data,mode:te.BYTE,length:CS(r.data)}])}}return e}function Gj(t,e){let n={},r={start:{}},i=["start"];for(let o=0;o<t.length;o++){let s=t[o],a=[];for(let l=0;l<s.length;l++){let c=s[l],u=""+o+l;a.push(u),n[u]={node:c,lastCount:0},r[u]={};for(let d=0;d<i.length;d++){let f=i[d];n[f]&&n[f].node.mode===c.mode?(r[f][u]=Fv(n[f].lastCount+c.length,c.mode)-Fv(n[f].lastCount,c.mode),n[f].lastCount+=c.length):(n[f]&&(n[f].lastCount=c.length),r[f][u]=Fv(c.length,c.mode)+4+te.getCharCountIndicator(c.mode,e))}}i=a}for(let o=0;o<i.length;o++)r[i[o]].end=0;return{map:r,table:n}}function wS(t,e){let n,r=te.getBestModeForData(t);if(n=te.from(e,r),n!==te.BYTE&&n.bit<r.bit)throw new Error('"'+t+'" cannot be encoded with mode '+te.toString(n)+`.
 Suggested mode is: `+te.toString(r));switch(n===te.KANJI&&!ad.isKanjiModeEnabled()&&(n=te.BYTE),n){case te.NUMERIC:return new DS(t);case te.ALPHANUMERIC:return new ES(t);case te.KANJI:return new bS(t);case te.BYTE:return new IS(t)}}Po.fromArray=function(e){return e.reduce(function(n,r){return typeof r=="string"?n.push(wS(r,null)):r.data&&n.push(wS(r.data,r.mode)),n},[])};Po.fromString=function(e,n){let r=SS(e,ad.isKanjiModeEnabled()),i=Hj(r),o=Gj(i,n),s=Uj.find_path(o.map,"start","end"),a=[];for(let l=1;l<s.length-1;l++)a.push(o.table[s[l]].node);return Po.fromArray($j(a))};Po.rawSplit=function(e){return Po.fromArray(SS(e,ad.isKanjiModeEnabled()))}});var AS=re(MS=>{"use strict";var cd=yr(),Lv=ed(),Wj=jb(),zj=Ub(),qj=$b(),Kj=Wb(),Bv=zb(),Uv=Sv(),Qj=Zb(),ld=iS(),Yj=lS(),Zj=Cr(),Vv=TS();function Jj(t,e){let n=t.size,r=Kj.getPositions(e);for(let i=0;i<r.length;i++){let o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||n<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(o+a,s+l,!0,!0):t.set(o+a,s+l,!1,!0))}}function Xj(t){let e=t.size;for(let n=8;n<e-8;n++){let r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function e2(t,e){let n=qj.getPositions(e);for(let r=0;r<n.length;r++){let i=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}}function t2(t,e){let n=t.size,r=ld.getEncodedBits(e),i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=(r>>a&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function jv(t,e,n){let r=t.size,i=Yj.getEncodedBits(e,n),o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function n2(t,e){let n=t.size,r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;s<e.length&&(c=(e[s]>>>o&1)===1),t.set(i,a-l,c),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function r2(t,e,n){let r=new Wj;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),Zj.getCharCountIndicator(l.mode,t)),l.write(r)});let i=cd.getSymbolTotalCodewords(t),o=Uv.getTotalCodewordsCount(t,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return i2(r,t,e)}function i2(t,e,n){let r=cd.getSymbolTotalCodewords(e),i=Uv.getTotalCodewordsCount(e,n),o=r-i,s=Uv.getBlocksCount(e,n),a=r%s,l=s-a,c=Math.floor(r/s),u=Math.floor(o/s),d=u+1,f=c-u,h=new Qj(f),p=0,g=new Array(s),D=new Array(s),S=0,J=new Uint8Array(t.buffer);for(let Ke=0;Ke<s;Ke++){let Dr=Ke<l?u:d;g[Ke]=J.slice(p,p+Dr),D[Ke]=h.encode(g[Ke]),p+=Dr,S=Math.max(S,Dr)}let P=new Uint8Array(r),he=0,de,ye;for(de=0;de<S;de++)for(ye=0;ye<s;ye++)de<g[ye].length&&(P[he++]=g[ye][de]);for(de=0;de<f;de++)for(ye=0;ye<s;ye++)P[he++]=D[ye][de];return P}function o2(t,e,n,r){let i;if(Array.isArray(t))i=Vv.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){let u=Vv.rawSplit(t);c=ld.getBestVersionForData(u,n)}i=Vv.fromString(t,c||40)}else throw new Error("Invalid data");let o=ld.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=r2(e,n,i),a=cd.getSymbolSize(e),l=new zj(a);return Jj(l,e),Xj(l),e2(l,e),jv(l,n,0),e>=7&&t2(l,e),n2(l,s),isNaN(r)&&(r=Bv.getBestMask(l,jv.bind(null,l,n))),Bv.applyMask(r,l),jv(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}MS.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Lv.M,i,o;return typeof n<"u"&&(r=Lv.from(n.errorCorrectionLevel,Lv.M),i=ld.from(n.version),o=Bv.from(n.maskPattern),n.toSJISFunc&&cd.setToSJISFunction(n.toSJISFunc)),o2(e,i,r,o)}});var $v=re(ai=>{"use strict";function xS(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(r){return[r,r]}))),e.length===6&&e.push("F","F");let n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+e.slice(0,6).join("")}}ai.getOptions=function(e){e||(e={}),e.color||(e.color={});let n=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:n,color:{dark:xS(e.color.dark||"#000000ff"),light:xS(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};ai.getScale=function(e,n){return n.width&&n.width>=e+n.margin*2?n.width/(e+n.margin*2):n.scale};ai.getImageWidth=function(e,n){let r=ai.getScale(e,n);return Math.floor((e+n.margin*2)*r)};ai.qrToImageData=function(e,n,r){let i=n.modules.size,o=n.modules.data,s=ai.getScale(i,r),a=Math.floor((i+r.margin*2)*s),l=r.margin*s,c=[r.color.light,r.color.dark];for(let u=0;u<a;u++)for(let d=0;d<a;d++){let f=(u*a+d)*4,h=r.color.light;if(u>=l&&d>=l&&u<a-l&&d<a-l){let p=Math.floor((u-l)/s),g=Math.floor((d-l)/s);h=c[o[p*i+g]?1:0]}e[f++]=h.r,e[f++]=h.g,e[f++]=h.b,e[f]=h.a}}});var NS=re(ud=>{"use strict";var Hv=$v();function s2(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}function a2(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}ud.render=function(e,n,r){let i=r,o=n;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),n||(o=a2()),i=Hv.getOptions(i);let s=Hv.getImageWidth(e.modules.size,i),a=o.getContext("2d"),l=a.createImageData(s,s);return Hv.qrToImageData(l.data,e,i),s2(a,o,s),a.putImageData(l,0,0),o};ud.renderToDataURL=function(e,n,r){let i=r;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),i||(i={});let o=ud.render(e,n,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}});var OS=re(PS=>{"use strict";var l2=$v();function RS(t,e){let n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Gv(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function c2(t,e,n){let r="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){let l=Math.floor(a%e),c=Math.floor(a/e);!l&&!o&&(o=!0),t[a]?(s++,a>0&&l>0&&t[a-1]||(r+=o?Gv("M",l+n,.5+c+n):Gv("m",i,0),i=0,o=!1),l+1<e&&t[a+1]||(r+=Gv("h",s),s=0)):i++}return r}PS.render=function(e,n,r){let i=l2.getOptions(n),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+RS(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+RS(i.color.dark,"stroke")+' d="'+c2(s,o,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,f),f}});var FS=re(Fa=>{"use strict";var u2=Fb(),Wv=AS(),kS=NS(),d2=OS();function zv(t,e,n,r,i){let o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!u2())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{let u=Wv.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{let l=Wv.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}Fa.create=Wv.create;Fa.toCanvas=zv.bind(null,kS.render);Fa.toDataURL=zv.bind(null,kS.renderToDataURL);Fa.toString=zv.bind(null,function(t,e,n){return d2.render(t,n)})});var uy=null;var pd=1,gd=Symbol("SIGNAL");function z(t){let e=uy;return uy=t,e}var dy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ZS(t){if(!(yd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===pd)){if(!t.producerMustRecompute(t)&&!md(t)){t.dirty=!1,t.lastCleanEpoch=pd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=pd}}function fy(t){return t&&(t.nextProducerIndex=0),z(t)}function hy(t,e){if(z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(yd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)vd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function md(t){$a(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ZS(n),r!==n.version))return!0}return!1}function py(t){if($a(t),yd(t))for(let e=0;e<t.producerNode.length;e++)vd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vd(t,e){if(JS(t),$a(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)vd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];$a(i),i.producerIndexOfThis[r]=e}}function yd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $a(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function JS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function XS(){throw new Error}var eT=XS;function gy(t){eT=t}function R(t){return typeof t=="function"}function ui(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ha=ui(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Er(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var we=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(R(r))try{r()}catch(o){e=o instanceof Ha?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{my(o)}catch(s){e=e??[],s instanceof Ha?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ha(e)}}add(e){var n;if(e&&e!==this)if(this.closed)my(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Er(n,e)}remove(e){let{_finalizers:n}=this;n&&Er(n,e),e instanceof t&&e._removeParent(this)}};we.EMPTY=(()=>{let t=new we;return t.closed=!0,t})();var _d=we.EMPTY;function Ga(t){return t instanceof we||t&&"closed"in t&&R(t.remove)&&R(t.add)&&R(t.unsubscribe)}function my(t){R(t)?t():t.unsubscribe()}var Nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var di={setTimeout(t,e,...n){let{delegate:r}=di;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=di;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Wa(t){di.setTimeout(()=>{let{onUnhandledError:e}=Nt;if(e)e(t);else throw t})}function Ir(){}var vy=Cd("C",void 0,void 0);function yy(t){return Cd("E",void 0,t)}function _y(t){return Cd("N",t,void 0)}function Cd(t,e,n){return{kind:t,value:e,error:n}}var br=null;function fi(t){if(Nt.useDeprecatedSynchronousErrorHandling){let e=!br;if(e&&(br={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=br;if(br=null,n)throw r}}else t()}function Cy(t){Nt.useDeprecatedSynchronousErrorHandling&&br&&(br.errorThrown=!0,br.error=t)}var Sr=class extends we{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ga(e)&&e.add(this)):this.destination=rT}static create(e,n,r){return new vn(e,n,r)}next(e){this.isStopped?Dd(_y(e),this):this._next(e)}error(e){this.isStopped?Dd(yy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dd(vy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tT=Function.prototype.bind;function wd(t,e){return tT.call(t,e)}var Ed=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){za(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){za(r)}else za(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){za(n)}}},vn=class extends Sr{constructor(e,n,r){super();let i;if(R(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Nt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wd(e.next,o),error:e.error&&wd(e.error,o),complete:e.complete&&wd(e.complete,o)}):i=e}this.destination=new Ed(i)}};function za(t){Nt.useDeprecatedSynchronousErrorHandling?Cy(t):Wa(t)}function nT(t){throw t}function Dd(t,e){let{onStoppedNotification:n}=Nt;n&&di.setTimeout(()=>n(t,e))}var rT={closed:!0,next:Ir,error:nT,complete:Ir};var hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Le(t){return t}function Id(...t){return bd(t)}function bd(t){return t.length===0?Le:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var W=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=oT(n)?n:new vn(n,r,i);return fi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=wy(r),new r((i,o)=>{let s=new vn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[hi](){return this}pipe(...n){return bd(n)(this)}toPromise(n){return n=wy(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function wy(t){var e;return(e=t??Nt.Promise)!==null&&e!==void 0?e:Promise}function iT(t){return t&&R(t.next)&&R(t.error)&&R(t.complete)}function oT(t){return t&&t instanceof Sr||iT(t)&&Ga(t)}function Sd(t){return R(t?.lift)}function L(t){return e=>{if(Sd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(t,e,n,r,i){return new Td(t,e,n,r,i)}var Td=class extends Sr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pi(){return L((t,e)=>{let n=null;t._refCount++;let r=O(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var gi=class extends W{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new we;let n=this.getSubject();e.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=we.EMPTY)}return e}refCount(){return pi()(this)}};var Dy=ui(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=(()=>{class t extends W{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new qa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Dy}next(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_d:(this.currentObservers=null,o.push(n),new we(()=>{this.currentObservers=null,Er(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new W;return n.source=this,n}}return t.create=(e,n)=>new qa(e,n),t})(),qa=class extends Ee{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:_d}};var Ve=class extends Ee{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vo={now(){return(Vo.delegate||Date).now()},delegate:void 0};var Ka=class extends Ee{constructor(e=1/0,n=1/0,r=Vo){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Qa=class extends we{constructor(e,n){super()}schedule(e,n=0){return this}};var jo={setInterval(t,e,...n){let{delegate:r}=jo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=jo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var mi=class extends Qa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return jo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&jo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Er(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var vi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};vi.now=Vo.now;var yi=class extends vi{constructor(e,n=vi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Bo=new yi(mi);var Ya=class extends mi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Za=class extends yi{};var Md=new Za(Ya);var it=new W(t=>t.complete());function Ey(t){return t&&R(t.schedule)}function Ad(t){return t[t.length-1]}function _i(t){return R(Ad(t))?t.pop():void 0}function qt(t){return Ey(Ad(t))?t.pop():void 0}function Iy(t,e){return typeof Ad(t)=="number"?t.pop():e}var Ja=t=>t&&typeof t.length=="number"&&typeof t!="function";function Xa(t){return R(t?.then)}function el(t){return R(t[hi])}function tl(t){return Symbol.asyncIterator&&R(t?.[Symbol.asyncIterator])}function nl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rl=sT();function il(t){return R(t?.[rl])}function ol(t){return Kv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield La(n.read());if(i)return yield La(void 0);yield yield La(r)}}finally{n.releaseLock()}})}function sl(t){return R(t?.getReader)}function se(t){if(t instanceof W)return t;if(t!=null){if(el(t))return aT(t);if(Ja(t))return lT(t);if(Xa(t))return cT(t);if(tl(t))return by(t);if(il(t))return uT(t);if(sl(t))return dT(t)}throw nl(t)}function aT(t){return new W(e=>{let n=t[hi]();if(R(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lT(t){return new W(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function cT(t){return new W(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Wa)})}function uT(t){return new W(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function by(t){return new W(e=>{fT(t,e).catch(n=>e.error(n))})}function dT(t){return by(ol(t))}function fT(t,e){var n,r,i,o;return qv(this,void 0,void 0,function*(){try{for(n=Qv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ot(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function _t(t,e=0){return L((n,r)=>{n.subscribe(O(r,i=>ot(r,t,()=>r.next(i),e),()=>ot(r,t,()=>r.complete(),e),i=>ot(r,t,()=>r.error(i),e)))})}function Rt(t,e=0){return L((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Sy(t,e){return se(t).pipe(Rt(e),_t(e))}function Ty(t,e){return se(t).pipe(Rt(e),_t(e))}function My(t,e){return new W(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ay(t,e){return new W(n=>{let r;return ot(n,e,()=>{r=t[rl](),ot(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>R(r?.return)&&r.return()})}function al(t,e){if(!t)throw new Error("Iterable cannot be null");return new W(n=>{ot(n,e,()=>{let r=t[Symbol.asyncIterator]();ot(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function xy(t,e){return al(ol(t),e)}function Ny(t,e){if(t!=null){if(el(t))return Sy(t,e);if(Ja(t))return My(t,e);if(Xa(t))return Ty(t,e);if(tl(t))return al(t,e);if(il(t))return Ay(t,e);if(sl(t))return xy(t,e)}throw nl(t)}function ie(t,e){return e?Ny(t,e):se(t)}function M(...t){let e=qt(t);return ie(t,e)}function Ci(t,e){let n=R(t)?t:()=>t,r=i=>i.error(n());return new W(e?i=>e.schedule(r,0,i):r)}function xd(t){return!!t&&(t instanceof W||R(t.lift)&&R(t.subscribe))}var yn=ui(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function I(t,e){return L((n,r)=>{let i=0;n.subscribe(O(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:hT}=Array;function pT(t,e){return hT(e)?t(...e):t(e)}function ll(t){return I(e=>pT(t,e))}var{isArray:gT}=Array,{getPrototypeOf:mT,prototype:vT,keys:yT}=Object;function cl(t){if(t.length===1){let e=t[0];if(gT(e))return{args:e,keys:null};if(_T(e)){let n=yT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function _T(t){return t&&typeof t=="object"&&mT(t)===vT}function ul(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Uo(...t){let e=qt(t),n=_i(t),{args:r,keys:i}=cl(t);if(r.length===0)return ie([],e);let o=new W(CT(r,e,i?s=>ul(i,s):Le));return n?o.pipe(ll(n)):o}function CT(t,e,n=Le){return r=>{Ry(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Ry(e,()=>{let c=ie(t[l],e),u=!1;c.subscribe(O(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ry(t,e,n){t?ot(n,t,e):e()}function Py(t,e,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{o&&e.next(g),c++;let D=!1;se(n(g,u++)).subscribe(O(e,S=>{i?.(S),o?h(S):e.next(S)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<r;){let S=l.shift();s?ot(e,s,()=>p(S)):p(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(O(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Ie(t,e,n=1/0){return R(e)?Ie((r,i)=>I((o,s)=>e(r,o,i,s))(se(t(r,i))),n):(typeof e=="number"&&(n=e),L((r,i)=>Py(r,i,t,n)))}function Bn(t=1/0){return Ie(Le,t)}function Oy(){return Bn(1)}function wi(...t){return Oy()(ie(t,qt(t)))}function dl(t){return new W(e=>{se(t()).subscribe(e)})}function Nd(...t){let e=_i(t),{args:n,keys:r}=cl(t),i=new W(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;se(n[u]).subscribe(O(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?ul(r,a):a),o.complete())}))}});return e?i.pipe(ll(e)):i}function Di(...t){let e=qt(t),n=Iy(t,1/0),r=t;return r.length?r.length===1?se(r[0]):Bn(n)(ie(r,e)):it}function st(t,e){return L((n,r)=>{let i=0;n.subscribe(O(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Un(t){return L((e,n)=>{let r=null,i=!1,o;r=e.subscribe(O(n,void 0,void 0,s=>{o=se(t(s,Un(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ky(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(O(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Tr(t,e){return R(e)?Ie(t,e,1):Ie(t,1)}function $n(t){return L((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _n(t){return t<=0?()=>it:L((e,n)=>{let r=0;e.subscribe(O(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Rd(t){return I(()=>t)}function Pd(t,e=Le){return t=t??wT,L((n,r)=>{let i,o=!0;n.subscribe(O(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function wT(t,e){return t===e}function fl(t=DT){return L((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function DT(){return new yn}function $o(t){return L((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ct(t,e){let n=arguments.length>=2;return r=>r.pipe(t?st((i,o)=>t(i,o,r)):Le,_n(1),n?$n(e):fl(()=>new yn))}function Ei(t){return t<=0?()=>it:L((e,n)=>{let r=[];e.subscribe(O(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Od(t,e){let n=arguments.length>=2;return r=>r.pipe(t?st((i,o)=>t(i,o,r)):Le,Ei(1),n?$n(e):fl(()=>new yn))}function Ii(t,e){return L(ky(t,e,arguments.length>=2,!0))}function Ho(t={}){let{connector:e=()=>new Ee,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},p=()=>{let g=s;h(),g?.unsubscribe()};return L((g,D)=>{c++,!d&&!u&&f();let S=l=l??e();D.add(()=>{c--,c===0&&!d&&!u&&(a=kd(p,i))}),S.subscribe(D),!s&&c>0&&(s=new vn({next:J=>S.next(J),error:J=>{d=!0,f(),a=kd(h,n,J),S.error(J)},complete:()=>{u=!0,f(),a=kd(h,r),S.complete()}}),se(g).subscribe(s))})(o)}}function kd(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new vn({next:()=>{r.unsubscribe(),t()}});return se(e(...n)).subscribe(r)}function hl(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,Ho({connector:()=>new Ka(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Fd(t){return L((e,n)=>{let r=!1,i=0;e.subscribe(O(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}function Ld(...t){let e=qt(t);return L((n,r)=>{(e?wi(t,n,e):wi(t,n)).subscribe(r)})}function pe(t,e){return L((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(O(r,l=>{i?.unsubscribe();let c=0,u=o++;se(t(l,u)).subscribe(i=O(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function pl(t,e){return R(e)?pe(()=>t,e):pe(()=>t)}function Vd(t){return L((e,n)=>{se(t).subscribe(O(n,()=>n.complete(),Ir)),!n.closed&&e.subscribe(n)})}function be(t,e,n){let r=R(t)||e||n?{next:t,error:e,complete:n}:t;return r?L((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(O(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Le}function jd(...t){let e=_i(t);return L((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let l=0;l<i;l++)se(t[l]).subscribe(O(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Le))&&(s=null))},Ir));n.subscribe(O(r,l=>{if(a){let c=[l,...o];r.next(e?e(...c):c)}}))})}var C_="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(ch(e,n)),this.code=e}};function ch(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var nf=class extends Ee{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=z(null);try{super.next(e)}finally{z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Bd(o),i&&(i=Bd(i)),s&&(s=Bd(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof we&&e.add(a),a}};function Bd(t){return e=>{setTimeout(t,void 0,e)}}var oe=nf;var $=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($||{});function lt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(lt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function rf(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var w_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(w_||{}),Yt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yt||{});function as(t){return{toString:t}.toString()}var je=globalThis;var Ni={},at=[];function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function ET(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var IT=ae({\u0275cmp:ae}),bT=ae({\u0275dir:ae}),ST=ae({\u0275pipe:ae}),TT=ae({\u0275mod:ae}),Ml=ae({\u0275fac:ae}),Go=ae({__NG_ELEMENT_ID__:ae}),Fy=ae({__NG_ENV_ID__:ae}),Ae=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ae||{});function D_(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function of(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];MT(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function E_(t){return t===3||t===4||t===6}function MT(t){return t.charCodeAt(0)===64}function zo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ly(t,n,i,null,e[++r]):Ly(t,n,i,null,null))}}return t}function Ly(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var I_="ng-template";function AT(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&D_(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function b_(t){return t.type===4&&t.value!==I_}function xT(t,e,n){let r=t.type===4&&!n?I_:t.value;return e===r}function NT(t,e,n){let r=4,i=t.attrs||[],o=OT(i),s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Pt(r)&&!Pt(l))return!1;if(s&&Pt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!xT(t,l,n)||l===""&&e.length===1){if(Pt(r))return!1;s=!0}}else{let c=r&8?l:e[++a];if(r&8&&t.attrs!==null){if(!AT(t.attrs,c,n)){if(Pt(r))return!1;s=!0}continue}let u=r&8?"class":l,d=RT(u,i,b_(t),n);if(d===-1){if(Pt(r))return!1;s=!0;continue}if(c!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let h=r&8?f:null;if(h&&D_(h,c,0)!==-1||r&2&&c!==f){if(Pt(r))return!1;s=!0}}}}return Pt(r)||s}function Pt(t){return(t&1)===0}function RT(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kT(e,t)}function PT(t,e,n=!1){for(let r=0;r<e.length;r++)if(NT(t,e[r],n))return!0;return!1}function OT(t){for(let e=0;e<t.length;e++){let n=t[e];if(E_(n))return e}return t.length}function kT(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Vy(t,e){return t?":not("+e.trim()+")":e}function FT(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Pt(s)&&(e+=Vy(o,i),i=""),r=s,o=o||!Pt(r);n++}return i!==""&&(e+=Vy(o,i)),e}function LT(t){return t.map(FT).join(",")}function VT(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Pt(i))break;i=o}r++}return{attrs:e,classes:n}}function X(t){return as(()=>{let e=x_(t),n=ne(y({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===w_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,styles:t.styles||at,_:null,schemas:t.schemas||null,tView:null,id:""});N_(n);let r=t.dependencies;return n.directiveDefs=By(r,!1),n.pipeDefs=By(r,!0),n.id=UT(n),n})}function jT(t){return Wn(t)||S_(t)}function BT(t){return t!==null}function _e(t){return as(()=>({type:t.type,bootstrap:t.bootstrap||at,declarations:t.declarations||at,imports:t.imports||at,exports:t.exports||at,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jy(t,e){if(t==null)return Ni;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Ae.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Ae.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ge(t){return as(()=>{let e=x_(t);return N_(e),e})}function Wn(t){return t[IT]||null}function S_(t){return t[bT]||null}function T_(t){return t[ST]||null}function M_(t){let e=Wn(t)||S_(t)||T_(t);return e!==null?e.standalone:!1}function A_(t,e){let n=t[TT]||null;if(!n&&e===!0)throw new Error(`Type ${lt(t)} does not have '\u0275mod' property.`);return n}function x_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ni,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||at,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jy(t.inputs,e),outputs:jy(t.outputs),debugInfo:null}}function N_(t){t.features?.forEach(e=>e(t))}function By(t,e){if(!t)return null;let n=e?T_:jT;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(BT)}function UT(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var bn=0,k=1,N=2,Be=3,kt=4,jt=5,qo=6,Ko=7,$e=8,Ri=9,Cn=10,Se=11,Qo=12,Uy=13,ji=14,Ft=15,ls=16,bi=17,wn=18,ql=19,R_=20,Gn=21,Ud=22,xr=23,Lt=25,P_=1;var Nr=7,Al=8,Pi=9,He=10,uh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(uh||{});function Mr(t){return Array.isArray(t)&&typeof t[P_]=="object"}function Sn(t){return Array.isArray(t)&&t[P_]===!0}function O_(t){return(t.flags&4)!==0}function Kl(t){return t.componentOffset>-1}function dh(t){return(t.flags&1)===1}function zn(t){return!!t.template}function $T(t){return(t[N]&512)!==0}var HT="svg",GT="math",WT=!1;function zT(){return WT}function Zt(t){for(;Array.isArray(t);)t=t[bn];return t}function k_(t,e){return Zt(e[t])}function Et(t,e){return Zt(e[t.index])}function fh(t,e){return t.data[e]}function Kn(t,e){let n=e[t];return Mr(n)?n:n[bn]}function qT(t){return(t[N]&4)===4}function hh(t){return(t[N]&128)===128}function KT(t){return Sn(t[Be])}function xl(t,e){return e==null?null:t[e]}function F_(t){t[bi]=0}function QT(t){t[N]&1024||(t[N]|=1024,hh(t)&&Yo(t))}function YT(t,e){for(;t>0;)e=e[ji],t--;return e}function ph(t){return!!(t[N]&9216||t[xr]?.dirty)}function sf(t){ph(t)?Yo(t):t[N]&64&&(zT()?(t[N]|=1024,Yo(t)):t[Cn].changeDetectionScheduler?.notify())}function Yo(t){t[Cn].changeDetectionScheduler?.notify();let e=Zo(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!hh(e)));)e=Zo(e)}function L_(t,e){if((t[N]&256)===256)throw new b(911,!1);t[Gn]===null&&(t[Gn]=[]),t[Gn].push(e)}function ZT(t,e){if(t[Gn]===null)return;let n=t[Gn].indexOf(e);n!==-1&&t[Gn].splice(n,1)}function Zo(t){let e=t[Be];return Sn(e)?e[Be]:e}var H={lFrame:z_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function JT(){return H.lFrame.elementDepthCount}function XT(){H.lFrame.elementDepthCount++}function eM(){H.lFrame.elementDepthCount--}function V_(){return H.bindingsEnabled}function tM(){return H.skipHydrationRootTNode!==null}function nM(t){return H.skipHydrationRootTNode===t}function rM(){H.skipHydrationRootTNode=null}function K(){return H.lFrame.lView}function We(){return H.lFrame.tView}function Vr(t){return H.lFrame.contextLView=t,t[$e]}function jr(t){return H.lFrame.contextLView=null,t}function ct(){let t=j_();for(;t!==null&&t.type===64;)t=t.parent;return t}function j_(){return H.lFrame.currentTNode}function iM(){let t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function cs(t,e){let n=H.lFrame;n.currentTNode=t,n.isParent=e}function B_(){return H.lFrame.isParent}function oM(){H.lFrame.isParent=!1}function U_(){let t=H.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function sM(t){return H.lFrame.bindingIndex=t}function Bi(){return H.lFrame.bindingIndex++}function $_(t){let e=H.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function aM(){return H.lFrame.inI18n}function lM(t,e){let n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,af(e)}function cM(){return H.lFrame.currentDirectiveIndex}function af(t){H.lFrame.currentDirectiveIndex=t}function uM(t){let e=H.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function H_(){return H.lFrame.currentQueryIndex}function gh(t){H.lFrame.currentQueryIndex=t}function dM(t){let e=t[k];return e.type===2?e.declTNode:e.type===1?t[jt]:null}function G_(t,e,n){if(n&$.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&$.Host);)if(i=dM(o),i===null||(o=o[ji],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=H.lFrame=W_();return r.currentTNode=e,r.lView=t,!0}function mh(t){let e=W_(),n=t[k];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function W_(){let t=H.lFrame,e=t===null?null:t.child;return e===null?z_(t):e}function z_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function q_(){let t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var K_=q_;function vh(){let t=q_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fM(t){return(H.lFrame.contextLView=YT(t,H.lFrame.contextLView))[$e]}function Qn(){return H.lFrame.selectedIndex}function Rr(t){H.lFrame.selectedIndex=t}function yh(){let t=H.lFrame;return fh(t.tView,t.selectedIndex)}function hM(){return H.lFrame.currentNamespace}var Q_=!0;function _h(){return Q_}function Ch(t){Q_=t}function pM(){return Ui(ct(),K())}function Ui(t,e){return new Bt(Et(t,e))}var Bt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=pM;let t=e;return t})();function gM(t){return t instanceof Bt?t.nativeElement:t}function mM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function vM(t){return t.flat(Number.POSITIVE_INFINITY)}function wh(t,e){t.forEach(n=>Array.isArray(n)?wh(n,e):e(n))}function Y_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Dh(t,e,n){let r=us(t,e);return r>=0?t[r|1]=n:(r=~r,yM(t,r,e,n)),r}function $d(t,e){let n=us(t,e);if(n>=0)return t[n|1]}function us(t,e){return _M(t,e,1)}function _M(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function CM(){return this._results[Symbol.iterator]()}var lf=class t{get changes(){return this._changes??=new oe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=CM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=vM(e);(this._changesDetected=!mM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Z_(t){return(t.flags&128)===128}var cf;function J_(t){cf=t}function wM(){if(cf!==void 0)return cf;if(typeof document<"u")return document;throw new b(210,!1)}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ce(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ql(t){return $y(t,eC)||$y(t,tC)}function X_(t){return Ql(t)!==null}function $y(t,e){return t.hasOwnProperty(e)?t[e]:null}function DM(t){let e=t&&(t[eC]||t[tC]);return e||null}function Hy(t){return t&&(t.hasOwnProperty(Gy)||t.hasOwnProperty(EM))?t[Gy]:null}var eC=ae({\u0275prov:ae}),Gy=ae({\u0275inj:ae}),tC=ae({ngInjectableDef:ae}),EM=ae({ngInjectorDef:ae}),C=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Yl=new C("",{providedIn:"root",factory:()=>IM}),IM="ng",Eh=new C(""),ut=new C("",{providedIn:"platform",factory:()=>"unknown"});var Ih=new C("",{providedIn:"root",factory:()=>wM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var bM=ae({__forward_ref__:ae});function Yn(t){return t.__forward_ref__=Yn,t.toString=function(){return lt(this())},t}function Ye(t){return nC(t)?t():t}function nC(t){return typeof t=="function"&&t.hasOwnProperty(bM)&&t.__forward_ref__===Yn}function rC(t){return t&&!!t.\u0275providers}function Zl(t){return typeof t=="string"?t:t==null?"":String(t)}function SM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Zl(t)}function TM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,t)}function bh(t,e){throw new b(-201,!1)}var uf;function iC(){return uf}function wt(t){let e=uf;return uf=t,e}function oC(t,e,n){let r=Ql(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$.Optional)return null;if(e!==void 0)return e;bh(t,"Injector")}var MM={},Jo=MM,df="__NG_DI_FLAG__",Rl="ngTempTokenPath",AM="ngTokenPath",xM=/\n/gm,NM="\u0275",Wy="__source",Ai;function RM(){return Ai}function Hn(t){let e=Ai;return Ai=t,e}function PM(t,e=$.Default){if(Ai===void 0)throw new b(-203,!1);return Ai===null?oC(t,void 0,e):Ai.get(t,e&$.Optional?null:void 0,e)}function v(t,e=$.Default){return(iC()||PM)(Ye(t),e)}function _(t,e=$.Default){return v(t,Jl(e))}function Jl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ff(t){let e=[];for(let n=0;n<t.length;n++){let r=Ye(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=$.Default;for(let s=0;s<r.length;s++){let a=r[s],l=OM(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(v(i,o))}else e.push(v(r))}return e}function sC(t,e){return t[df]=e,t.prototype[df]=e,t}function OM(t){return t[df]}function kM(t,e,n,r){let i=t[Rl];throw e[Wy]&&i.unshift(e[Wy]),t.message=FM(`
`+t.message,i,n,r),t[AM]=i,t[Rl]=null,t}function FM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==NM?t.slice(2):t;let i=lt(e);if(Array.isArray(e))i=e.map(lt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):lt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(xM,`
  `)}`}var LM="h",VM="b";var jM=()=>null;function Sh(t,e,n=!1){return jM(t,e,n)}var gl="__parameters__";function BM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function aC(t,e,n){return as(()=>{let r=BM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(gl)?l[gl]:Object.defineProperty(l,gl,{value:[]})[gl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ds=sC(aC("Optional"),8);var lC=sC(aC("SkipSelf"),4);function Oi(t,e){let n=t.hasOwnProperty(Ml);return n?t[Ml]:null}var ki=new C(""),cC=new C("",-1),uC=new C(""),Pl=class{get(e,n=Jo){if(n===Jo){let r=new Error(`NullInjectorError: No provider for ${lt(e)}!`);throw r.name="NullInjectorError",r}return n}};function UM(...t){return{\u0275providers:dC(!0,t),\u0275fromNgModule:!0}}function dC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return wh(e,s=>{let a=s;hf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&fC(i,o),n}function fC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Th(i,o=>{e(o,r)})}}function hf(t,e,n,r){if(t=Ye(t),!t)return!1;let i=null,o=Hy(t),s=!o&&Wn(t);if(!o&&!s){let l=t.ngModule;if(o=Hy(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)hf(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{wh(o.imports,u=>{hf(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&fC(c,e)}if(!a){let c=Oi(i)||(()=>new i);e({provide:i,useFactory:c,deps:at},i),e({provide:uC,useValue:i,multi:!0},i),e({provide:ki,useValue:()=>v(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;Th(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Th(t,e){for(let n of t)rC(n)&&(n=n.\u0275providers),Array.isArray(n)?Th(n,e):e(n)}var $M=ae({provide:String,useValue:ae});function hC(t){return t!==null&&typeof t=="object"&&$M in t}function HM(t){return!!(t&&t.useExisting)}function GM(t){return!!(t&&t.useFactory)}function Fi(t){return typeof t=="function"}function WM(t){return!!t.useClass}var Xl=new C(""),Dl={},zM={},Hd;function Mh(){return Hd===void 0&&(Hd=new Pl),Hd}var ft=class{},Xo=class extends ft{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gf(e,s=>this.processProvider(s)),this.records.set(cC,Si(void 0,this)),i.has("environment")&&this.records.set(ft,Si(void 0,this));let o=this.records.get(Xl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(uC,at,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Hn(this),r=wt(void 0),i;try{return e()}finally{Hn(n),wt(r)}}get(e,n=Jo,r=$.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Fy))return e[Fy](this);r=Jl(r);let i,o=Hn(this),s=wt(void 0);try{if(!(r&$.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=ZM(e)&&Ql(e);c&&this.injectableDefInScope(c)?l=Si(pf(e),Dl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&$.Self?Mh():this.parent;return n=r&$.Optional&&n===Jo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Rl]=a[Rl]||[]).unshift(lt(e)),o)throw a;return kM(a,e,"R3InjectorError",this.source)}else throw a}finally{wt(s),Hn(o)}}resolveInjectorInitializers(){let e=z(null),n=Hn(this),r=wt(void 0),i;try{let o=this.get(ki,at,$.Self);for(let s of o)s()}finally{Hn(n),wt(r),z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(lt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=Ye(e);let n=Fi(e)?e:Ye(e&&e.provide),r=KM(e);if(!Fi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Si(void 0,Dl,!0),i.factory=()=>ff(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=z(null);try{return n.value===Dl&&(n.value=zM,n.value=n.factory()),typeof n.value=="object"&&n.value&&YM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ye(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function pf(t){let e=Ql(t),n=e!==null?e.factory:Oi(t);if(n!==null)return n;if(t instanceof C)throw new b(204,!1);if(t instanceof Function)return qM(t);throw new b(204,!1)}function qM(t){if(t.length>0)throw new b(204,!1);let n=DM(t);return n!==null?()=>n.factory(t):()=>new t}function KM(t){if(hC(t))return Si(void 0,t.useValue);{let e=pC(t);return Si(e,Dl)}}function pC(t,e,n){let r;if(Fi(t)){let i=Ye(t);return Oi(i)||pf(i)}else if(hC(t))r=()=>Ye(t.useValue);else if(GM(t))r=()=>t.useFactory(...ff(t.deps||[]));else if(HM(t))r=()=>v(Ye(t.useExisting));else{let i=Ye(t&&(t.useClass||t.provide));if(QM(t))r=()=>new i(...ff(t.deps));else return Oi(i)||pf(i)}return r}function Si(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function QM(t){return!!t.deps}function YM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ZM(t){return typeof t=="function"||typeof t=="object"&&t instanceof C}function gf(t,e){for(let n of t)Array.isArray(n)?gf(n,e):n&&rC(n)?gf(n.\u0275providers,e):e(n)}function Zn(t,e){t instanceof Xo&&t.assertNotDestroyed();let n,r=Hn(t),i=wt(void 0);try{return e()}finally{Hn(r),wt(i)}}function JM(t){if(!iC()&&!RM())throw new b(-203,!1)}function XM(t){let e=je.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function eA(t){return typeof t=="function"}var mf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function gC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function dt(){return mC}function mC(t){return t.type.prototype.ngOnChanges&&(t.setInput=nA),tA}dt.ngInherit=!0;function tA(){let t=yC(this),e=t?.current;if(e){let n=t.previous;if(n===Ni)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nA(t,e,n,r,i){let o=this.declaredInputs[r],s=yC(t)||rA(t,{previous:Ni,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new mf(c&&c.currentValue,n,l===Ni),gC(t,e,i,n)}var vC="__ngSimpleChanges__";function yC(t){return t[vC]||null}function rA(t,e){return t[vC]=e}var zy=null;var Kt=function(t,e,n){zy?.(t,e,n)};function iA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=mC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Ah(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function El(t,e,n){_C(t,e,3,n)}function Il(t,e,n,r){(t[N]&3)===n&&_C(t,e,n,r)}function Gd(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function _C(t,e,n,r){let i=r!==void 0?t[bi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[bi]+=65536),(a<o||o==-1)&&(oA(t,n,e,l),t[bi]=(t[bi]&4294901760)+l+2),l++}function qy(t,e){Kt(4,t,e);let n=z(null);try{e.call(t)}finally{z(n),Kt(5,t,e)}}function oA(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[N]>>14<t[bi]>>16&&(t[N]&3)===e&&(t[N]+=16384,qy(a,o)):qy(a,o)}var xi=-1,Pr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function sA(t){return t instanceof Pr}function aA(t){return(t.flags&8)!==0}function lA(t){return(t.flags&16)!==0}function CC(t){return t!==xi}function Ol(t){return t&32767}function cA(t){return t>>16}function kl(t,e){let n=cA(t),r=e;for(;n>0;)r=r[ji],n--;return r}var vf=!0;function Ky(t){let e=vf;return vf=t,e}var uA=256,wC=uA-1,DC=5,dA=0,Qt={};function fA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Go)&&(r=n[Go]),r==null&&(r=n[Go]=dA++);let i=r&wC,o=1<<i;e.data[t+(i>>DC)]|=o}function Fl(t,e){let n=EC(t,e);if(n!==-1)return n;let r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,Wd(r.data,t),Wd(e,null),Wd(r.blueprint,null));let i=xh(t,e),o=t.injectorIndex;if(CC(i)){let s=Ol(i),a=kl(i,e),l=a[k].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Wd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function EC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function xh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=MC(i),r===null)return xi;if(n++,i=i[ji],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return xi}function yf(t,e,n){fA(t,e,n)}function hA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(E_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function IC(t,e,n){if(n&$.Optional||t!==void 0)return t;bh(e,"NodeInjector")}function bC(t,e,n,r){if(n&$.Optional&&r===void 0&&(r=null),!(n&($.Self|$.Host))){let i=t[Ri],o=wt(void 0);try{return i?i.get(e,r,n&$.Optional):oC(e,r,n&$.Optional)}finally{wt(o)}}return IC(r,e,n)}function SC(t,e,n,r=$.Default,i){if(t!==null){if(e[N]&2048&&!(r&$.Self)){let s=vA(t,e,n,r,Qt);if(s!==Qt)return s}let o=TC(t,e,n,r,Qt);if(o!==Qt)return o}return bC(e,n,r,i)}function TC(t,e,n,r,i){let o=gA(n);if(typeof o=="function"){if(!G_(e,t,r))return r&$.Host?IC(i,n,r):bC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&$.Optional))bh(n);else return s}finally{K_()}}else if(typeof o=="number"){let s=null,a=EC(t,e),l=xi,c=r&$.Host?e[Ft][jt]:null;for((a===-1||r&$.SkipSelf)&&(l=a===-1?xh(t,e):e[a+8],l===xi||!Yy(r,!1)?a=-1:(s=e[k],a=Ol(l),e=kl(l,e)));a!==-1;){let u=e[k];if(Qy(o,a,u.data)){let d=pA(a,e,n,s,r,c);if(d!==Qt)return d}l=e[a+8],l!==xi&&Yy(r,e[k].data[a+8]===c)&&Qy(o,a,e)?(s=u,a=Ol(l),e=kl(l,e)):a=-1}}return i}function pA(t,e,n,r,i,o){let s=e[k],a=s.data[t+8],l=r==null?Kl(a)&&vf:r!=s&&(a.type&3)!==0,c=i&$.Host&&o===a,u=bl(a,s,n,l,c);return u!==null?Or(e,s,u,a):Qt}function bl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){let h=s[l];if(h&&zn(h)&&h.type===n)return l}return null}function Or(t,e,n,r){let i=t[n],o=e.data;if(sA(i)){let s=i;s.resolving&&TM(SM(o[n]));let a=Ky(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?wt(s.injectImpl):null,u=G_(t,r,$.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&iA(n,o[n],e)}finally{c!==null&&wt(c),Ky(a),s.resolving=!1,K_()}}return i}function gA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Go)?t[Go]:void 0;return typeof e=="number"?e>=0?e&wC:mA:e}function Qy(t,e,n){let r=1<<t;return!!(n[e+(t>>DC)]&r)}function Yy(t,e){return!(t&$.Self)&&!(t&$.Host&&e)}var Ar=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return SC(this._tNode,this._lView,e,Jl(r),n)}};function mA(){return new Ar(ct(),K())}function $i(t){return as(()=>{let e=t.prototype.constructor,n=e[Ml]||_f(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ml]||_f(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _f(t){return nC(t)?()=>{let e=_f(Ye(t));return e&&e()}:Oi(t)}function vA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[N]&2048&&!(s[N]&512);){let a=TC(o,s,n,r|$.Self,Qt);if(a!==Qt)return a;let l=o.parent;if(!l){let c=s[R_];if(c){let u=c.get(n,Qt,r);if(u!==Qt)return u}l=MC(s),s=s[ji]}o=l}return i}function MC(t){let e=t[k],n=e.type;return n===2?e.declTNode:n===1?t[jt]:null}function Nh(t){return hA(ct(),t)}function Zy(t,e=null,n=null,r){let i=AC(t,e,n,r);return i.resolveInjectorInitializers(),i}function AC(t,e=null,n=null,r,i=new Set){let o=[n||at,UM(t)];return r=r||(typeof t=="object"?void 0:lt(t)),new Xo(o,e||Mh(),r||null,i)}var Ut=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Zy({name:""},i,r,"");{let o=r.name??"";return Zy({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Jo,e.NULL=new Pl,e.\u0275prov=E({token:e,providedIn:"any",factory:()=>v(cC)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),yA="ngOriginalError";function zd(t){return t[yA]}var Jt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zd(e);for(;n&&zd(n);)n=zd(n);return n||null}},xC=new C("",{providedIn:"root",factory:()=>_(Jt).handleError.bind(void 0)});var NC=!1,_A=new C("",{providedIn:"root",factory:()=>NC}),ml;function CA(){if(ml===void 0&&(ml=null,je.trustedTypes))try{ml=je.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ml}function ec(t){return CA()?.createHTML(t)||t}var vl;function wA(){if(vl===void 0&&(vl=null,je.trustedTypes))try{vl=je.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return vl}function Jy(t){return wA()?.createScriptURL(t)||t}var Dn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${C_})`}},Cf=class extends Dn{getTypeName(){return"HTML"}},wf=class extends Dn{getTypeName(){return"Style"}},Df=class extends Dn{getTypeName(){return"Script"}},Ef=class extends Dn{getTypeName(){return"URL"}},If=class extends Dn{getTypeName(){return"ResourceURL"}};function $t(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function Jn(t,e){let n=DA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${C_})`)}return n===e}function DA(t){return t instanceof Dn&&t.getTypeName()||null}function RC(t){return new Cf(t)}function PC(t){return new wf(t)}function OC(t){return new Df(t)}function kC(t){return new Ef(t)}function FC(t){return new If(t)}function EA(t){let e=new Sf(t);return IA()?new bf(e):e}var bf=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(ec(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Sf=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=ec(e),n}};function IA(){try{return!!new window.DOMParser().parseFromString(ec(""),"text/html")}catch{return!1}}var bA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tc(t){return t=String(t),t.match(bA)?t:"unsafe:"+t}function Tn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function fs(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var LC=Tn("area,br,col,hr,img,wbr"),VC=Tn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jC=Tn("rp,rt"),SA=fs(jC,VC),TA=fs(VC,Tn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),MA=fs(jC,Tn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xy=fs(LC,TA,MA,SA),BC=Tn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),AA=Tn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xA=Tn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),NA=fs(BC,AA,xA),RA=Tn("script,style,template"),Tf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!Xy.hasOwnProperty(n))return this.sanitizedSomething=!0,!RA.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!NA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;BC[a]&&(l=tc(l)),this.buf.push(" ",s,'="',e_(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();Xy.hasOwnProperty(n)&&!LC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(e_(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},PA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OA=/([^\#-~ |!])/g;function e_(t){return t.replace(/&/g,"&amp;").replace(PA,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(OA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var yl;function UC(t,e){let n=null;try{yl=yl||EA(t);let r=e?String(e):"";n=yl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=yl.getInertBodyElement(r)}while(r!==o);let a=new Tf().sanitizeChildren(t_(n)||n);return ec(a)}finally{if(n){let r=t_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function t_(t){return"content"in t&&kA(t)?t.content:null}function kA(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Xt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xt||{});function FA(t){let e=HC();return e?e.sanitize(Xt.URL,t)||"":Jn(t,"URL")?$t(t):tc(Zl(t))}function LA(t){let e=HC();if(e)return Jy(e.sanitize(Xt.RESOURCE_URL,t)||"");if(Jn(t,"ResourceURL"))return Jy($t(t));throw new b(904,!1)}function VA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?LA:FA}function $C(t,e,n){return VA(e,n)(t)}function HC(){let t=K();return t&&t[Cn].sanitizer}var GC=new Map,jA=0;function BA(){return jA++}function UA(t){GC.set(t[ql],t)}function $A(t){GC.delete(t[ql])}var n_="__ngContext__";function kr(t,e){Mr(e)?(t[n_]=e[ql],UA(e)):t[n_]=e}function WC(t){return t instanceof Function?t():t}function HA(t){return(t??_(Ut)).get(ut)==="browser"}var En=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(En||{}),GA;function Rh(t,e){return GA(t,e)}function Ti(t,e,n,r,i){if(r!=null){let o,s=!1;Sn(r)?o=r:Mr(r)&&(s=!0,r=r[bn]);let a=Zt(r);t===0&&n!==null?i==null?QC(e,n,a):Ll(e,n,a,i||null,!0):t===1&&n!==null?Ll(e,n,a,i||null,!0):t===2?ax(e,a,s):t===3&&e.destroyNode(a),o!=null&&cx(e,t,o,n,i)}}function WA(t,e){return t.createText(e)}function zA(t,e,n){t.setValue(e,n)}function zC(t,e,n){return t.createElement(e,n)}function qA(t,e){qC(t,e),e[bn]=null,e[jt]=null}function KA(t,e,n,r,i,o){r[bn]=i,r[jt]=e,rc(t,r,n,1,i,o)}function qC(t,e){rc(t,e,e[Se],2,null,null)}function QA(t){let e=t[Qo];if(!e)return qd(t[k],t);for(;e;){let n=null;if(Mr(e))n=e[Qo];else{let r=e[He];r&&(n=r)}if(!n){for(;e&&!e[kt]&&e!==t;)Mr(e)&&qd(e[k],e),e=e[Be];e===null&&(e=t),Mr(e)&&qd(e[k],e),n=e&&e[kt]}e=n}}function YA(t,e,n,r){let i=He+r,o=n.length;r>0&&(n[i-1][kt]=e),r<o-He?(e[kt]=n[i],Y_(n,He+r,e)):(n.push(e),e[kt]=null),e[Be]=n;let s=e[ls];s!==null&&n!==s&&ZA(s,e);let a=e[wn];a!==null&&a.insertView(t),sf(e),e[N]|=128}function ZA(t,e){let n=t[Pi],i=e[Be][Be][Ft];e[Ft]!==i&&(t[N]|=uh.HasTransplantedViews),n===null?t[Pi]=[e]:n.push(e)}function KC(t,e){let n=t[Pi],r=n.indexOf(e);n.splice(r,1)}function es(t,e){if(t.length<=He)return;let n=He+e,r=t[n];if(r){let i=r[ls];i!==null&&i!==t&&KC(i,r),e>0&&(t[n-1][kt]=r[kt]);let o=Nl(t,He+e);qA(r[k],r);let s=o[wn];s!==null&&s.detachView(o[k]),r[Be]=null,r[kt]=null,r[N]&=-129}return r}function nc(t,e){if(!(e[N]&256)){let n=e[Se];n.destroyNode&&rc(t,e,n,3,null,null),QA(e)}}function qd(t,e){if(e[N]&256)return;let n=z(null);try{e[N]&=-129,e[N]|=256,e[xr]&&py(e[xr]),XA(t,e),JA(t,e),e[k].type===1&&e[Se].destroy();let r=e[ls];if(r!==null&&Sn(e[Be])){r!==e[Be]&&KC(r,e);let i=e[wn];i!==null&&i.detachView(t)}$A(e)}finally{z(n)}}function JA(t,e){let n=t.cleanup,r=e[Ko];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ko]=null);let i=e[Gn];if(i!==null){e[Gn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function XA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Pr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Kt(4,a,l);try{l.call(a)}finally{Kt(5,a,l)}}else{Kt(4,i,o);try{o.call(i)}finally{Kt(5,i,o)}}}}}function ex(t,e,n){return tx(t,e.parent,n)}function tx(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[bn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Yt.None||o===Yt.Emulated)return null}return Et(r,n)}}function Ll(t,e,n,r,i){t.insertBefore(e,n,r,i)}function QC(t,e,n){t.appendChild(e,n)}function r_(t,e,n,r,i){r!==null?Ll(t,e,n,r,i):QC(t,e,n)}function nx(t,e,n,r){t.removeChild(e,n,r)}function Ph(t,e){return t.parentNode(e)}function rx(t,e){return t.nextSibling(e)}function ix(t,e,n){return sx(t,e,n)}function ox(t,e,n){return t.type&40?Et(t,n):null}var sx=ox,i_;function Oh(t,e,n,r){let i=ex(t,r,e),o=e[Se],s=r.parent||e[jt],a=ix(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)r_(o,i,n[l],a,!1);else r_(o,i,n,a,!1);i_!==void 0&&i_(o,r,e,n,i)}function Sl(t,e){if(e!==null){let n=e.type;if(n&3)return Et(e,t);if(n&4)return Mf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Sl(t,r);{let i=t[e.index];return Sn(i)?Mf(-1,i):Zt(i)}}else{if(n&32)return Rh(e,t)()||Zt(t[e.index]);{let r=YC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Zo(t[Ft]);return Sl(i,r)}else return Sl(t,e.next)}}}return null}function YC(t,e){if(e!==null){let r=t[Ft][jt],i=e.projection;return r.projection[i]}return null}function Mf(t,e){let n=He+t+1;if(n<e.length){let r=e[n],i=r[k].firstChild;if(i!==null)return Sl(r,i)}return e[Nr]}function ax(t,e,n){let r=Ph(t,e);r&&nx(t,r,e,n)}function kh(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],l=n.type;if(s&&e===0&&(a&&kr(Zt(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)kh(t,e,n.child,r,i,o,!1),Ti(e,t,i,a,o);else if(l&32){let c=Rh(n,r),u;for(;u=c();)Ti(e,t,i,u,o);Ti(e,t,i,a,o)}else l&16?lx(t,e,r,n,i,o):Ti(e,t,i,a,o);n=s?n.projectionNext:n.next}}function rc(t,e,n,r,i,o){kh(n,r,t.firstChild,e,i,o,!1)}function lx(t,e,n,r,i,o){let s=n[Ft],l=s[jt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Ti(e,t,i,u,o)}else{let c=l,u=s[Be];Z_(r)&&(c.flags|=128),kh(t,e,c,u,i,o,!0)}}function cx(t,e,n,r,i){let o=n[Nr],s=Zt(n);o!==s&&Ti(e,t,r,o,i);for(let a=He;a<n.length;a++){let l=n[a];rc(l[k],l,t,e,r,o)}}function ux(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:En.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=En.Important),t.setStyle(n,r,i,o))}}function dx(t,e,n){t.setAttribute(e,"style",n)}function ZC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function JC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&of(t,e,r),i!==null&&ZC(t,e,i),o!==null&&dx(t,e,o)}var Mn={};function Q(t=1){XC(We(),K(),Qn()+t,!1)}function XC(t,e,n,r){if(!r)if((e[N]&3)===3){let o=t.preOrderCheckHooks;o!==null&&El(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Il(e,o,0,n)}Rr(n)}function w(t,e=$.Default){let n=K();if(n===null)return v(t,e);let r=ct();return SC(r,n,Ye(t),e)}function ew(){let t="invalid";throw new Error(t)}function tw(t,e,n,r,i,o){let s=z(null);try{let a=null;i&Ae.SignalBased&&(a=e[r][gd]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ae.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):gC(e,a,r,o)}finally{z(s)}}function fx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Rr(~i);else{let o=i,s=n[++r],a=n[++r];lM(s,o);let l=e[o];a(2,l)}}}finally{Rr(-1)}}function ic(t,e,n,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[bn]=i,d[N]=r|4|128|8|64,(c!==null||t&&t[N]&2048)&&(d[N]|=2048),F_(d),d[Be]=d[ji]=t,d[$e]=n,d[Cn]=s||t&&t[Cn],d[Se]=a||t&&t[Se],d[Ri]=l||t&&t[Ri]||null,d[jt]=o,d[ql]=BA(),d[qo]=u,d[R_]=c,d[Ft]=e.type==2?t[Ft]:d,d}function oc(t,e,n,r,i){let o=t.data[e];if(o===null)o=hx(t,e,n,r,i),aM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=iM();o.injectorIndex=s===null?-1:s.injectorIndex}return cs(o,!0),o}function hx(t,e,n,r,i){let o=j_(),s=B_(),a=s?o:o&&o.parent,l=t.data[e]=_x(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function nw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function rw(t,e,n,r,i){let o=Qn(),s=r&2;try{Rr(-1),s&&e.length>Lt&&XC(t,e,Lt,!1),Kt(s?2:0,i),n(r,i)}finally{Rr(o),Kt(s?3:1,i)}}function iw(t,e,n){if(O_(e)){let r=z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{z(r)}}}function ow(t,e,n){V_()&&(bx(t,e,n,Et(n,e)),(n.flags&64)===64&&dw(t,e,n))}function sw(t,e,n=Et){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function aw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Fh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Fh(t,e,n,r,i,o,s,a,l,c,u){let d=Lt+r,f=d+i,h=px(d,f),p=typeof c=="function"?c():c;return h[k]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function px(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Mn);return n}function gx(t,e,n,r){let o=r.get(_A,NC)||n===Yt.ShadowDom,s=t.selectRootElement(e,o);return mx(s),s}function mx(t){vx(t)}var vx=()=>null;function yx(t,e,n,r){let i=pw(e);i.push(n),t.firstCreatePass&&gw(t).push(r,i.length-1)}function _x(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return tM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function o_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=Ae.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?s_(r,n,c,a,l):s_(r,n,c,a)}return r}function s_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Cx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;l=o_(0,d.inputs,u,l,h),c=o_(1,d.outputs,u,c,p);let g=l!==null&&s!==null&&!b_(e)?Fx(l,u,s):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function wx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function lw(t,e,n,r,i,o,s,a){let l=Et(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(Lh(t,n,u,r,i),Kl(e)&&Dx(n,e.index)):e.type&3?(r=wx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function Dx(t,e){let n=Kn(e,t);n[N]&16||(n[N]|=64)}function cw(t,e,n,r){if(V_()){let i=r===null?null:{"":-1},o=Tx(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&uw(t,e,n,s,i,a),i&&Mx(n,r,i)}n.mergedAttrs=zo(n.mergedAttrs,n.attrs)}function uw(t,e,n,r,i,o){for(let c=0;c<r.length;c++)yf(Fl(n,e),t,r[c].type);xx(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=nw(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=zo(n.mergedAttrs,u.hostAttrs),Nx(t,n,e,l,u),Ax(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}Cx(t,n,o)}function Ex(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Ix(s)!=a&&s.push(a),s.push(n,r,o)}}function Ix(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function bx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Kl(n)&&Rx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fl(n,e),kr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=Or(e,t,a,n);if(kr(c,e),s!==null&&kx(e,a-i,c,l,n,s),zn(l)){let u=Kn(n.index,e);u[$e]=Or(e,t,a,n)}}}function dw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=cM();try{Rr(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];af(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Sx(l,c)}}finally{Rr(-1),af(s)}}function Sx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Tx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(PT(e,s.selectors,!1))if(r||(r=[]),zn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Af(t,e,l)}else r.unshift(s),Af(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Af(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Mx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new b(-301,!1);r.push(e[i],o)}}}function Ax(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zn(e)&&(n[""]=t)}}function xx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Nx(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Oi(i.type,!0)),s=new Pr(o,zn(i),w);t.blueprint[r]=s,n[r]=s,Ex(t,e,r,nw(t,n,i.hostVars,Mn),i)}function Rx(t,e,n){let r=Et(e,t),i=aw(n),o=t[Cn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=sc(t,ic(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Px(t,e,n,r,i,o){let s=Et(t,e);Ox(e[Se],s,o,t.value,n,r,i)}function Ox(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Zl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function kx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];tw(r,n,l,c,u,d)}}function Fx(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function fw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function hw(t,e){let n=t.contentQueries;if(n!==null){let r=z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];gh(o),a.contentQueries(2,e[s],s)}}}finally{z(r)}}}function sc(t,e){return t[Qo]?t[Uy][kt]=e:t[Qo]=e,t[Uy]=e,e}function xf(t,e,n){gh(0);let r=z(null);try{e(t,n)}finally{z(r)}}function pw(t){return t[Ko]||(t[Ko]=[])}function gw(t){return t.cleanup||(t.cleanup=[])}function mw(t,e){let n=t[Ri],r=n?n.get(Jt,null):null;r&&r.handleError(e)}function Lh(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=e[s],u=t.data[s];tw(u,c,r,a,l,i)}}function Lx(t,e,n){let r=k_(e,t);zA(t[Se],r,n)}function Vx(t,e){let n=Kn(e,t),r=n[k];jx(r,n);let i=n[bn];i!==null&&n[qo]===null&&(n[qo]=Sh(i,n[Ri])),Vh(r,n,n[$e])}function jx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Vh(t,e,n){mh(e);try{let r=t.viewQuery;r!==null&&xf(1,r,n);let i=t.template;i!==null&&rw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wn]?.finishViewCreation(t),t.staticContentQueries&&hw(t,e),t.staticViewQueries&&xf(2,t.viewQuery,n);let o=t.components;o!==null&&Bx(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,vh()}}function Bx(t,e){for(let n=0;n<e.length;n++)Vx(t,e[n])}function ac(t,e,n,r){let i=z(null);try{let o=e.tView,a=t[N]&4096?4096:16,l=ic(t,o,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];l[ls]=c;let u=t[wn];return u!==null&&(l[wn]=u.createEmbeddedView(o)),Vh(o,l,n),l}finally{z(i)}}function vw(t,e){let n=He+e;if(n<t.length)return t[n]}function ts(t,e){return!e||e.firstChild===null||Z_(t)}function lc(t,e,n,r=!0){let i=e[k];if(YA(i,e,t,n),r){let s=Mf(n,t),a=e[Se],l=Ph(a,t[Nr]);l!==null&&KA(i,t[jt],a,e,l,s)}let o=e[qo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function yw(t,e){let n=es(t,e);return n!==void 0&&nc(n[k],n),n}function Vl(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Zt(o)),Sn(o)&&Ux(o,r);let s=n.type;if(s&8)Vl(t,e,n.child,r);else if(s&32){let a=Rh(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=YC(e,n);if(Array.isArray(a))r.push(...a);else{let l=Zo(e[Ft]);Vl(l[k],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ux(t,e){for(let n=He;n<t.length;n++){let r=t[n],i=r[k].firstChild;i!==null&&Vl(r[k],r,i,e)}t[Nr]!==t[bn]&&e.push(t[Nr])}var _w=[];function $x(t){return t[xr]??Hx(t)}function Hx(t){let e=_w.pop()??Object.create(Wx);return e.lView=t,e}function Gx(t){t.lView[xr]!==t&&(t.lView=null,_w.push(t))}var Wx=ne(y({},dy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yo(t.lView)},consumerOnSignalRead(){this.lView[xr]=this}});function Cw(t){return Dw(t[Qo])}function ww(t){return Dw(t[kt])}function Dw(t){for(;t!==null&&!Sn(t);)t=t[kt];return t}var Ew=100;function Iw(t,e=!0,n=0){let r=t[Cn],i=r.rendererFactory,o=!1;o||i.begin?.();try{zx(t,n)}catch(s){throw e&&mw(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function zx(t,e){Nf(t,e);let n=0;for(;ph(t);){if(n===Ew)throw new b(103,!1);n++,Nf(t,1)}}function qx(t,e,n,r){let i=e[N];if((i&256)===256)return;let o=!1;!o&&e[Cn].inlineEffectRunner?.flush(),mh(e);let s=null,a=null;!o&&Kx(t)&&(a=$x(e),s=fy(a));try{F_(e),sM(t.bindingStartIndex),n!==null&&rw(t,e,n,2,r);let l=(i&3)===3;if(!o)if(l){let d=t.preOrderCheckHooks;d!==null&&El(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Il(e,d,0,null),Gd(e,0)}if(Qx(e),bw(e,0),t.contentQueries!==null&&hw(t,e),!o)if(l){let d=t.contentCheckHooks;d!==null&&El(e,d)}else{let d=t.contentHooks;d!==null&&Il(e,d,1),Gd(e,1)}fx(t,e);let c=t.components;c!==null&&Tw(e,c,0);let u=t.viewQuery;if(u!==null&&xf(2,u,r),!o)if(l){let d=t.viewCheckHooks;d!==null&&El(e,d)}else{let d=t.viewHooks;d!==null&&Il(e,d,2),Gd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ud]){for(let d of e[Ud])d();e[Ud]=null}o||(e[N]&=-73)}catch(l){throw Yo(e),l}finally{a!==null&&(hy(a,s),Gx(a)),vh()}}function Kx(t){return t.type!==2}function bw(t,e){for(let n=Cw(t);n!==null;n=ww(n))for(let r=He;r<n.length;r++){let i=n[r];Sw(i,e)}}function Qx(t){for(let e=Cw(t);e!==null;e=ww(e)){if(!(e[N]&uh.HasTransplantedViews))continue;let n=e[Pi];for(let r=0;r<n.length;r++){let i=n[r],o=i[Be];QT(i)}}}function Yx(t,e,n){let r=Kn(e,t);Sw(r,n)}function Sw(t,e){hh(t)&&Nf(t,e)}function Nf(t,e){let r=t[k],i=t[N],o=t[xr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&md(o)),o&&(o.dirty=!1),t[N]&=-9217,s)qx(r,t,r.template,t[$e]);else if(i&8192){bw(t,1);let a=r.components;a!==null&&Tw(t,a,1)}}function Tw(t,e,n){for(let r=0;r<e.length;r++)Yx(t,e[r],n)}function jh(t){for(t[Cn].changeDetectionScheduler?.notify();t;){t[N]|=64;let e=Zo(t);if($T(t)&&!e)return t;t=e}return null}var Fr=class{get rootNodes(){let e=this._lView,n=e[k];return Vl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return(this._lView[N]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Be];if(Sn(e)){let n=e[Al],r=n?n.indexOf(this):-1;r>-1&&(es(e,r),Nl(n,r))}this._attachedToViewContainer=!1}nc(this._lView[k],this._lView)}onDestroy(e){L_(this._lView,e)}markForCheck(){jh(this._cdRefInjectingView||this._lView)}detach(){this._lView[N]&=-129}reattach(){sf(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,Iw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,qC(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e,sf(this._lView)}},ns=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Xx;let t=e;return t})(),Zx=ns,Jx=class extends Zx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ac(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Fr(i)}};function Xx(){return Bh(ct(),K())}function Bh(t,e){return t.type&4?new Jx(e,t,Ui(t,e)):null}var RG=new RegExp(`^(\\d+)*(${VM}|${LM})*(.*)`);var eN=()=>null;function rs(t,e){return eN(t,e)}var Rf=class{},Pf=class{},jl=class{};function tN(t){let e=Error(`No component factory found for ${lt(t)}.`);return e[nN]=t,e}var nN="ngComponent";var Of=class{resolveComponentFactory(e){throw tN(e)}},cc=(()=>{let e=class e{};e.NULL=new Of;let t=e;return t})(),is=class{},An=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>rN();let t=e;return t})();function rN(){let t=K(),e=ct(),n=Kn(e.index,t);return(Mr(n)?n:t)[Se]}var iN=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Kd={},Mw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),kf=class extends Mw{constructor(e){super(),this._lView=e}onDestroy(e){return L_(this._lView,e),()=>ZT(this._lView,e)}};function oN(){return new kf(K())}var a_=new Set;function hs(t){a_.has(t)||(a_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function l_(...t){}function sN(){let t=typeof je.requestAnimationFrame=="function",e=je[t?"requestAnimationFrame":"setTimeout"],n=je[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var q=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oe(!1),this.onMicrotaskEmpty=new oe(!1),this.onStable=new oe(!1),this.onError=new oe(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=sN().nativeRequestAnimationFrame,cN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,aN,l_,l_);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},aN={};function Uh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lN(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(je,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ff(t),t.isCheckStableRunning=!0,Uh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ff(t))}function cN(t){let e=()=>{lN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(uN(a))return n.invokeTask(i,o,s,a);try{return c_(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),u_(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return c_(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),u_(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Ff(t),Uh(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Ff(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function c_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function u_(t){t._nesting--,Uh(t)}var Lf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oe,this.onMicrotaskEmpty=new oe,this.onStable=new oe,this.onError=new oe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function uN(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function dN(t="zone.js",e){return t==="noop"?new Lf:t==="zone.js"?new q(e):t}var Mi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Mi||{}),fN={destroy(){}};function $h(t,e){!e&&JM($h);let n=e?.injector??_(Ut);if(!HA(n))return fN;hs("NgAfterNextRender");let r=n.get(Hh),i=r.handler??=new jf,o=e?.phase??Mi.MixedReadWrite,s=()=>{i.unregister(l),a()},a=n.get(Mw).onDestroy(s),l=new Vf(n,o,()=>{s(),t()});return i.register(l),{destroy:s}}var Vf=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(q),this.errorHandler=e.get(Jt,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},jf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Mi.EarlyRead]:new Set,[Mi.Write]:new Set,[Mi.MixedReadWrite]:new Set,[Mi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Hh=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Bf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=rf(i,a);else if(o==2){let l=a,c=e[++s];r=rf(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Bl=class extends cc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Wn(e);return new Li(n,this.ngModule)}};function d_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function hN(t){let e=t.toLowerCase();return e==="svg"?HT:e==="math"?GT:null}var Uf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Jl(r);let i=this.injector.get(e,Kd,r);return i!==Kd||n===Kd?i:this.parentInjector.get(e,n,r)}},Li=class extends jl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=d_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return d_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=LT(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=z(null);try{i=i||this.ngModule;let s=i instanceof ft?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Uf(e,s):e,l=a.get(is,null);if(l===null)throw new b(407,!1);let c=a.get(iN,null),u=a.get(Hh,null),d=a.get(Rf,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?gx(h,r,this.componentDef.encapsulation,a):zC(h,p,hN(p)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let S=null;g!==null&&(S=Sh(g,a,!0));let J=Fh(0,null,null,1,0,null,null,null,null,null,null),P=ic(null,J,null,D,null,null,f,h,a,null,S);mh(P);let he,de;try{let ye=this.componentDef,Ke,Dr=null;ye.findHostDirectiveDefs?(Ke=[],Dr=new Map,ye.findHostDirectiveDefs(ye,Ke,Dr),Ke.push(ye)):Ke=[ye];let KS=pN(P,g),QS=gN(KS,g,ye,Ke,P,f,h);de=fh(J,Lt),g&&yN(h,ye,g,r),n!==void 0&&_N(de,this.ngContentSelectors,n),he=vN(QS,ye,Ke,Dr,P,[CN]),Vh(J,P,null)}finally{vh()}return new $f(this.componentType,he,Ui(de,P),P,de)}finally{z(o)}}},$f=class extends Pf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Lh(o[k],o,i,e,n),this.previousInputValues.set(e,n);let s=Kn(this._tNode.index,o);jh(s)}}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function pN(t,e){let n=t[k],r=Lt;return t[r]=e,oc(n,r,2,"#host",null)}function gN(t,e,n,r,i,o,s){let a=i[k];mN(r,t,e,s);let l=null;e!==null&&(l=Sh(e,i[Ri]));let c=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=ic(i,aw(n),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&Af(a,t,r.length-1),sc(i,d),i[t.index]=d}function mN(t,e,n,r){for(let i of t)e.mergedAttrs=zo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Bf(e,e.mergedAttrs,!0),n!==null&&JC(r,n,e))}function vN(t,e,n,r,i,o){let s=ct(),a=i[k],l=Et(s,i);uw(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=Or(i,a,d,s);kr(f,i)}dw(a,i,s),l&&kr(l,i);let c=Or(i,a,s.directiveStart+s.componentOffset,s);if(t[$e]=i[$e]=c,o!==null)for(let u of o)u(c,e);return iw(a,s,i),c}function yN(t,e,n,r){if(r)of(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:o}=VT(e.selectors[0]);i&&of(t,n,i),o&&o.length>0&&ZC(t,n,o.join(" "))}}function _N(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function CN(){let t=ct();Ah(K()[k],t)}var Hi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wN;let t=e;return t})();function wN(){let t=ct();return xw(t,K())}var DN=Hi,Aw=class extends DN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ui(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){let e=xh(this._hostTNode,this._hostLView);if(CC(e)){let n=kl(e,this._hostLView),r=Ol(e),i=n[k].data[r+8];return new Ar(i,n)}else return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=f_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-He}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=rs(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ts(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!eA(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?e:new Li(Wn(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(ft,null);g&&(o=g)}let u=Wn(l.componentType??{}),d=rs(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,ts(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(KT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Be],c=new Aw(l,l[jt],l[Be]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return lc(s,i,o,r),e.attachToViewContainerRef(),Y_(Qd(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=f_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=es(this._lContainer,n);r&&(Nl(Qd(this._lContainer),n),nc(r[k],r))}detach(e){let n=this._adjustIndex(e,-1),r=es(this._lContainer,n);return r&&Nl(Qd(this._lContainer),n)!=null?new Fr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function f_(t){return t[Al]}function Qd(t){return t[Al]||(t[Al]=[])}function xw(t,e){let n,r=e[t.index];return Sn(r)?n=r:(n=fw(r,e,null,t),e[t.index]=n,sc(e,n)),IN(n,e,t,r),new Aw(n,t,e)}function EN(t,e){let n=t[Se],r=n.createComment(""),i=Et(e,t),o=Ph(n,i);return Ll(n,o,r,rx(n,i),!1),r}var IN=TN,bN=()=>!1;function SN(t,e,n){return bN(t,e,n)}function TN(t,e,n,r){if(t[Nr])return;let i;n.type&8?i=Zt(r):i=EN(e,n),t[Nr]=i}var Hf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Gf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Gh(e,n).matches!==null&&this.queries[n].setDirty()}},Wf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=kN(e):this.predicate=e}},zf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},qf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,MN(n,o)),this.matchTNodeWithReadOption(e,n,bl(n,e,o,!1,!1))}else r===ns?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,bl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Bt||i===Hi||i===ns&&n.type&4)this.addMatch(n.index,-2);else{let o=bl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function MN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function AN(t,e){return t.type&11?Ui(t,e):t.type&4?Bh(t,e):null}function xN(t,e,n,r){return n===-1?AN(e,t):n===-2?NN(t,e,r):Or(t,t[k],n,e)}function NN(t,e,n){if(n===Bt)return Ui(e,t);if(n===ns)return Bh(e,t);if(n===Hi)return xw(e,t)}function Nw(t,e,n,r){let i=e[wn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(xN(e,u,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Kf(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Nw(t,e,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=He;d<u.length;d++){let f=u[d];f[ls]===f[Be]&&Kf(f[k],f,c,r)}if(u[Pi]!==null){let d=u[Pi];for(let f=0;f<d.length;f++){let h=d[f];Kf(h[k],h,c,r)}}}}}return r}function RN(t,e){return t[wn].queries[e].queryList}function PN(t,e,n){let r=new lf((n&4)===4);return yx(t,e,r,r.destroy),(e[wn]??=new Gf).queries.push(new Hf(r))-1}function ON(t,e,n){let r=We();return r.firstCreatePass&&(FN(r,new Wf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),PN(r,K(),e)}function kN(t){return t.split(",").map(e=>e.trim())}function FN(t,e,n){t.queries===null&&(t.queries=new zf),t.queries.track(new qf(e,n))}function Gh(t,e){return t.queries.getByIndex(e)}function LN(t,e){let n=t[k],r=Gh(n,e);return r.crossesNgTemplate?Kf(n,t,e,[]):Nw(n,t,r,e)}function VN(t){return typeof t=="function"&&t[gd]!==void 0}function Rw(t){return VN(t)&&typeof t.set=="function"}function jN(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(HN))}return o}return Ul.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),s.push(r(d).then(h=>{a[c+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let l=Promise.all(s).then(()=>GN(o));e.push(l)}),UN(),Promise.all(e).then(()=>{})}var Ul=new Map,BN=new Set;function UN(){let t=Ul;return Ul=new Map,t}function $N(){return Ul.size===0}function HN(t){return typeof t=="string"?t:t.text()}function GN(t){BN.delete(t)}function WN(t){return Object.getPrototypeOf(t.prototype).constructor}function en(t){let e=WN(t.type),n=!0,r=[t];for(;e;){let i;if(zn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=_l(t.inputs),s.inputTransforms=_l(t.inputTransforms),s.declaredInputs=_l(t.declaredInputs),s.outputs=_l(t.outputs);let a=i.hostBindings;a&&YN(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&KN(t,l),c&&QN(t,c),zN(t,i),ET(t.outputs,i.outputs),zn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===en&&(n=!1)}}e=Object.getPrototypeOf(e)}qN(r)}function zN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function qN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zo(i.hostAttrs,n=zo(n,i.hostAttrs))}}function _l(t){return t===Ni?{}:t===at?[]:t}function KN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function QN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function YN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Wh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var qn=class{},os=class{};var $l=class extends qn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bl(this);let i=A_(e);this._bootstrapComponents=WC(i.bootstrap),this._r3Injector=AC(e,n,[{provide:qn,useValue:this},{provide:cc,useValue:this.componentFactoryResolver},...r],lt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hl=class extends os{constructor(e){super(),this.moduleType=e}create(e){return new $l(this.moduleType,e,[])}};function ZN(t,e,n){return new $l(t,e,n)}var Qf=class extends qn{constructor(e){super(),this.componentFactoryResolver=new Bl(this),this.instance=null;let n=new Xo([...e.providers,{provide:qn,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],e.parent||Mh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function uc(t,e,n=null){return new Qf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var dc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ve(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Pw(t,e,n){return t[e]=n}function Vt(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function JN(t,e,n,r){let i=Vt(t,e,n);return Vt(t,e+1,r)||i}function XN(t,e,n,r,i,o,s,a,l){let c=e.consts,u=oc(e,t,4,s||null,xl(c,a));cw(e,n,u,xl(c,l)),Ah(e,u);let d=u.tView=Fh(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Dt(t,e,n,r,i,o,s,a){let l=K(),c=We(),u=t+Lt,d=c.firstCreatePass?XN(u,c,l,e,n,r,i,o,s):c.data[u];cs(d,!1);let f=eR(c,l,d,t);_h()&&Oh(c,l,f,d),kr(f,l);let h=fw(f,l,f,d);return l[u]=h,sc(l,h),SN(h,d,l),dh(d)&&ow(c,l,d),s!=null&&sw(l,d,a),Dt}var eR=tR;function tR(t,e,n,r){return Ch(!0),e[Se].createComment("")}function ps(t,e,n,r){let i=K(),o=Bi();if(Vt(i,o,e)){let s=We(),a=yh();Px(a,i,t,e,n,r)}return ps}function nR(t,e,n,r){return Vt(t,Bi(),n)?e+Zl(n)+r:Mn}function Cl(t,e){return t<<17|e<<2}function Lr(t){return t>>17&32767}function rR(t){return(t&2)==2}function iR(t,e){return t&131071|e<<17}function Yf(t){return t|2}function Vi(t){return(t&131068)>>2}function Yd(t,e){return t&-131069|e<<2}function oR(t){return(t&1)===1}function Zf(t){return t|1}function sR(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Lr(s),l=Vi(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||us(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=Lr(t[a+1]);t[r+1]=Cl(f,a),f!==0&&(t[f+1]=Yd(t[f+1],r)),t[a+1]=iR(t[a+1],r)}else t[r+1]=Cl(a,0),a!==0&&(t[a+1]=Yd(t[a+1],r)),a=r;else t[r+1]=Cl(l,0),a===0?a=r:t[l+1]=Yd(t[l+1],r),l=r;c&&(t[r+1]=Yf(t[r+1])),h_(t,u,r,!0),h_(t,u,r,!1),aR(e,u,t,r,o),s=Cl(a,l),o?e.classBindings=s:e.styleBindings=s}function aR(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&us(o,e)>=0&&(n[r+1]=Zf(n[r+1]))}function h_(t,e,n,r){let i=t[n+1],o=e===null,s=r?Lr(i):Vi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];lR(l,e)&&(a=!0,t[s+1]=r?Zf(c):Yf(c)),s=r?Lr(c):Vi(c)}a&&(t[n+1]=r?Yf(i):Zf(i))}function lR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?us(t,e)>=0:!1}var Ot={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cR(t){return t.substring(Ot.key,Ot.keyEnd)}function uR(t){return dR(t),Ow(t,kw(t,0,Ot.textEnd))}function Ow(t,e){let n=Ot.textEnd;return n===e?-1:(e=Ot.keyEnd=fR(t,Ot.key=e,n),kw(t,e,n))}function dR(t){Ot.key=0,Ot.keyEnd=0,Ot.value=0,Ot.valueEnd=0,Ot.textEnd=t.length}function kw(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function fR(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Ue(t,e,n){let r=K(),i=Bi();if(Vt(r,i,e)){let o=We(),s=yh();lw(o,s,r,t,e,r[Se],n,!1)}return Ue}function Jf(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Lh(t,n,o[s],s,r)}function Gi(t,e){return pR(t,e,null,!0),Gi}function Fw(t){gR(wR,hR,t,!0)}function hR(t,e){for(let n=uR(e);n>=0;n=Ow(e,n))Dh(t,cR(e),!0)}function pR(t,e,n,r){let i=K(),o=We(),s=$_(2);if(o.firstUpdatePass&&Vw(o,t,s,r),e!==Mn&&Vt(i,s,e)){let a=o.data[Qn()];jw(o,a,i,i[Se],t,i[s+1]=ER(e,n),r,s)}}function gR(t,e,n,r){let i=We(),o=$_(2);i.firstUpdatePass&&Vw(i,null,o,r);let s=K();if(n!==Mn&&Vt(s,o,n)){let a=i.data[Qn()];if(Bw(a,r)&&!Lw(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=rf(l,n||"")),Jf(i,a,s,n,r)}else DR(i,a,s,s[Se],s[o+1],s[o+1]=CR(t,e,n),r,o)}}function Lw(t,e){return e>=t.expandoStartIndex}function Vw(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Qn()],s=Lw(t,n);Bw(o,r)&&e===null&&!s&&(e=!1),e=mR(i,o,e,r),sR(i,o,e,n,s,r)}}function mR(t,e,n,r){let i=uM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Zd(null,t,e,n,r),n=ss(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Zd(i,t,e,n,r),o===null){let l=vR(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Zd(null,t,e,l[1],r),l=ss(l,e.attrs,r),yR(t,e,r,l))}else o=_R(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function vR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Vi(r)!==0)return t[Lr(r)]}function yR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Lr(i)]=r}function _R(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ss(r,s,n)}return ss(r,e.attrs,n)}function Zd(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ss(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ss(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Dh(t,s,n?!0:e[++o]))}return t===void 0?null:t}function CR(t,e,n){if(n==null||n==="")return at;let r=[],i=$t(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function wR(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Dh(t,r,n)}function DR(t,e,n,r,i,o,s,a){i===Mn&&(i=at);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=l<i.length?i[l+1]:void 0,h=c<o.length?o[c+1]:void 0,p=null,g;u===d?(l+=2,c+=2,f!==h&&(p=d,g=h)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,g=h),p!==null&&jw(t,e,n,r,p,g,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}function jw(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=oR(c)?p_(l,e,n,i,Vi(c),s):void 0;if(!Gl(u)){Gl(o)||rR(c)&&(o=p_(l,null,n,i,a,s));let d=k_(Qn(),n);ux(r,s,d,i,o)}}function p_(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===Mn&&(f=d?at:void 0);let h=d?$d(f,r):u===r?f:void 0;if(c&&!Gl(h)&&(h=$d(l,r)),Gl(h)&&(a=h,s))return a;let p=t[i+1];i=s?Lr(p):Vi(p)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=$d(l,r))}return a}function Gl(t){return t!==void 0}function ER(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=lt($t(t)))),t}function Bw(t,e){return(t.flags&(e?8:16))!==0}var Xf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Jd(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function IR(t,e,n){let r,i,o=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let l=t.at(o),c=e[o],u=Jd(o,l,o,c,n);if(u!==0){u<0&&t.updateValue(o,c),o++;continue}let d=t.at(s),f=e[a],h=Jd(s,d,a,f,n);if(h!==0){h<0&&t.updateValue(s,f),s--,a--;continue}let p=n(o,l),g=n(s,d),D=n(o,c);if(Object.is(D,g)){let S=n(a,f);Object.is(S,p)?(t.swap(o,s),t.updateValue(s,f),a--,s--):t.move(s,o),t.updateValue(o,c),o++;continue}if(r??=new Wl,i??=m_(t,o,s,n),eh(t,r,o,D))t.updateValue(o,c),o++,s++;else if(i.has(D))r.set(p,t.detach(o)),s--;else{let S=t.create(o,e[o]);t.attach(o,S),o++,s++}}for(;o<=a;)g_(t,r,n,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),l=a.next();for(;!l.done&&o<=s;){let c=t.at(o),u=l.value,d=Jd(o,c,o,u,n);if(d!==0)d<0&&t.updateValue(o,u),o++,l=a.next();else{r??=new Wl,i??=m_(t,o,s,n);let f=n(o,u);if(eh(t,r,o,f))t.updateValue(o,u),o++,s++,l=a.next();else if(!i.has(f))t.attach(o,t.create(o,u)),o++,s++,l=a.next();else{let h=n(o,c);r.set(h,t.detach(o)),s--}}}for(;!l.done;)g_(t,r,n,t.length,l.value),l=a.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(a=>{t.destroy(a)})}function eh(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function g_(t,e,n,r,i){if(eh(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function m_(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Wl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function xn(t,e,n){hs("NgControlFlow");let r=K(),i=Bi(),o=ih(r,Lt+t),s=0;if(Vt(r,i,e)){let a=z(null);try{if(yw(o,s),e!==-1){let l=oh(r[k],Lt+e),c=rs(o,l.tView.ssrId),u=ac(r,l,n,{dehydratedView:c});lc(o,u,s,ts(l,c))}}finally{z(a)}}else{let a=vw(o,s);a!==void 0&&(a[$e]=n)}}var th=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-He}};function fc(t,e){return e}var nh=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function tn(t,e,n,r,i,o,s,a,l,c,u,d,f){hs("NgControlFlow");let h=l!==void 0,p=K(),g=a?s.bind(p[Ft][$e]):s,D=new nh(h,g);p[Lt+t]=D,Dt(t+1,e,n,r,i,o),h&&Dt(t+2,l,c,u,d,f)}var rh=class extends Xf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-He}at(e){return this.getLView(e)[$e].$implicit}attach(e,n){let r=n[qo];this.needsIndexUpdate||=e!==this.length,lc(this.lContainer,n,e,ts(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,bR(this.lContainer,e)}create(e,n){let r=rs(this.lContainer,this.templateTNode.tView.ssrId);return ac(this.hostLView,this.templateTNode,new th(this.lContainer,n,e),{dehydratedView:r})}destroy(e){nc(e[k],e)}updateValue(e,n){this.getLView(e)[$e].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$e].$index=e}getLView(e){return SR(this.lContainer,e)}};function nn(t){let e=z(null),n=Qn();try{let r=K(),i=r[k],o=r[n];if(o.liveCollection===void 0){let a=n+1,l=ih(r,a),c=oh(i,a);o.liveCollection=new rh(l,r,c)}else o.liveCollection.reset();let s=o.liveCollection;if(IR(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Bi(),l=s.length===0;if(Vt(r,a,l)){let c=n+2,u=ih(r,c);if(l){let d=oh(i,c),f=rs(u,d.tView.ssrId),h=ac(r,d,void 0,{dehydratedView:f});lc(u,h,0,ts(d,f))}else yw(u,0)}}}finally{z(e)}}function ih(t,e){return t[e]}function bR(t,e){return es(t,e)}function SR(t,e){return vw(t,e)}function oh(t,e){return fh(t,e)}function TR(t,e,n,r,i,o){let s=e.consts,a=xl(s,i),l=oc(e,t,2,r,a);return cw(e,n,l,xl(s,o)),l.attrs!==null&&Bf(l,l.attrs,!1),l.mergedAttrs!==null&&Bf(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function A(t,e,n,r){let i=K(),o=We(),s=Lt+t,a=i[Se],l=o.firstCreatePass?TR(s,o,i,e,n,r):o.data[s],c=MR(o,i,l,a,e,t);i[s]=c;let u=dh(l);return cs(l,!0),JC(a,c,l),(l.flags&32)!==32&&_h()&&Oh(o,i,c,l),JT()===0&&kr(c,i),XT(),u&&(ow(o,i,l),iw(o,l,i)),r!==null&&sw(i,l),A}function T(){let t=ct();B_()?oM():(t=t.parent,cs(t,!1));let e=t;nM(e)&&rM(),eM();let n=We();return n.firstCreatePass&&(Ah(n,t),O_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&aA(e)&&Jf(n,e,K(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&lA(e)&&Jf(n,e,K(),e.stylesWithoutHost,!1),T}function me(t,e,n,r){return A(t,e,n,r),T(),me}var MR=(t,e,n,r,i,o)=>(Ch(!0),zC(r,i,hM()));function Wi(){return K()}var zl="en-US";var AR=zl;function xR(t){typeof t=="string"&&(AR=t.toLowerCase().replace(/_/g,"-"))}function ze(t,e,n,r){let i=K(),o=We(),s=ct();return Uw(o,i,i[Se],s,t,e,r),ze}function NR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ko],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Uw(t,e,n,r,i,o,s){let a=dh(r),c=t.firstCreatePass&&gw(t),u=e[$e],d=pw(e),f=!0;if(r.type&3||s){let g=Et(r,e),D=s?s(g):g,S=d.length,J=s?he=>s(Zt(he[r.index])):r.index,P=null;if(!s&&a&&(P=NR(t,e,i,r.index)),P!==null){let he=P.__ngLastListenerFn__||P;he.__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,f=!1}else{o=y_(r,e,u,o,!1);let he=n.listen(D,i,o);d.push(o,he),c&&c.push(i,J,S,S+1)}}else o=y_(r,e,u,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let g=p.length;if(g)for(let D=0;D<g;D+=2){let S=p[D],J=p[D+1],de=e[S][J].subscribe(o),ye=d.length;if(d.push(o,de),c){let Ke=typeof de=="function"?ye+1:-(ye+1);c.push(i,r.index,ye,Ke)}}}}function v_(t,e,n,r){let i=z(null);try{return Kt(6,e,n),n(r)!==!1}catch(o){return mw(t,o),!1}finally{Kt(7,e,n),z(i)}}function y_(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Kn(t.index,e):e;jh(a);let l=v_(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)l=v_(e,n,c,s)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&s.preventDefault(),l}}function Re(t=1){return fM(t)}function $w(t,e,n){ON(t,e,n)}function zh(t){let e=K(),n=We(),r=H_();gh(r+1);let i=Gh(n,r);if(t.dirty&&qT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=LN(e,r);t.reset(o,gM),t.notifyOnChanges()}return!0}return!1}function qh(){return RN(K(),H_())}function j(t,e=""){let n=K(),r=We(),i=t+Lt,o=r.firstCreatePass?oc(r,i,1,e,null):r.data[i],s=RR(r,n,o,e,t);n[i]=s,_h()&&Oh(r,n,s,o),cs(o,!1)}var RR=(t,e,n,r,i)=>(Ch(!0),WA(e[Se],r));function Br(t){return It("",t,""),Br}function It(t,e,n){let r=K(),i=nR(r,t,e,n);return i!==Mn&&Lx(r,Qn(),i),It}function Kh(t,e,n){Rw(e)&&(e=e());let r=K(),i=Bi();if(Vt(r,i,e)){let o=We(),s=yh();lw(o,s,r,t,e,r[Se],n,!1)}return Kh}function Hw(t,e){let n=Rw(t);return n&&t.set(e),n}function Qh(t,e){let n=K(),r=We(),i=ct();return Uw(r,n,n[Se],i,t,e),Qh}function PR(t,e,n){let r=We();if(r.firstCreatePass){let i=zn(t);sh(n,r.data,r.blueprint,i,!0),sh(e,r.data,r.blueprint,i,!1)}}function sh(t,e,n,r,i){if(t=Ye(t),Array.isArray(t))for(let o=0;o<t.length;o++)sh(t[o],e,n,r,i);else{let o=We(),s=K(),a=ct(),l=Fi(t)?t:Ye(t.provide),c=pC(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Fi(t)||!t.multi){let h=new Pr(c,i,w),p=ef(l,e,i?u:u+f,d);p===-1?(yf(Fl(a,s),o,l),Xd(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=ef(l,e,u+f,d),p=ef(l,e,u,u+f),g=h>=0&&n[h],D=p>=0&&n[p];if(i&&!D||!i&&!g){yf(Fl(a,s),o,l);let S=FR(i?kR:OR,n.length,i,r,c);!i&&D&&(n[p].providerFactory=S),Xd(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),s.push(S)}else{let S=Gw(n[i?p:h],c,!i&&r);Xd(o,t,h>-1?h:p,S)}!i&&r&&D&&n[p].componentProviders++}}}function Xd(t,e,n,r){let i=Fi(e),o=WM(e);if(i||o){let l=(o?Ye(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function Gw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ef(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function OR(t,e,n,r){return ah(this.multi,[])}function kR(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Or(n,n[k],this.providerFactory.index,r);o=a.slice(0,s),ah(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ah(i,o);return o}function ah(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function FR(t,e,n,r,i){let o=new Pr(t,n,w);return o.multi=[],o.index=e,o.componentProviders=0,Gw(o,i,r&&!n),o}function zi(t,e=[]){return n=>{n.providersResolver=(r,i)=>PR(r,i?i(t):t,e)}}var LR=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=dC(!1,r.type),o=i.length>0?uc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(v(ft))});let t=e;return t})();function Ww(t){hs("NgStandalone"),t.getStandaloneInjector=e=>e.get(LR).getOrCreateStandaloneInjector(t)}function hc(t,e,n,r){return VR(K(),U_(),t,e,n,r)}function qi(t,e,n,r,i){return jR(K(),U_(),t,e,n,r,i)}function zw(t,e){let n=t[e];return n===Mn?void 0:n}function VR(t,e,n,r,i,o){let s=e+n;return Vt(t,s,i)?Pw(t,s+1,o?r.call(o,i):r(i)):zw(t,s+1)}function jR(t,e,n,r,i,o,s){let a=e+n;return JN(t,a,i,o)?Pw(t,a+2,s?r.call(s,i,o):r(i,o)):zw(t,a+2)}var wl=null;function BR(t){wl!==null&&(t.defaultEncapsulation!==wl.defaultEncapsulation||t.preserveWhitespaces!==wl.preserveWhitespaces)||(wl=t)}var In=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},qw=new In("17.2.4"),pc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Yh=new C(""),gs=new C(""),gc=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Zh||(UR(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{q.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(v(q),v(mc),v(gs))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),mc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Zh?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function UR(t){Zh=t}var Zh;function Ur(t){return!!t&&typeof t.then=="function"}function Kw(t){return!!t&&typeof t.subscribe=="function"}var vc=new C(""),Qw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=_(vc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Ur(s))r.push(s);else if(Kw(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jh=new C("");function $R(){gy(()=>{throw new b(600,!1)})}function HR(t){return t.isBoundToModule}function GR(t,e,n){try{let r=n();return Ur(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Yw(t,e){return Array.isArray(e)?e.reduce(Yw,t):y(y({},t),e)}var Ki=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(xC),this.afterRenderEffectManager=_(Hh),this.componentTypes=[],this.components=[],this.isStable=_(dc).hasPendingTasks.pipe(I(r=>!r)),this._injector=_(ft)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof jl;if(!this._injector.get(Qw).done){let h=!o&&M_(r),p=!1;throw new b(405,p)}let a;o?a=r:a=this._injector.get(cc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=HR(a)?void 0:this._injector.get(qn),c=i||a.selector,u=a.create(Ut.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(Yh,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Tl(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new b(101,!1);let r=z(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,z(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===Ew)throw new b(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!tf(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>tf(s))&&(i.execute(),!this._views.some(({_lView:s})=>tf(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[N]|=1024):r[N]&64?s=0:s=1,Iw(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Tl(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Jh,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Tl(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new b(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Tl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function tf(t){return ph(t)}var lh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},yc=(()=>{let e=class e{compileModuleSync(r){return new Hl(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=A_(r),s=WC(o.declarations).reduce((a,l)=>{let c=Wn(l);return c&&a.push(new Li(c)),a},[]);return new lh(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WR=new C("");function zR(t,e,n){let r=new Hl(n);return Promise.resolve(r)}function __(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var qR=(()=>{let e=class e{constructor(){this.zone=_(q),this.applicationRef=_(Ki)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KR(t){return[{provide:q,useFactory:t},{provide:ki,multi:!0,useFactory:()=>{let e=_(qR,{optional:!0});return()=>e.initialize()}},{provide:ki,multi:!0,useFactory:()=>{let e=_(ZR);return()=>{e.initialize()}}},{provide:xC,useFactory:QR}]}function QR(){let t=_(q),e=_(Jt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function YR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var ZR=(()=>{let e=class e{constructor(){this.subscription=new we,this.initialized=!1,this.zone=_(q),this.pendingTasks=_(dc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{q.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{q.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JR(){return typeof $localize<"u"&&$localize.locale||zl}var Xh=new C("",{providedIn:"root",factory:()=>_(Xh,$.Optional|$.SkipSelf)||JR()});var Zw=new C(""),Jw=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=dN(i?.ngZone,YR({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=ZN(r.moduleType,this.injector,KR(()=>o)),a=s.injector.get(Jt,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Tl(this._modules,s),l.unsubscribe()})}),GR(a,o,()=>{let l=s.injector.get(Qw);return l.runInitializers(),l.donePromise.then(()=>{let c=s.injector.get(Xh,zl);return xR(c||zl),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=Yw({},i);return zR(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(Ki);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new b(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Zw,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(v(Ut))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Wo=null,Xw=new C("");function XR(t){if(Wo&&!Wo.get(Xw,!1))throw new b(400,!1);$R(),Wo=t;let e=t.get(Jw);return nP(t),e}function ep(t,e,n=[]){let r=`Platform: ${e}`,i=new C(r);return(o=[])=>{let s=eD();if(!s||s.injector.get(Xw,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):XR(eP(a,r))}return tP(i)}}function eP(t=[],e){return Ut.create({name:e,providers:[{provide:Xl,useValue:"platform"},{provide:Zw,useValue:new Set([()=>Wo=null])},...t]})}function tP(t){let e=eD();if(!e)throw new b(401,!1);return e}function eD(){return Wo?.get(Jw)??null}function nP(t){t.get(Eh,null)?.forEach(n=>n())}function tp(){return!1}var $r=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rP;let t=e;return t})();function rP(t){return iP(ct(),K(),(t&16)===16)}function iP(t,e,n){if(Kl(t)&&!n){let r=Kn(t.index,e);return new Fr(r,r)}else if(t.type&47){let r=e[Ft];return new Fr(r,e)}return null}var tD=ep(null,"core",[]),nD=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(v(Ki))},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({});let t=e;return t})();function Xn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function rD(t){let e=Wn(t);if(!e)return null;let n=new Li(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var sD=null;function rn(){return sD}function aD(t){sD??=t}var _c=class{};var Ze=new C(""),ip=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>_(oP),providedIn:"platform"});let t=e;return t})(),lD=new C(""),oP=(()=>{let e=class e extends ip{constructor(){super(),this._doc=_(Ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rn().getBaseHref(this._doc)}onPopState(r){let i=rn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=rn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function op(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function iD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Nn(t){return t&&t[0]!=="?"?"?"+t:t}var Rn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>_(sp),providedIn:"root"});let t=e;return t})(),wc=new C(""),sp=(()=>{let e=class e extends Rn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return op(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Nn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Nn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Nn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(v(ip),v(wc,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cD=(()=>{let e=class e extends Rn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=op(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Nn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Nn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(v(ip),v(wc,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Qi=(()=>{let e=class e{constructor(r){this._subject=new oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=lP(iD(oD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Nn(i))}normalize(r){return e.stripTrailingSlash(aP(this._basePath,oD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Nn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Nn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Nn,e.joinWithSlash=op,e.stripTrailingSlash=iD,e.\u0275fac=function(i){return new(i||e)(v(Rn))},e.\u0275prov=E({token:e,factory:()=>sP(),providedIn:"root"});let t=e;return t})();function sP(){return new Qi(v(Rn))}function aP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function oD(t){return t.replace(/\/index.html$/,"")}function lP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function uD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var dD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({});let t=e;return t})(),ap="browser",cP="server";function uP(t){return t===ap}function ms(t){return t===cP}var fD=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>uP(_(ut))?new np(_(Ze),window):new rp});let t=e;return t})(),np=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=dP(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function dP(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var rp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Cc=class{};var up=class extends _c{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dp=class t extends up{static makeCurrent(){aD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=pP();return n==null?null:gP(n)}resetBaseElement(){vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uD(document.cookie,e)}},vs=null;function pP(){return vs=vs||document.querySelector("base"),vs?vs.getAttribute("href"):null}function gP(t){return new URL(t,document.baseURI).pathname}var fp=class{addToWindow(e){je.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new b(5103,!1);return o},je.getAllAngularTestabilities=()=>e.getAllTestabilities(),je.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=je.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?rn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},mP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),hp=new C(""),mD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new b(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(v(hp),v(q))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Dc=class{constructor(e){this._doc=e}},lp="ng-app-id",vD=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ms(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${lp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(lp),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(lp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(v(Ze),v(Yl),v(Ih,8),v(ut))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),cp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gp=/%COMP%/g,yD="%COMP%",vP=`_nghost-${yD}`,yP=`_ngcontent-${yD}`,_P=!0,CP=new C("",{providedIn:"root",factory:()=>_P});function wP(t){return yP.replace(gp,t)}function DP(t){return vP.replace(gp,t)}function _D(t,e){return e.map(n=>n.replace(gp,t))}var hD=(()=>{let e=class e{constructor(r,i,o,s,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ms(l),this.defaultRenderer=new ys(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Yt.ShadowDom&&(i=ne(y({},i),{encapsulation:Yt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ec?o.applyToHost(r):o instanceof _s&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Yt.Emulated:s=new Ec(c,u,i,this.appId,d,a,l,f);break;case Yt.ShadowDom:return new pp(c,u,r,i,a,l,this.nonce,f);default:s=new _s(c,u,i,d,a,l,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(v(mD),v(vD),v(Yl),v(CP),v(Ze),v(ut),v(q),v(Ih))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),ys=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(cp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(pD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=cp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=cp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(En.DashCase|En.Important)?e.style.setProperty(n,r,i&En.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&En.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=rn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function pD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var pp=class extends ys{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=_D(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_s=class extends ys{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?_D(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ec=class extends _s{constructor(e,n,r,i,o,s,a,l){let c=i+"-"+r.id;super(e,n,r,o,s,a,l,c),this.contentAttr=wP(c),this.hostAttr=DP(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},EP=(()=>{let e=class e extends Dc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(v(Ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),gD=["alt","control","meta","shift"],IP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},SP=(()=>{let e=class e extends Dc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),gD.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=IP[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),gD.forEach(a=>{if(a!==o){let l=bP[a];l(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(v(Ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function TP(){dp.makeCurrent()}function MP(){return new Jt}function AP(){return J_(document),document}var xP=[{provide:ut,useValue:ap},{provide:Eh,useValue:TP,multi:!0},{provide:Ze,useFactory:AP,deps:[]}],CD=ep(tD,"browser",xP),NP=new C(""),RP=[{provide:gs,useClass:fp,deps:[]},{provide:Yh,useClass:gc,deps:[q,mc,gs]},{provide:gc,useClass:gc,deps:[q,mc,gs]}],PP=[{provide:Xl,useValue:"root"},{provide:Jt,useFactory:MP,deps:[]},{provide:hp,useClass:EP,multi:!0,deps:[Ze,q,ut]},{provide:hp,useClass:SP,multi:!0,deps:[Ze]},hD,vD,mD,{provide:is,useExisting:hD},{provide:Cc,useClass:mP,deps:[]},[]],wD=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Yl,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(v(NP,12))},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({providers:[...PP,...RP],imports:[dD,nD]});let t=e;return t})();var DD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(v(Ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=v(OP),o},providedIn:"root"});let t=e;return t})(),OP=(()=>{let e=class e extends mp{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Xt.NONE:return i;case Xt.HTML:return Jn(i,"HTML")?$t(i):UC(this._doc,String(i)).toString();case Xt.STYLE:return Jn(i,"Style")?$t(i):i;case Xt.SCRIPT:if(Jn(i,"Script"))return $t(i);throw new b(5200,!1);case Xt.URL:return Jn(i,"URL")?$t(i):tc(String(i));case Xt.RESOURCE_URL:if(Jn(i,"ResourceURL"))return $t(i);throw new b(5201,!1);default:throw new b(5202,!1)}}bypassSecurityTrustHtml(r){return RC(r)}bypassSecurityTrustStyle(r){return PC(r)}bypassSecurityTrustScript(r){return OC(r)}bypassSecurityTrustUrl(r){return kC(r)}bypassSecurityTrustResourceUrl(r){return FC(r)}};e.\u0275fac=function(i){return new(i||e)(v(Ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var V="primary",Os=Symbol("RouteTitle"),Dp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function eo(t){return new Dp(t)}function kP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function FP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}function on(t,e){let n=t?Ep(t):void 0,r=e?Ep(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ND(t[i],e[i]))return!1;return!0}function Ep(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ND(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function RD(t){return t.length>0?t[t.length-1]:null}function ir(t){return xd(t)?t:Ur(t)?ie(Promise.resolve(t)):M(t)}var LP={exact:OD,subset:kD},PD={exact:VP,subset:jP,ignored:()=>!0};function ED(t,e,n){return LP[n.paths](t.root,e.root,n.matrixParams)&&PD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function VP(t,e){return on(t,e)}function OD(t,e,n){if(!Gr(t.segments,e.segments)||!Sc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!OD(t.children[r],e.children[r],n))return!1;return!0}function jP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ND(t[n],e[n]))}function kD(t,e,n){return FD(t,e,e.segments,n)}function FD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Gr(i,n)||e.hasChildren()||!Sc(i,n,r))}else if(t.segments.length===n.length){if(!Gr(t.segments,n)||!Sc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!kD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Gr(t.segments,i)||!Sc(t.segments,i,r)||!t.children[V]?!1:FD(t.children[V],e,o,r)}}function Sc(t,e,n){return e.every((r,i)=>PD[n](t[i].parameters,r.parameters))}var er=class{constructor(e=new ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=eo(this.queryParams),this._queryParamMap}toString(){return $P.serialize(this)}},ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tc(this)}},Hr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=eo(this.parameters),this._parameterMap}toString(){return VD(this)}};function BP(t,e){return Gr(t,e)&&t.every((n,r)=>on(n.parameters,e[r].parameters))}function Gr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function UP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===V&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==V&&(n=n.concat(e(i,r)))}),n}var ks=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new Ss,providedIn:"root"});let t=e;return t})(),Ss=class{parse(e){let n=new bp(e);return new er(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Cs(e.root,!0)}`,r=WP(e.queryParams),i=typeof e.fragment=="string"?`#${HP(e.fragment)}`:"";return`${n}${r}${i}`}},$P=new Ss;function Tc(t){return t.segments.map(e=>VD(e)).join("/")}function Cs(t,e){if(!t.hasChildren())return Tc(t);if(e){let n=t.children[V]?Cs(t.children[V],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==V&&r.push(`${i}:${Cs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=UP(t,(r,i)=>i===V?[Cs(t.children[V],!1)]:[`${i}:${Cs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[V]!=null?`${Tc(t)}/${n[0]}`:`${Tc(t)}/(${n.join("//")})`}}function LD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ic(t){return LD(t).replace(/%3B/gi,";")}function HP(t){return encodeURI(t)}function Ip(t){return LD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mc(t){return decodeURIComponent(t)}function ID(t){return Mc(t.replace(/\+/g,"%20"))}function VD(t){return`${Ip(t.path)}${GP(t.parameters)}`}function GP(t){return Object.entries(t).map(([e,n])=>`;${Ip(e)}=${Ip(n)}`).join("")}function WP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ic(n)}=${Ic(i)}`).join("&"):`${Ic(n)}=${Ic(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var zP=/^[^\/()?;#]+/;function yp(t){let e=t.match(zP);return e?e[0]:""}var qP=/^[^\/()?;=#]+/;function KP(t){let e=t.match(qP);return e?e[0]:""}var QP=/^[^=?&#]+/;function YP(t){let e=t.match(QP);return e?e[0]:""}var ZP=/^[^&#]+/;function JP(t){let e=t.match(ZP);return e?e[0]:""}var bp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[V]=new ee(e,n)),r}parseSegment(){let e=yp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new Hr(Mc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=KP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=yp(this.remaining);i&&(r=i,this.capture(r))}e[Mc(n)]=Mc(r)}parseQueryParam(e){let n=YP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=JP(this.remaining);s&&(r=s,this.capture(r))}let i=ID(n),o=ID(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=yp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new ee([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function jD(t){return t.segments.length>0?new ee([],{[V]:t}):t}function BD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=BD(i);if(r===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ee(t.segments,e);return XP(n)}function XP(t){if(t.numberOfChildren===1&&t.children[V]){let e=t.children[V];return new ee(t.segments.concat(e.segments),e.children)}return t}function to(t){return t instanceof er}function eO(t,e,n=null,r=null){let i=UD(t);return $D(i,e,n,r)}function UD(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ee(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=jD(r);return e??i}function $D(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return _p(i,i,i,n,r);let o=tO(e);if(o.toRoot())return _p(i,i,new ee([],{}),n,r);let s=nO(o,i,t),a=s.processChildren?Es(s.segmentGroup,s.index,o.commands):GD(s.segmentGroup,s.index,o.commands);return _p(i,s.segmentGroup,a,n,r)}function Ac(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ts(t){return typeof t=="object"&&t!=null&&t.outlets}function _p(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=HD(t,e,n);let a=jD(BD(s));return new er(a,o,i)}function HD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=HD(o,e,n)}),new ee(t.segments,r)}var xc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ac(r[0]))throw new b(4003,!1);let i=r.find(Ts);if(i&&i!==RD(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new xc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new xc(n,e,r)}var Ji=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function nO(t,e,n){if(t.isAbsolute)return new Ji(e,!0,0);if(!n)return new Ji(e,!1,NaN);if(n.parent===null)return new Ji(n,!0,0);let r=Ac(t.commands[0])?0:1,i=n.segments.length-1+r;return rO(n,i,t.numberOfDoubleDots)}function rO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Ji(r,!1,i-o)}function iO(t){return Ts(t[0])?t[0].outlets:{[V]:t}}function GD(t,e,n){if(t??=new ee([],{}),t.segments.length===0&&t.hasChildren())return Es(t,e,n);let r=oO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ee(t.segments.slice(0,r.pathIndex),{});return o.children[V]=new ee(t.segments.slice(r.pathIndex),t.children),Es(o,0,i)}else return r.match&&i.length===0?new ee(t.segments,{}):r.match&&!t.hasChildren()?Sp(t,e,n):r.match?Es(t,0,i):Sp(t,e,n)}function Es(t,e,n){if(n.length===0)return new ee(t.segments,{});{let r=iO(n),i={};if(Object.keys(r).some(o=>o!==V)&&t.children[V]&&t.numberOfChildren===1&&t.children[V].segments.length===0){let o=Es(t.children[V],e,n);return new ee(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=GD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(t.segments,i)}}function oO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ts(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!SD(l,c,s))return o;r+=2}else{if(!SD(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ts(o)){let l=sO(o.outlets);return new ee(r,l)}if(i===0&&Ac(n[0])){let l=t.segments[e];r.push(new Hr(l.path,bD(n[0]))),i++;continue}let s=Ts(o)?o.outlets[V]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ac(a)?(r.push(new Hr(s,bD(a))),i+=2):(r.push(new Hr(s,{})),i++)}return new ee(r,{})}function sO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Sp(new ee([],{}),0,r))}),e}function bD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function SD(t,e,n){return t==n.path&&on(e,n.parameters)}var Is="imperative",Pe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Pe||{}),St=class{constructor(e,n){this.id=e,this.url=n}},no=class extends St{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Pe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sn=class extends St{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Pe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(bt||{}),Nc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Nc||{}),tr=class extends St{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},nr=class extends St{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationSkipped}},Ms=class extends St{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Pe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rc=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tp=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mp=class extends St{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Pe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ap=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xp=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Np=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rp=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pp=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Op=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kp=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fp=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Pe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},As=class{},xs=class{constructor(e){this.url=e}};var Lp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fs,this.attachRef=null}},Fs=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Lp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Oc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Vp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Vp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=jp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jp(e,this._root).map(n=>n.value)}};function Vp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Vp(t,n);if(r)return r}return null}function jp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=jp(t,n);if(r.length)return r.unshift(e),r}return[]}var ht=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Zi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var kc=class extends Oc{constructor(e,n){super(e),this.snapshot=n,Qp(this,e)}toString(){return this.snapshot.toString()}};function WD(t){let e=aO(t),n=new Ve([new Hr("",{})]),r=new Ve({}),i=new Ve({}),o=new Ve({}),s=new Ve(""),a=new xe(n,r,o,s,i,V,t,e.root);return a.snapshot=e.root,new kc(new ht(a,[]),e)}function aO(t){let e={},n={},r={},i="",o=new Ns([],e,r,i,n,V,t,null,{});return new Fc("",new ht(o,[]))}var xe=class{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(I(c=>c[Os]))??M(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(I(e=>eo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(I(e=>eo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:y(y({},e.params),t.params),data:y(y({},e.data),t.data),resolve:y(y(y(y({},t.data),e.data),i?.data),t._resolvedData)}:r={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},i&&qD(i)&&(r.resolve[Os]=i.title),r}var Ns=class{get title(){return this.data?.[Os]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=eo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=eo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Fc=class extends Oc{constructor(e,n){super(n),this.url=e,Qp(this,n)}toString(){return zD(this._root)}};function Qp(t,e){e.value._routerState=t,e.children.forEach(n=>Qp(t,n))}function zD(t){let e=t.children.length>0?` { ${t.children.map(zD).join(", ")} } `:"";return`${t.value}${e}`}function Cp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),on(e.params,n.params)||t.paramsSubject.next(n.params),FP(e.url,n.url)||t.urlSubject.next(n.url),on(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Bp(t,e){let n=on(t.params,e.params)&&BP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Bp(t.parent,e.parent))}function qD(t){return typeof t.title=="string"||t.title===null}var Wr=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new oe,this.deactivateEvents=new oe,this.attachEvents=new oe,this.detachEvents=new oe,this.parentContexts=_(Fs),this.location=_(Hi),this.changeDetector=_($r),this.environmentInjector=_(ft),this.inputBinder=_(Uc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Up(r,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[dt]});let t=e;return t})(),Up=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===xe?this.route:e===Fs?this.childContexts:this.parent.get(e,n)}},Uc=new C(""),TD=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Uo([i.queryParams,i.params,i.data]).pipe(pe(([s,a,l],c)=>(l=y(y(y({},s),a),l),c===0?M(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=rD(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function lO(t,e,n){let r=Rs(t,e._root,n?n._root:void 0);return new kc(r,e)}function Rs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=cO(t,e,n);return new ht(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Rs(t,a)),s}}let r=uO(e.value),i=e.children.map(o=>Rs(t,o));return new ht(r,i)}}function cO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Rs(t,r,i);return Rs(t,r)})}function uO(t){return new xe(new Ve(t.url),new Ve(t.params),new Ve(t.queryParams),new Ve(t.fragment),new Ve(t.data),t.outlet,t.component,t)}var KD="ngNavigationCancelingError";function QD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=to(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YD(!1,bt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function YD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[KD]=!0,n.cancellationCode=e,n}function dO(t){return ZD(t)&&to(t.url)}function ZD(t){return!!t&&t[KD]}var fO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=X({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ww],decls:1,vars:0,template:function(i,o){i&1&&me(0,"router-outlet")},dependencies:[Wr],encapsulation:2});let t=e;return t})();function hO(t,e){return t.providers&&!t._injector&&(t._injector=uc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yp(t){let e=t.children&&t.children.map(Yp),n=e?ne(y({},t),{children:e}):y({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=fO),n}function an(t){return t.outlet||V}function pO(t,e){let n=t.filter(r=>an(r)===e);return n.push(...t.filter(r=>an(r)!==e)),n}function Ls(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gO=(t,e,n,r)=>I(i=>(new $p(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),$p=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Cp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Zi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Zi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Fp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Op(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Cp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Cp(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ls(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Lc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xi=class{constructor(e,n){this.component=e,this.route=n}};function mO(t,e,n){let r=t._root,i=e?e._root:null;return ws(r,i,n,[r.value])}function vO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function io(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!X_(t)?t:e.get(t):r}function ws(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zi(e);return t.children.forEach(s=>{yO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>bs(a,n.getContext(s),i)),i}function yO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=_O(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Lc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ws(t,e,a?a.children:null,r,i):ws(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xi(a.outlet.component,s))}else s&&bs(e,a,i),i.canActivateChecks.push(new Lc(r)),o.component?ws(t,null,a?a.children:null,r,i):ws(t,null,n,r,i);return i}function _O(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Gr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gr(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bp(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!Bp(t,e)}}function bs(t,e,n){let r=Zi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?bs(s,e.children.getContext(o),n):bs(s,null,n):bs(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Xi(e.outlet.component,i)):n.canDeactivateChecks.push(new Xi(null,i)):n.canDeactivateChecks.push(new Xi(null,i))}function Vs(t){return typeof t=="function"}function CO(t){return typeof t=="boolean"}function wO(t){return t&&Vs(t.canLoad)}function DO(t){return t&&Vs(t.canActivate)}function EO(t){return t&&Vs(t.canActivateChild)}function IO(t){return t&&Vs(t.canDeactivate)}function bO(t){return t&&Vs(t.canMatch)}function JD(t){return t instanceof yn||t?.name==="EmptyError"}var bc=Symbol("INITIAL_VALUE");function ro(){return pe(t=>Uo(t.map(e=>e.pipe(_n(1),Ld(bc)))).pipe(I(e=>{for(let n of e)if(n!==!0){if(n===bc)return bc;if(n===!1||n instanceof er)return n}return!0}),st(e=>e!==bc),_n(1)))}function SO(t,e){return Ie(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?M(ne(y({},n),{guardsResult:!0})):TO(s,r,i,t).pipe(Ie(a=>a&&CO(a)?MO(r,o,t,e):M(a)),I(a=>ne(y({},n),{guardsResult:a})))})}function TO(t,e,n,r){return ie(t).pipe(Ie(i=>PO(i.component,i.route,n,e,r)),Ct(i=>i!==!0,!0))}function MO(t,e,n,r){return ie(e).pipe(Tr(i=>wi(xO(i.route.parent,r),AO(i.route,r),RO(t,i.path,n),NO(t,i.route,n))),Ct(i=>i!==!0,!0))}function AO(t,e){return t!==null&&e&&e(new kp(t)),M(!0)}function xO(t,e){return t!==null&&e&&e(new Pp(t)),M(!0)}function NO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return M(!0);let i=r.map(o=>dl(()=>{let s=Ls(e)??n,a=io(o,s),l=DO(a)?a.canActivate(e,t):Zn(s,()=>a(e,t));return ir(l).pipe(Ct())}));return M(i).pipe(ro())}function RO(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>vO(s)).filter(s=>s!==null).map(s=>dl(()=>{let a=s.guards.map(l=>{let c=Ls(s.node)??n,u=io(l,c),d=EO(u)?u.canActivateChild(r,t):Zn(c,()=>u(r,t));return ir(d).pipe(Ct())});return M(a).pipe(ro())}));return M(o).pipe(ro())}function PO(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let l=Ls(e)??i,c=io(a,l),u=IO(c)?c.canDeactivate(t,e,n,r):Zn(l,()=>c(t,e,n,r));return ir(u).pipe(Ct())});return M(s).pipe(ro())}function OO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return M(!0);let o=i.map(s=>{let a=io(s,t),l=wO(a)?a.canLoad(e,n):Zn(t,()=>a(e,n));return ir(l)});return M(o).pipe(ro(),XD(r))}function XD(t){return Id(be(e=>{if(to(e))throw QD(t,e)}),I(e=>e===!0))}function kO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return M(!0);let o=i.map(s=>{let a=io(s,t),l=bO(a)?a.canMatch(e,n):Zn(t,()=>a(e,n));return ir(l)});return M(o).pipe(ro(),XD(r))}var Ps=class{constructor(e){this.segmentGroup=e||null}},Vc=class extends Error{constructor(e){super(),this.urlTree=e}};function Yi(t){return Ci(new Ps(t))}function FO(t){return Ci(new b(4e3,!1))}function LO(t){return Ci(YD(!1,bt.GuardRejected))}var Hp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return M(r);if(i.numberOfChildren>1||!i.children[V])return FO(e.redirectTo);i=i.children[V]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Vc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new er(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ee(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Gp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VO(t,e,n,r,i){let o=Zp(t,e,n);return o.matched?(r=hO(e,r),kO(r,e,n,i).pipe(I(s=>s===!0?o:y({},Gp)))):M(o)}function Zp(t,e,n){if(e.path==="**")return jO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?y({},Gp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||kP)(n,t,e);if(!i)return y({},Gp);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?y(y({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function jO(t){return{matched:!0,parameters:t.length>0?RD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function MD(t,e,n,r){return n.length>0&&$O(t,n,r)?{segmentGroup:new ee(e,UO(r,new ee(n,t.children))),slicedSegments:[]}:n.length===0&&HO(t,n,r)?{segmentGroup:new ee(t.segments,BO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ee(t.segments,t.children),slicedSegments:n}}function BO(t,e,n,r){let i={};for(let o of n)if($c(t,e,o)&&!r[an(o)]){let s=new ee([],{});i[an(o)]=s}return y(y({},r),i)}function UO(t,e){let n={};n[V]=e;for(let r of t)if(r.path===""&&an(r)!==V){let i=new ee([],{});n[an(r)]=i}return n}function $O(t,e,n){return n.some(r=>$c(t,e,r)&&an(r)!==V)}function HO(t,e,n){return n.some(r=>$c(t,e,r))}function $c(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function GO(t,e,n,r){return an(t)!==r&&(r===V||!$c(e,n,t))?!1:Zp(e,t,n).matched}function WO(t,e,n){return e.length===0&&!t.children[n]}var Wp=class{};function zO(t,e,n,r,i,o,s="emptyOnly"){return new zp(t,e,n,r,i,s,o).recognize()}var qO=31,zp=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Hp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=MD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(I(n=>{let r=new Ns([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,{},V,this.rootComponentType,null,{}),i=new ht(r,n),o=new Fc("",i),s=eO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,V).pipe(Un(r=>{if(r instanceof Vc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ps?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Kp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(I(o=>o instanceof ht?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return ie(i).pipe(Tr(o=>{let s=r.children[o],a=pO(n,o);return this.processSegmentGroup(e,a,s,o)}),Ii((o,s)=>(o.push(...s),o)),$n(null),Od(),Ie(o=>{if(o===null)return Yi(r);let s=eE(o);return KO(s),M(s)}))}processSegment(e,n,r,i,o,s){return ie(n).pipe(Tr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Un(l=>{if(l instanceof Ps)return M(null);throw l}))),Ct(a=>!!a),Un(a=>{if(JD(a))return WO(r,i,o)?M(new Wp):Yi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return GO(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Yi(i):Yi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=Zp(n,i,o);if(!a)return Yi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qO&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ie(f=>this.processSegment(e,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=VO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(pe(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pe(({routes:l})=>{let c=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new Ns(u,f,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,YO(r),an(r),r.component??r._loadedComponent??null,r,ZO(r)),{segmentGroup:p,slicedSegments:g}=MD(n,u,d,l);if(g.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe(I(S=>S===null?null:new ht(h,S)));if(l.length===0&&g.length===0)return M(new ht(h,[]));let D=an(r)===o;return this.processSegment(c,l,p,g,D?V:o,!0).pipe(I(S=>new ht(h,S instanceof ht?[S]:[])))}))):Yi(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?M({routes:n._loadedRoutes,injector:n._loadedInjector}):OO(e,n,r,this.urlSerializer).pipe(Ie(i=>i?this.configLoader.loadChildren(e,n).pipe(be(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):LO(n))):M({routes:[],injector:e})}};function KO(t){t.sort((e,n)=>e.value.outlet===V?-1:n.value.outlet===V?1:e.value.outlet.localeCompare(n.value.outlet))}function QO(t){let e=t.value.routeConfig;return e&&e.path===""}function eE(t){let e=[],n=new Set;for(let r of t){if(!QO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=eE(r.children);e.push(new ht(r.value,i))}return e.filter(r=>!n.has(r))}function YO(t){return t.data||{}}function ZO(t){return t.resolve||{}}function JO(t,e,n,r,i,o){return Ie(s=>zO(t,e,n,r,s.extractedUrl,i,o).pipe(I(({state:a,tree:l})=>ne(y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function XO(t,e){return Ie(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return M(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of tE(l))s.add(c);let a=0;return ie(s).pipe(Tr(l=>o.has(l)?e1(l,r,t,e):(l.data=Kp(l,l.parent,t).resolve,M(void 0))),be(()=>a++),Ei(1),Ie(l=>a===s.size?M(n):it))})}function tE(t){let e=t.children.map(n=>tE(n)).flat();return[t,...e]}function e1(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!qD(i)&&(o[Os]=i.title),t1(o,t,e,r).pipe(I(s=>(t._resolvedData=s,t.data=Kp(t,t.parent,n).resolve,null)))}function t1(t,e,n,r){let i=Ep(t);if(i.length===0)return M({});let o={};return ie(i).pipe(Ie(s=>n1(t[s],e,n,r).pipe(Ct(),be(a=>{o[s]=a}))),Ei(1),Rd(o),Un(s=>JD(s)?it:Ci(s)))}function n1(t,e,n,r){let i=Ls(e)??r,o=io(t,i),s=o.resolve?o.resolve(e,n):Zn(i,()=>o(e,n));return ir(s)}function wp(t){return pe(e=>{let n=t(e);return n?ie(n).pipe(I(()=>e)):M(e)})}var nE=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===V);return i}getResolvedTitleForRoute(r){return r.data[Os]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>_(r1),providedIn:"root"});let t=e;return t})(),r1=(()=>{let e=class e extends nE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(v(DD))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),js=new C("",{providedIn:"root",factory:()=>({})}),jc=new C(""),Jp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(yc)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return M(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ir(r.loadComponent()).pipe(I(rE),be(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),$o(()=>{this.componentLoaders.delete(r)})),o=new gi(i,()=>new Ee).pipe(pi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return M({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=i1(i,this.compiler,r,this.onLoadEndListener).pipe($o(()=>{this.childrenLoaders.delete(i)})),a=new gi(s,()=>new Ee).pipe(pi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function i1(t,e,n,r){return ir(t.loadChildren()).pipe(I(rE),Ie(i=>i instanceof os||Array.isArray(i)?M(i):ie(e.compileModuleAsync(i))),I(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(jc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Yp),injector:o}}))}function o1(t){return t&&typeof t=="object"&&"default"in t}function rE(t){return o1(t)?t.default:t}var Xp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>_(s1),providedIn:"root"});let t=e;return t})(),s1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iE=new C(""),oE=new C("");function a1(t,e,n){let r=t.get(oE),i=t.get(Ze);return t.get(q).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),l1(t))),{onViewTransitionCreated:l}=r;return l&&Zn(t,()=>l({transition:a,from:e,to:n})),s})}function l1(t){return new Promise(e=>{$h(e,{injector:t})})}var eg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee,this.transitionAbortSubject=new Ee,this.configLoader=_(Jp),this.environmentInjector=_(ft),this.urlSerializer=_(ks),this.rootContexts=_(Fs),this.location=_(Qi),this.inputBindingEnabled=_(Uc,{optional:!0})!==null,this.titleStrategy=_(nE),this.options=_(js,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(Xp),this.createViewTransition=_(iE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Np(o)),i=o=>this.events.next(new Rp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ne(y(y({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ve({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Is,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(st(s=>s.id!==0),I(s=>ne(y({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),pe(s=>{this.currentTransition=s;let a=!1,l=!1;return M(s).pipe(be(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ne(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pe(c=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new nr(c.id,this.urlSerializer.serialize(c.rawUrl),f,Nc.IgnoredSameUrlNavigation)),c.resolve(null),it}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return M(c).pipe(pe(f=>{let h=this.transitions?.getValue();return this.events.next(new no(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?it:Promise.resolve(f)}),JO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),be(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ne(y({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new Rc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:g,extras:D}=c,S=new no(f,this.urlSerializer.serialize(h),p,g);this.events.next(S);let J=WD(this.rootComponentType).snapshot;return this.currentTransition=s=ne(y({},c),{targetSnapshot:J,urlAfterRedirects:h,extras:ne(y({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,M(s)}else{let f="";return this.events.next(new nr(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Nc.IgnoredByUrlHandlingStrategy)),c.resolve(null),it}}),be(c=>{let u=new Tp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),I(c=>(this.currentTransition=s=ne(y({},c),{guards:mO(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),SO(this.environmentInjector,c=>this.events.next(c)),be(c=>{if(s.guardsResult=c.guardsResult,to(c.guardsResult))throw QD(this.urlSerializer,c.guardsResult);let u=new Mp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),st(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",bt.GuardRejected),!1)),wp(c=>{if(c.guards.canActivateChecks.length)return M(c).pipe(be(u=>{let d=new Ap(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),pe(u=>{let d=!1;return M(u).pipe(XO(this.paramsInheritanceStrategy,this.environmentInjector),be({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",bt.NoDataFromResolver)}}))}),be(u=>{let d=new xp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),wp(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(be(h=>{d.component=h}),I(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Uo(u(c.targetSnapshot.root)).pipe($n(null),_n(1))}),wp(()=>this.afterPreactivation()),pe(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?ie(d).pipe(I(()=>s)):M(s)}),I(c=>{let u=lO(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=ne(y({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),be(()=>{this.events.next(new As)}),gO(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),_n(1),be({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Vd(this.transitionAbortSubject.pipe(be(c=>{throw c}))),$o(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",bt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Un(c=>{if(l=!0,ZD(c))this.events.next(new tr(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),dO(c)?this.events.next(new xs(c.url)):s.resolve(!1);else{this.events.next(new Ms(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return it}))}))}cancelNavigationTransition(r,i,o){let s=new tr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function c1(t){return t!==Is}var u1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>_(d1),providedIn:"root"});let t=e;return t})(),qp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},d1=(()=>{let e=class e extends qp{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$i(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>_(f1),providedIn:"root"});let t=e;return t})(),f1=(()=>{let e=class e extends sE{constructor(){super(...arguments),this.location=_(Qi),this.urlSerializer=_(ks),this.options=_(js,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(Xp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=WD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof no)this.stateMemento=this.createStateMemento();else if(r instanceof nr)this.rawUrlTree=i.initialUrl;else if(r instanceof Rc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof As?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof tr&&(r.code===bt.GuardRejected||r.code===bt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ms?this.restoreHistory(i,!0):r instanceof sn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=y(y({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$i(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ds=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ds||{});function aE(t,e){t.events.pipe(st(n=>n instanceof sn||n instanceof tr||n instanceof Ms||n instanceof nr),I(n=>n instanceof sn||n instanceof nr?Ds.COMPLETE:(n instanceof tr?n.code===bt.Redirect||n.code===bt.SupersededByNewNavigation:!1)?Ds.REDIRECTING:Ds.FAILED),st(n=>n!==Ds.REDIRECTING),_n(1)).subscribe(()=>{e()})}function h1(t){throw t}var p1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=_(pc),this.stateManager=_(sE),this.options=_(js,{optional:!0})||{},this.pendingTasks=_(dc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(eg),this.urlSerializer=_(ks),this.location=_(Qi),this.urlHandlingStrategy=_(Xp),this._events=new Ee,this.errorHandler=this.options.errorHandler||h1,this.navigated=!1,this.routeReuseStrategy=_(u1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(jc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(Uc,{optional:!0}),this.eventsSubscription=new we,this.isNgZoneEnabled=_(q)instanceof q&&q.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof tr&&i.code!==bt.Redirect&&i.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof sn)this.navigated=!0;else if(i instanceof xs){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||c1(o.source)};this.scheduleNavigation(a,Is,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}v1(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Is,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=y({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Yp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=y(y({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=UD(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return $D(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=to(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Is,null,i)}navigate(r,i={skipLocationChange:!1}){return m1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=y({},p1):i===!1?o=y({},g1):o=i,to(r))return ED(this.currentUrlTree,r,o);let s=this.parseUrl(r);return ED(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return aE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function m1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function v1(t){return!(t instanceof As)&&!(t instanceof xs)}var ln=(()=>{let e=class e{constructor(r,i,o,s,a,l){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new Ee,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:$C(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(w(rr),w(xe),Nh("tabindex"),w(An),w(Bt),w(Rn))},e.\u0275dir=Ge({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&ze("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ps("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ae.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Xn],skipLocationChange:[Ae.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Xn],replaceUrl:[Ae.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Xn],routerLink:"routerLink"},standalone:!0,features:[Wh,dt]});let t=e;return t})();var Bc=class{};var y1=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(st(r=>r instanceof sn),Tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=uc(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return ie(o).pipe(Bn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=M(null);let s=o.pipe(Ie(a=>a===null?M(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ie([s,a]).pipe(Bn())}else return s})}};e.\u0275fac=function(i){return new(i||e)(v(rr),v(yc),v(ft),v(Bc),v(Jp))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lE=new C(""),_1=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof no?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof sn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof nr&&r.code===Nc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Pc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){ew()},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function C1(t){return t.routerState.root}function Bs(t,e){return{\u0275kind:t,\u0275providers:e}}function w1(){let t=_(Ut);return e=>{let n=t.get(Ki);if(e!==n.components[0])return;let r=t.get(rr),i=t.get(cE);t.get(tg)===1&&r.initialNavigation(),t.get(uE,null,$.Optional)?.setUpPreloading(),t.get(lE,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cE=new C("",{factory:()=>new Ee}),tg=new C("",{providedIn:"root",factory:()=>1});function D1(){return Bs(2,[{provide:tg,useValue:0},{provide:vc,multi:!0,deps:[Ut],useFactory:e=>{let n=e.get(lD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(rr),o=e.get(cE);aE(i,()=>{r(!0)}),e.get(eg).afterPreactivation=()=>(r(!0),o.closed?M(void 0):o),i.initialNavigation()}))}}])}function E1(){return Bs(3,[{provide:vc,multi:!0,useFactory:()=>{let e=_(rr);return()=>{e.setUpLocationChangeListener()}}},{provide:tg,useValue:2}])}var uE=new C("");function I1(t){return Bs(0,[{provide:uE,useExisting:y1},{provide:Bc,useExisting:t}])}function b1(){return Bs(8,[TD,{provide:Uc,useExisting:TD}])}function S1(t){let e=[{provide:iE,useValue:a1},{provide:oE,useValue:y({skipNextTransition:!!t?.skipInitialTransition},t)}];return Bs(9,e)}var AD=new C("ROUTER_FORROOT_GUARD"),T1=[Qi,{provide:ks,useClass:Ss},rr,Fs,{provide:xe,useFactory:C1,deps:[rr]},Jp,[]],ng=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[T1,[],{provide:jc,multi:!0,useValue:r},{provide:AD,useFactory:N1,deps:[[rr,new ds,new lC]]},{provide:js,useValue:i||{}},i?.useHash?A1():x1(),M1(),i?.preloadingStrategy?I1(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?R1(i):[],i?.bindToComponentInputs?b1().\u0275providers:[],i?.enableViewTransitions?S1().\u0275providers:[],P1()]}}static forChild(r){return{ngModule:e,providers:[{provide:jc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(v(AD,8))},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({});let t=e;return t})();function M1(){return{provide:lE,useFactory:()=>{let t=_(fD),e=_(q),n=_(js),r=_(eg),i=_(ks);return n.scrollOffset&&t.setOffset(n.scrollOffset),new _1(i,r,t,e,n)}}}function A1(){return{provide:Rn,useClass:cD}}function x1(){return{provide:Rn,useClass:sp}}function N1(t){return"guarded"}function R1(t){return[t.initialNavigation==="disabled"?E1().\u0275providers:[],t.initialNavigation==="enabledBlocking"?D1().\u0275providers:[]]}var xD=new C("");function P1(){return[{provide:xD,useFactory:w1},{provide:Jh,multi:!0,useExisting:xD}]}var O1="firebase",k1="10.8.1";jn(O1,k1,"app");var oo=new In("ANGULARFIRE2_VERSION");var F1=(t,e)=>{let n=e?[e]:cy(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},zr=class{constructor(){return F1(L1)}},L1="app-check";function rg(){}var Hc=class{zone;delegate;constructor(e,n=Md){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},ig=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rg,{},rg,rg)),n.pipe(be({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Gc=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Hc(Zone.current)),this.insideAngular=n.run(()=>new Hc(Zone.current,Bo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(v(q))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V1(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Pn(t){return j1(V1())(t)}function j1(t){return function(n){return n=n.lift(new ig(t.ngZone)),n.pipe(Rt(t.outsideAngular),_t(t.insideAngular))}}var $1=new Map,H1={activated:!1,tokenObservers:[]},G1={initialized:!1,enabled:!1};function Ht(t){return $1.get(t)||Object.assign({},H1)}function mE(){return G1}var W1="https://content-firebaseappcheck.googleapis.com/v1";var z1="exchangeDebugToken",fE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},eW=24*60*60*1e3;var sg=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return tt(this,null,function*(){this.stop();try{this.pending=new Ne,this.pending.promise.catch(n=>{}),yield q1(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ne,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function q1(t){return new Promise(e=>{setTimeout(e,t)})}var K1={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},or=new ty("appCheck","AppCheck",K1);function vE(t){if(!Ht(t).activated)throw or.create("use-before-activation",{appName:t.name})}function yE(r,i){return tt(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(h){throw or.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw or.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw or.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw or.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function _E(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${W1}/projects/${n}/apps/${r}:${z1}?key=${i}`,body:{debug_token:e}}}var Q1="firebase-app-check-database",Y1=1,ag="firebase-app-check-store";var Wc=null;function Z1(){return Wc||(Wc=new Promise((t,e)=>{try{let n=indexedDB.open(Q1,Y1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(or.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ag,{keyPath:"compositeKey"})}}}catch(n){e(or.create("storage-open",{originalErrorMessage:n?.message}))}}),Wc)}function J1(t,e){return X1(ek(t),e)}function X1(t,e){return tt(this,null,function*(){let r=(yield Z1()).transaction(ag,"readwrite"),o=r.objectStore(ag).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(or.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function ek(t){return`${t.options.appId}-${t.name}`}var lg=new ci("@firebase/app-check");function og(t,e){return ey()?J1(t,e).catch(n=>{lg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function CE(){return mE().enabled}function wE(){return tt(this,null,function*(){let t=mE();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var tk={error:"UNKNOWN_ERROR"};function nk(t){return Va.encodeString(JSON.stringify(t),!1)}function cg(t,e=!1){return tt(this,null,function*(){let n=t.app;vE(n);let r=Ht(n),i=r.token,o;if(i&&!Us(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(Us(l)?i=l:yield og(n,void 0))}if(!e&&i&&Us(i))return{token:i.token};let s=!1;if(CE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yE(_E(n,yield wE()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let l=yield r.exchangeTokenPromise;return yield og(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Ht(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?lg.warn(l.message):lg.error(l),o=l}let a;return i?o?Us(i)?a={token:i.token,internalError:o}:a=pE(o):(a={token:i.token},r.token=i,yield og(n,i)):a=pE(o),s&&sk(n,a),a})}function rk(t){return tt(this,null,function*(){let e=t.app;vE(e);let{provider:n}=Ht(e);if(CE()){let r=yield wE(),{token:i}=yield yE(_E(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function ik(t,e,n,r){let{app:i}=t,o=Ht(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Us(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),hE(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>hE(t))}function DE(t,e){let n=Ht(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function hE(t){let{app:e}=t,n=Ht(e),r=n.tokenRefresher;r||(r=ok(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ok(t){let{app:e}=t;return new sg(()=>tt(this,null,function*(){let n=Ht(e),r;if(n.token?r=yield cg(t,!0):r=yield cg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Ht(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},fE.RETRIAL_MIN_WAIT,fE.RETRIAL_MAX_WAIT)}function sk(t,e){let n=Ht(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Us(t){return t.expireTimeMillis-Date.now()>0}function pE(t){return{token:nk(tk),error:t}}var ug=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Ht(this.app);for(let n of e)DE(this.app,n.next);return Promise.resolve()}};function ak(t,e){return new ug(t,e)}function lk(t){return{getToken:e=>cg(t,e),getLimitedUseToken:()=>rk(t),addTokenListener:e=>ik(t,"INTERNAL",e),removeTokenListener:e=>DE(t.app,e)}}var ck="@firebase/app-check",uk="0.8.2";var dk="app-check",gE="app-check-internal";function fk(){Lo(new mn(dk,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return ak(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(gE).initialize()})),Lo(new mn(gE,t=>{let e=t.getProvider("app-check").getImmediate();return lk(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),jn(ck,uk)}fk();var hk=["localhost","0.0.0.0","127.0.0.1"],fW=typeof window<"u"&&hk.includes(window.location.hostname);var pk="firebase",gk="10.8.1";rt.registerVersion(pk,gk,"app-compat");var mk=["ngOnDestroy"],bE=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(mk.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var zc=class{constructor(e){return e}},so=new C("angularfire2.app.options"),ao=new C("angularfire2.app.name");function $s(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=rt.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>rt.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;vk("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new zc(s)}var vk=(t,...e)=>{tp()&&typeof console<"u"&&console[t](...e)},yk={provide:zc,useFactory:$s,deps:[so,q,[new ds,ao]]},SE=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:so,useValue:n},{provide:ao,useValue:r}]}}constructor(n){rt.registerVersion("angularfire",oo.full,"core"),rt.registerVersion("angularfire",oo.full,"app-compat"),rt.registerVersion("angular",qw.full,n.toString())}static \u0275fac=function(r){return new(r||t)(v(ut))};static \u0275mod=_e({type:t});static \u0275inj=Ce({providers:[yk]})}return t})();function qc(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return _k(i,s)||(IE("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Ck?" You may need to reload as Firebase is not HMR aware.":""}`),IE("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function _k(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var Ck=typeof module<"u"&&!!module.hot,IE=(t,...e)=>{tp()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var dg=new C("angularfire2.auth.use-emulator"),fg=new C("angularfire2.auth.settings"),hg=new C("angularfire2.auth.tenant-id"),pg=new C("angularfire2.auth.langugage-code"),gg=new C("angularfire2.auth.use-device-language"),mg=new C("angularfire.auth.persistence"),vg=(t,e,n,r,i,o,s,a)=>qc(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]),TE=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,c,u,d,f,h){let p=new Ee,g=M(void 0).pipe(_t(s.outsideAngular),pe(()=>o.runOutsideAngular(()=>import("./chunk-GIIXDRLZ.js"))),I(()=>$s(n,o,r)),I(D=>vg(D,o,a,c,u,d,l,f)),hl({bufferSize:1,refCount:!1}));if(ms(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=M(null);else{g.pipe(Ct()).subscribe();let D=g.pipe(pe(P=>P.getRedirectResult().then(he=>he,()=>null)),Pn,hl({bufferSize:1,refCount:!1})),S=g.pipe(pe(P=>new W(he=>({unsubscribe:o.runOutsideAngular(()=>P.onAuthStateChanged(de=>he.next(de),de=>he.error(de),()=>he.complete()))})))),J=g.pipe(pe(P=>new W(he=>({unsubscribe:o.runOutsideAngular(()=>P.onIdTokenChanged(de=>he.next(de),de=>he.error(de),()=>he.complete()))}))));this.authState=D.pipe(pl(S),Rt(s.outsideAngular),_t(s.insideAngular)),this.user=D.pipe(pl(J),Rt(s.outsideAngular),_t(s.insideAngular)),this.idToken=this.user.pipe(pe(P=>P?ie(P.getIdToken()):M(null))),this.idTokenResult=this.user.pipe(pe(P=>P?ie(P.getIdTokenResult()):M(null))),this.credential=Di(D,p,this.authState.pipe(st(P=>!P))).pipe(I(P=>P?.user?P:null),Rt(s.outsideAngular),_t(s.insideAngular))}return bE(this,g,o,{spy:{apply:(D,S,J)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&J.then(P=>p.next(P))}}})}static \u0275fac=function(r){return new(r||t)(v(so),v(ao,8),v(ut),v(q),v(Gc),v(dg,8),v(fg,8),v(hg,8),v(pg,8),v(gg,8),v(mg,8),v(zr,8))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var ME="@firebase/database",AE="1.0.3";var Am="";function xm(t){Am=t}var bg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),De(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ja(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Sg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return yt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var s0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bg(e)}}catch{}return new Sg},Kr=s0("localStorage"),Tg=s0("sessionStorage");var fo=new ci("@firebase/database"),a0=function(){let t=1;return function(){return t++}}(),l0=function(t){let e=sy(t),n=new oy;n.update(e);let r=n.digest();return Va.encodeByteArray(r)},fa=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=fa.apply(null,r):typeof r=="object"?e+=De(r):e+=r,e+=" "}return e},Qr=null,xE=!0,c0=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(fo.logLevel=ay.VERBOSE,Qr=fo.log.bind(fo),e&&Tg.set("logging_enabled",!0)):typeof t=="function"?Qr=t:(Qr=null,Tg.remove("logging_enabled"))},Oe=function(...t){if(xE===!0&&(xE=!1,Qr===null&&Tg.get("logging_enabled")===!0&&c0(!0)),Qr){let e=fa.apply(null,t);Qr(e)}},ha=function(t){return function(...e){Oe(t,...e)}},Mg=function(...t){let e="FIREBASE INTERNAL ERROR: "+fa(...t);fo.error(e)},fn=function(...t){let e=`FIREBASE FATAL ERROR: ${fa(...t)}`;throw fo.error(e),new Error(e)},qe=function(...t){let e="FIREBASE WARNING: "+fa(...t);fo.warn(e)},Dk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ek=function(t){if(zt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},cr="[MIN_NAME]",On="[MAX_NAME]",Zr=function(t,e){if(t===e)return 0;if(t===cr||e===On)return-1;if(e===cr||t===On)return 1;{let n=NE(t),r=NE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ik=function(t,e){return t===e?0:t<e?-1:1},Hs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+De(e))},Nm=function(t){if(typeof t!="object"||t===null)return De(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=De(e[r]),n+=":",n+=Nm(t[e[r]]);return n+="}",n},u0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ke(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var d0=function(t){m(!wu(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},bk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Sk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Tk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var Mk=new RegExp("^-?(0*)\\d{1,10}$"),Ak=-2147483648,xk=2147483647,NE=function(t){if(Mk.test(t)){let e=Number(t);if(e>=Ak&&e<=xk)return e}return null},wo=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw qe("Exception was thrown by user callback.",n),e},Math.floor(0))}},Nk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qs=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Ag=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var xg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Oe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qe(e)}},Ks=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Qc="5",f0="v",h0="s",p0="r",g0="f",m0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,v0="ls",y0="p",Ng="ac",_0="websocket",C0="long_polling";var Yc=class{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Kr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function Rk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function w0(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===_0)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===C0)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Rk(t)&&(n.ns=t.namespace);let i=[];return ke(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Rg=class{constructor(){this.counters_={}}incrementCounter(e,n=1){yt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Zv(this.counters_)}};var yg={},_g={};function Rm(t){let e=t.toString();return yg[e]||(yg[e]=new Rg),yg[e]}function Pk(t,e){let n=t.toString();return _g[n]||(_g[n]=e()),_g[n]}var Pg=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&wo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var RE="start",Ok="close",kk="pLPCommand",Fk="pRTLPCB",D0="id",E0="pw",I0="ser",Lk="cb",Vk="seg",jk="ts",Bk="d",Uk="dframe",b0=1870,S0=30,$k=b0-S0,Hk=25e3,Gk=3e4,Js=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ha(e),this.stats_=Rm(n),this.urlFn=l=>(this.appCheckToken&&(l[Ng]=this.appCheckToken),w0(n,C0,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Pg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Gk)),Ek(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Og((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===RE)this.id=a,this.password=l;else if(s===Ok)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[RE]="t",r[I0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Lk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[f0]=Qc,this.transportSessionId&&(r[h0]=this.transportSessionId),this.lastSessionId&&(r[v0]=this.lastSessionId),this.applicationId&&(r[y0]=this.applicationId),this.appCheckToken&&(r[Ng]=this.appCheckToken),typeof location<"u"&&location.hostname&&m0.test(location.hostname)&&(r[p0]=g0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return zt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bk()&&!Sk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=De(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Yv(n),i=u0(r,$k);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(zt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Uk]="t",r[D0]=e,r[E0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=De(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Og=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,zt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=a0(),window[kk+this.uniqueCallbackIdentifier]=e,window[Fk+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Oe("frame writing exception"),a.stack&&Oe(a.stack),Oe(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Oe("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[D0]=this.myID,e[E0]=this.myPW,e[I0]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+S0+r.length<=b0;){let s=this.pendingSegs.shift();r=r+"&"+Vk+i+"="+s.seg+"&"+jk+i+"="+s.ts+"&"+Bk+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Hk)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){zt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Oe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Wk=16384,zk=45e3,Zc=null;typeof MozWebSocket<"u"?Zc=MozWebSocket:typeof WebSocket<"u"&&(Zc=WebSocket);var co=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ha(this.connId),this.stats_=Rm(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[f0]=Qc,!zt()&&typeof location<"u"&&location.hostname&&m0.test(location.hostname)&&(a[p0]=g0),r&&(a[h0]=r),i&&(a[v0]=i),o&&(a[Ng]=o),s&&(a[y0]=s),w0(n,_0,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kr.set("previous_websocket_failure",!0);try{let i;if(zt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Qc}/${Am}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Zc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Zc!==null&&!t.forceDisallow_}static previouslyFailed(){return Kr.isInMemoryStorage||Kr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Kr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ja(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=De(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=u0(r,Wk);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zk))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),T0=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Js,co]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=co&&co.isAvailable(),i=r&&!co.previouslyFailed();if(n.webSocketOnly&&(r||qe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[co];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),qk=6e4,Kk=5e3,Qk=10*1024,Yk=100*1024,Cg="t",PE="d",Zk="s",OE="r",Jk="e",kE="o",FE="a",LE="n",VE="p",Xk="h",kg=class{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ha("c:"+this.id+":"),this.transportManager_=new T0(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=qs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Yk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Qk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Cg in e){let n=e[Cg];n===FE?this.upgradeIfSecondaryHealthy_():n===OE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Hs("t",e),r=Hs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:VE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:FE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Hs("t",e),r=Hs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Hs(Cg,e);if(PE in e){let r=e[PE];if(n===Xk){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===LE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Zk?this.onConnectionShutdown_(r):n===OE?this.onReset_(r):n===Jk?Mg("Server Error: "+r):n===kE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qc!==r&&qe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),qs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(qk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Kk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:VE,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Jc=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Xc=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var eu=class t extends Xc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!dd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var jE=32,BE=768,Z=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Y(){return new Z("")}function B(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ur(t){return t.pieces_.length-t.pieceNum_}function le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Z(t.pieces_,e)}function Pm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function eF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Xs(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function M0(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Z(e,0)}function ge(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Z)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Z(n,0)}function U(t){return t.pieceNum_>=t.pieces_.length}function Je(t,e){let n=B(t),r=B(e);if(n===null)return e;if(n===r)return Je(le(t),le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tF(t,e){let n=Xs(t,0),r=Xs(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=Zr(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Om(t,e){if(ur(t)!==ur(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Tt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ur(t)>ur(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Fg=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Xs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fo(this.parts_[r]);A0(this)}};function nF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Fo(e),A0(t)}function rF(t){let e=t.parts_.pop();t.byteLength_-=Fo(e),t.parts_.length>0&&(t.byteLength_-=1)}function A0(t){if(t.byteLength_>BE)throw new Error(t.errorPrefix_+"has a key path longer than "+BE+" bytes ("+t.byteLength_+").");if(t.parts_.length>jE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jE+") or object contains a cycle "+qr(t))}function qr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Lg=class t extends Xc{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var Gs=1e3,iF=60*5*1e3,UE=30*1e3,oF=1.3,sF=3e4,aF="server_kill",$E=3,km=(()=>{class t extends Jc{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=ha("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gs,this.maxReconnectDelay_=iF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!zt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&eu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(De(s)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Ne,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&yt(n,"w")){let i=Vn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();qe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||ry(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=UE)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=ny(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+De(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Mg("Unrecognized action received from server: "+De(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>sF&&(this.reconnectDelay_=Gs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oF)}this.onConnectStatus_(!1)}establishConnection_(){return tt(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){m(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Oe("getToken() completed but was canceled"):(Oe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new kg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{qe(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(aF)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&qe(f),c())}}})}interrupt(n){Oe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Oe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ba(this.interruptReasons_)&&(this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Nm(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new Z(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Oe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$E&&(this.reconnectDelay_=UE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Oe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$E&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";zt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Am.replace(/\./g,"-")]=1,dd()?n["framework.cordova"]=1:Xv()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=eu.getInstance().currentlyOnline();return Ba(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),G=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var ho=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new G(cr,e),i=new G(cr,n);return this.compare(r,i)!==0}minPost(){return G.MIN}};var Kc,tu=class extends ho{static get __EMPTY_NODE(){return Kc}static set __EMPTY_NODE(e){Kc=e}compare(e,n){return Zr(e.name,n.name)}isDefinedOn(e){throw li("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return G.MIN}maxPost(){return new G(On,Kc)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new G(e,Kc)}toString(){return".key"}},dn=new tu;var uo=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Gt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Mt.EMPTY_NODE,this.right=s??Mt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Mt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Vg=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Gt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Mt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Gt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new uo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new uo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new uo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new uo(this.root_,null,this.comparator_,!0,e)}};Mt.EMPTY_NODE=new Vg;function lF(t,e){return Zr(t.name,e.name)}function Fm(t,e){return Zr(t,e)}var jg;function cF(t){jg=t}var x0=function(t){return typeof t=="number"?"number:"+d0(t):"string:"+t},N0=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&yt(e,".sv"),"Priority must be a string or number.")}else m(t===jg||t.isEmpty(),"priority of unexpected type.");m(t===jg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var HE,po=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),N0(this.priorityNode_)}static set __childrenNodeConstructor(n){HE=n}static get __childrenNodeConstructor(){return HE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return U(n)?this:B(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=B(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||ur(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+x0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=d0(this.value_):n+=this.value_,this.lazyHash_=l0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return m(o>=0,"Unknown leaf type: "+r),m(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),R0,P0;function uF(t){R0=t}function dF(t){P0=t}var Bg=class extends ho{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Zr(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return G.MIN}maxPost(){return new G(On,new po("[PRIORITY-POST]",P0))}makePost(e,n){let r=R0(e);return new G(n,new po("[PRIORITY-POST]",r))}toString(){return".priority"}},ce=new Bg;var fF=Math.log(2),Ug=class{constructor(e){let n=o=>parseInt(Math.log(o)/fF,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},nu=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Gt(f,d.node,Gt.BLACK,null,null);{let h=parseInt(u/2,10)+l,p=i(l,h),g=i(h+1,c);return d=t[h],f=n?n(d):d,new Gt(f,d.node,Gt.BLACK,p,g)}},o=function(l){let c=null,u=null,d=t.length,f=function(p,g){let D=d-p,S=d;d-=p;let J=i(D+1,S),P=t[D],he=n?n(P):P;h(new Gt(he,P.node,g,null,J))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),D=Math.pow(2,l.count-(p+1));g?f(D,Gt.BLACK):(f(D,Gt.BLACK),f(D,Gt.RED))}return u},s=new Ug(t.length),a=o(s);return new Mt(r||e,a)};var wg,lo={},go=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(lo&&ce,"ChildrenNode.ts has not been loaded"),wg=wg||new t({".priority":lo},{".priority":ce}),wg}get(e){let n=Vn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Mt?n:null}hasIndex(e){return yt(this.indexSet_,e.toString())}addIndex(e,n){m(e!==dn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(G.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=nu(r,e.getCompare()):a=lo;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=ko(this.indexes_,(i,o)=>{let s=Vn(this.indexSet_,o);if(m(s,"Missing index implementation for "+o),i===lo)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(G.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),nu(a,s.getCompare())}else return lo;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new G(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=ko(this.indexes_,i=>{if(i===lo)return i;{let o=n.get(e.name);return o?i.remove(new G(e.name,o)):i}});return new t(r,this.indexSet_)}};var Ws,F=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&N0(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ws||(Ws=new t(new Mt(Fm),null,go.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ws}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ws:r}}getChild(n){let r=B(n);return r===null?this:this.getImmediateChild(r).getChild(le(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new G(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Ws:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=B(n);if(i===null)return r;{m(B(n)!==".priority"||ur(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(le(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ce,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+x0(this.getPriority().val())+":"),this.forEachChild(ce,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":l0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new G(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new G(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new G(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,G.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,G.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===pa?-1:0}withIndex(n){if(n===dn||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===dn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ce),o=r.getIterator(ce),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===dn?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),$g=class extends F{constructor(){super(new Mt(Fm),F.EMPTY_NODE,go.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return F.EMPTY_NODE}isEmpty(){return!1}},pa=new $g;Object.defineProperties(G,{MIN:{value:new G(cr,F.EMPTY_NODE)},MAX:{value:new G(On,pa)}});tu.__EMPTY_NODE=F.EMPTY_NODE;po.__childrenNodeConstructor=F;cF(pa);dF(pa);var hF=!0;function ve(t,e=null){if(t===null)return F.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new po(n,ve(e))}if(!(t instanceof Array)&&hF){let n=[],r=!1;if(ke(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=ve(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new G(s,l)))}}),n.length===0)return F.EMPTY_NODE;let o=nu(n,lF,s=>s.name,Fm);if(r){let s=nu(n,ce.getCompare());return new F(o,ve(e),new go({".priority":s},{".priority":ce}))}else return new F(o,ve(e),go.Default)}else{let n=F.EMPTY_NODE;return ke(t,(r,i)=>{if(yt(t,r)&&r.substring(0,1)!=="."){let o=ve(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ve(e))}}uF(ve);var ea=class extends ho{constructor(e){super(),this.indexPath_=e,m(!U(e)&&B(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Zr(e.name,n.name):o}makePost(e,n){let r=ve(e),i=F.EMPTY_NODE.updateChild(this.indexPath_,r);return new G(n,i)}maxPost(){let e=F.EMPTY_NODE.updateChild(this.indexPath_,pa);return new G(On,e)}toString(){return Xs(this.indexPath_,0).join("/")}};var Hg=class extends ho{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Zr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return G.MIN}maxPost(){return G.MAX}makePost(e,n){let r=ve(e);return new G(n,r)}toString(){return".value"}},Lm=new Hg;function O0(t){return{type:"value",snapshotNode:t}}function mo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ta(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function na(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function pF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var ra=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(ta(n,a)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(mo(n,r)):s.trackChildChange(na(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ce,(i,o)=>{n.hasChild(i)||r.trackChildChange(ta(i,o))}),n.isLeafNode()||n.forEachChild(ce,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(na(i,o,s))}else r.trackChildChange(mo(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?F.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var ru=class t{constructor(e){this.indexedFilter_=new ra(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new G(n,r))||(r=F.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=F.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(F.EMPTY_NODE);let o=this;return n.forEachChild(ce,(s,a)=>{o.matches(new G(s,a))||(i=i.updateImmediateChild(s,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Gg=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ru(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new G(n,r))||(r=F.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=F.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(F.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;m(a.numChildren()===this.limit_,"");let l=new G(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(na(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(ta(n,d));let g=a.updateImmediateChild(n,F.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(mo(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(ta(c.name,c.node)),o.trackChildChange(mo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,F.EMPTY_NODE)):e}};var ia=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cr}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:On}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ce}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function gF(t){return t.loadsAllData()?new ra(t.getIndex()):t.hasLimit()?new Gg(t):new ru(t)}function mF(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function vF(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Wg(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function yF(t,e,n){let r;return t.index_===dn||n?r=Wg(t,e,n):r=Wg(t,e,On),r.startAfterSet_=!0,r}function zg(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function _F(t,e,n){let r;return t.index_===dn||n?r=zg(t,e,n):r=zg(t,e,cr),r.endBeforeSet_=!0,r}function Du(t,e){let n=t.copy();return n.index_=e,n}function GE(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ce?n="$priority":t.index_===Lm?n="$value":t.index_===dn?n="$key":(m(t.index_ instanceof ea,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=De(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=De(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+De(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=De(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+De(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function WE(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ce&&(e.i=t.index_.toString()),e}var qg=class t extends Jc{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ha("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=GE(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),Vn(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=GE(e._queryParams),r=e._path.toString(),i=new Ne;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+iy(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ja(a.responseText)}catch{qe("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&qe("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Kg=class{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function iu(){return{value:null,children:new Map}}function Do(t,e,n){if(U(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=B(e);t.children.has(r)||t.children.set(r,iu());let i=t.children.get(r);e=le(e),Do(i,e,n)}}function Qg(t,e){if(U(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(ce,(r,i)=>{Do(t,new Z(r),i)}),Qg(t,e)}}else if(t.children.size>0){let n=B(e);return e=le(e),t.children.has(n)&&Qg(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Yg(t,e,n){t.value!==null?n(e,t.value):CF(t,(r,i)=>{let o=new Z(e.toString()+"/"+r);Yg(i,o,n)})}function CF(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Zg=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ke(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var zE=10*1e3,wF=30*1e3,DF=5*60*1e3,Jg=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Zg(e);let r=zE+(wF-zE)*Math.random();qs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ke(e,(i,o)=>{o>0&&yt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),qs(this.reportStats_.bind(this),Math.floor(Math.random()*2*DF))}};var un=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(un||{});function Vm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Bm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Xg=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=un.ACK_USER_WRITE,this.source=Vm()}operationForChild(e){if(U(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Z(e));return new t(Y(),n,this.revert)}}else return m(B(this.path)===e,"operationForChild called for unrelated child."),new t(le(this.path),this.affectedTree,this.revert)}};var ou=class t{constructor(e,n){this.source=e,this.path=n,this.type=un.LISTEN_COMPLETE}operationForChild(e){return U(this.path)?new t(this.source,Y()):new t(this.source,le(this.path))}};var vo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=un.OVERWRITE}operationForChild(e){return U(this.path)?new t(this.source,Y(),this.snap.getImmediateChild(e)):new t(this.source,le(this.path),this.snap)}};var oa=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=un.MERGE}operationForChild(e){if(U(this.path)){let n=this.children.subtree(new Z(e));return n.isEmpty()?null:n.value?new vo(this.source,Y(),n.value):new t(this.source,Y(),n)}else return m(B(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var hn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(U(e))return this.isFullyInitialized()&&!this.filtered_;let n=B(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var em=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function EF(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(pF(s.childName,s.snapshotNode))}),zs(t,i,"child_removed",e,r,n),zs(t,i,"child_added",e,r,n),zs(t,i,"child_moved",o,r,n),zs(t,i,"child_changed",e,r,n),zs(t,i,"value",e,r,n),i}function zs(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>bF(t,a,l)),s.forEach(a=>{let l=IF(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function IF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function bF(t,e,n){if(e.childName==null||n.childName==null)throw li("Should only compare child_ events.");let r=new G(e.childName,e.snapshotNode),i=new G(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Eu(t,e){return{eventCache:t,serverCache:e}}function Qs(t,e,n,r){return Eu(new hn(e,n,r),t.serverCache)}function k0(t,e,n,r){return Eu(t.eventCache,new hn(e,n,r))}function su(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Yr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Dg,SF=()=>(Dg||(Dg=new Mt(Ik)),Dg),Xe=class t{constructor(e,n=SF()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return ke(e,(r,i)=>{n=n.set(new Z(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Y(),value:this.value};if(U(e))return null;{let r=B(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(le(e),n);return o!=null?{path:ge(new Z(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(U(e))return this;{let n=B(e),r=this.children.get(n);return r!==null?r.subtree(le(e)):new t(null)}}set(e,n){if(U(e))return new t(n,this.children);{let r=B(e),o=(this.children.get(r)||new t(null)).set(le(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(U(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=B(e),r=this.children.get(n);if(r){let i=r.remove(le(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(U(e))return this.value;{let n=B(e),r=this.children.get(n);return r?r.get(le(e)):null}}setTree(e,n){if(U(e))return n;{let r=B(e),o=(this.children.get(r)||new t(null)).setTree(le(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(Y(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ge(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Y(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(U(e))return null;{let o=B(e),s=this.children.get(o);return s?s.findOnPath_(le(e),ge(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Y(),n)}foreachOnPath_(e,n,r){if(U(e))return this;{this.value&&r(n,this.value);let i=B(e),o=this.children.get(i);return o?o.foreachOnPath_(le(e),ge(n,i),r):new t(null)}}foreach(e){this.foreach_(Y(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ge(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Wt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Xe(null))}};function Ys(t,e,n){if(U(e))return new Wt(new Xe(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Je(i,e);return o=o.updateChild(s,n),new Wt(t.writeTree_.set(i,o))}else{let i=new Xe(n),o=t.writeTree_.setTree(e,i);return new Wt(o)}}}function tm(t,e,n){let r=t;return ke(n,(i,o)=>{r=Ys(r,ge(e,i),o)}),r}function qE(t,e){if(U(e))return Wt.empty();{let n=t.writeTree_.setTree(e,new Xe(null));return new Wt(n)}}function nm(t,e){return Jr(t,e)!=null}function Jr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Je(n.path,e)):null}function KE(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ce,(r,i)=>{e.push(new G(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new G(r,i.value))}),e}function ar(t,e){if(U(e))return t;{let n=Jr(t,e);return n!=null?new Wt(new Xe(n)):new Wt(t.writeTree_.subtree(e))}}function rm(t){return t.writeTree_.isEmpty()}function yo(t,e){return F0(Y(),t.writeTree_,e)}function F0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(m(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=F0(ge(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ge(t,".priority"),r)),n}}function Iu(t,e){return B0(e,t)}function TF(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ys(t.visibleWrites,e,n)),t.lastWriteId=r}function MF(t,e,n,r){m(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=tm(t.visibleWrites,e,n),t.lastWriteId=r}function AF(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function xF(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&NF(a,r.path)?i=!1:Tt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return RF(t),!0;if(r.snap)t.visibleWrites=qE(t.visibleWrites,r.path);else{let a=r.children;ke(a,l=>{t.visibleWrites=qE(t.visibleWrites,ge(r.path,l))})}return!0}else return!1}function NF(t,e){if(t.snap)return Tt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Tt(ge(t.path,n),e))return!0;return!1}function RF(t){t.visibleWrites=L0(t.allWrites,PF,Y()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function PF(t){return t.visible}function L0(t,e,n){let r=Wt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Tt(n,s)?(a=Je(n,s),r=Ys(r,a,o.snap)):Tt(s,n)&&(a=Je(s,n),r=Ys(r,Y(),o.snap.getChild(a)));else if(o.children){if(Tt(n,s))a=Je(n,s),r=tm(r,a,o.children);else if(Tt(s,n))if(a=Je(s,n),U(a))r=tm(r,Y(),o.children);else{let l=Vn(o.children,B(a));if(l){let c=l.getChild(le(a));r=Ys(r,Y(),c)}}}else throw li("WriteRecord should have .snap or .children")}}return r}function V0(t,e,n,r,i){if(!r&&!i){let o=Jr(t.visibleWrites,e);if(o!=null)return o;{let s=ar(t.visibleWrites,e);if(rm(s))return n;if(n==null&&!nm(s,Y()))return null;{let a=n||F.EMPTY_NODE;return yo(s,a)}}}else{let o=ar(t.visibleWrites,e);if(!i&&rm(o))return n;if(!i&&n==null&&!nm(o,Y()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Tt(c.path,e)||Tt(e,c.path))},a=L0(t.allWrites,s,e),l=n||F.EMPTY_NODE;return yo(a,l)}}}function OF(t,e,n){let r=F.EMPTY_NODE,i=Jr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ce,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=ar(t.visibleWrites,e);return n.forEachChild(ce,(s,a)=>{let l=yo(ar(o,new Z(s)),a);r=r.updateImmediateChild(s,l)}),KE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=ar(t.visibleWrites,e);return KE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function kF(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=ge(e,n);if(nm(t.visibleWrites,o))return null;{let s=ar(t.visibleWrites,o);return rm(s)?i.getChild(n):yo(s,i.getChild(n))}}function FF(t,e,n,r){let i=ge(e,n),o=Jr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=ar(t.visibleWrites,i);return yo(s,r.getNode().getImmediateChild(n))}else return null}function LF(t,e){return Jr(t.visibleWrites,e)}function VF(t,e,n,r,i,o,s){let a,l=ar(t.visibleWrites,e),c=Jr(l,Y());if(c!=null)a=c;else if(n!=null)a=yo(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function jF(){return{visibleWrites:Wt.empty(),allWrites:[],lastWriteId:-1}}function au(t,e,n,r){return V0(t.writeTree,t.treePath,e,n,r)}function Um(t,e){return OF(t.writeTree,t.treePath,e)}function QE(t,e,n,r){return kF(t.writeTree,t.treePath,e,n,r)}function lu(t,e){return LF(t.writeTree,ge(t.treePath,e))}function BF(t,e,n,r,i,o){return VF(t.writeTree,t.treePath,e,n,r,i,o)}function $m(t,e,n){return FF(t.writeTree,t.treePath,e,n)}function j0(t,e){return B0(ge(t.treePath,e),t.writeTree)}function B0(t,e){return{treePath:t,writeTree:e}}var im=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,na(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ta(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,mo(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,na(r,e.snapshotNode,i.oldSnap));else throw li("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var om=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},U0=new om,sa=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new hn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $m(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yr(this.viewCache_),o=BF(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function UF(t){return{filter:t}}function $F(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function HF(t,e,n,r,i){let o=new im,s,a;if(n.type===un.OVERWRITE){let c=n;c.source.fromUser?s=sm(t,e,c.path,c.snap,r,i,o):(m(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!U(c.path),s=cu(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===un.MERGE){let c=n;c.source.fromUser?s=WF(t,e,c.path,c.children,r,i,o):(m(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=am(t,e,c.path,c.children,r,i,a,o))}else if(n.type===un.ACK_USER_WRITE){let c=n;c.revert?s=KF(t,e,c.path,r,i,o):s=zF(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===un.LISTEN_COMPLETE)s=qF(t,e,n.path,r,o);else throw li("Unknown operation type: "+n.type);let l=o.getChanges();return GF(e,s,l),{viewCache:s,changes:l}}function GF(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=su(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(O0(su(e)))}}function $0(t,e,n,r,i,o){let s=e.eventCache;if(lu(r,n)!=null)return e;{let a,l;if(U(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Yr(e),u=c instanceof F?c:F.EMPTY_NODE,d=Um(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let c=au(r,Yr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{let c=B(n);if(c===".priority"){m(ur(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=e.serverCache.getNode();let d=QE(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=le(n),d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();let f=QE(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=$m(r,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return Qs(e,a,s.isFullyInitialized()||U(n),t.filter.filtersNodes())}}function cu(t,e,n,r,i,o,s,a){let l=e.serverCache,c,u=s?t.filter:t.filter.getIndexedFilter();if(U(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=B(n);if(!l.isCompleteForPath(n)&&ur(n)>1)return e;let p=le(n),D=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?c=u.updatePriority(l.getNode(),D):c=u.updateChild(l.getNode(),h,D,p,U0,null)}let d=k0(e,c,l.isFullyInitialized()||U(n),u.filtersNodes()),f=new sa(i,d,o);return $0(t,d,n,i,f,a)}function sm(t,e,n,r,i,o,s){let a=e.eventCache,l,c,u=new sa(i,e,o);if(U(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Qs(e,c,!0,t.filter.filtersNodes());else{let d=B(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Qs(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=le(n),h=a.getNode().getImmediateChild(d),p;if(U(f))p=r;else{let g=u.getCompleteChild(d);g!=null?Pm(f)===".priority"&&g.getChild(M0(f)).isEmpty()?p=g:p=g.updateChild(f,r):p=F.EMPTY_NODE}if(h.equals(p))l=e;else{let g=t.filter.updateChild(a.getNode(),d,p,f,u,s);l=Qs(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function YE(t,e){return t.eventCache.isCompleteForChild(e)}function WF(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{let u=ge(n,l);YE(e,B(u))&&(a=sm(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=ge(n,l);YE(e,B(u))||(a=sm(t,a,u,c,i,o,s))}),a}function ZE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function am(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;U(n)?c=r:c=new Xe(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=ZE(t,h,f);l=cu(t,l,new Z(d),p,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),g=ZE(t,p,f);l=cu(t,l,new Z(d),g,i,o,s,a)}}),l}function zF(t,e,n,r,i,o,s){if(lu(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(U(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return cu(t,e,n,l.getNode().getChild(n),i,o,a,s);if(U(n)){let c=new Xe(null);return l.getNode().forEachChild(dn,(u,d)=>{c=c.set(new Z(u),d)}),am(t,e,n,c,i,o,a,s)}else return e}else{let c=new Xe(null);return r.foreach((u,d)=>{let f=ge(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),am(t,e,n,c,i,o,a,s)}}function qF(t,e,n,r,i){let o=e.serverCache,s=k0(e,o.getNode(),o.isFullyInitialized()||U(n),o.isFiltered());return $0(t,s,n,r,U0,i)}function KF(t,e,n,r,i,o){let s;if(lu(r,n)!=null)return e;{let a=new sa(r,e,i),l=e.eventCache.getNode(),c;if(U(n)||B(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=au(r,Yr(e));else{let d=e.serverCache.getNode();m(d instanceof F,"serverChildren would be complete if leaf node"),u=Um(r,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{let u=B(n),d=$m(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,le(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,F.EMPTY_NODE,le(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=au(r,Yr(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||lu(r,Y())!=null,Qs(e,c,s,t.filter.filtersNodes())}}var lm=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new ra(r.getIndex()),o=gF(r);this.processor_=UF(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(F.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(F.EMPTY_NODE,a.getNode(),null),u=new hn(l,s.isFullyInitialized(),i.filtersNodes()),d=new hn(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Eu(d,u),this.eventGenerator_=new em(this.query_)}get query(){return this.query_}};function QF(t){return t.viewCache_.serverCache.getNode()}function YF(t){return su(t.viewCache_)}function ZF(t,e){let n=Yr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!U(e)&&!n.getImmediateChild(B(e)).isEmpty())?n.getChild(e):null}function JE(t){return t.eventRegistrations_.length===0}function JF(t,e){t.eventRegistrations_.push(e)}function XE(t,e,n){let r=[];if(n){m(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function e0(t,e,n,r){e.type===un.MERGE&&e.source.queryId!==null&&(m(Yr(t.viewCache_),"We should always have a full cache before handling merges"),m(su(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=HF(t.processor_,i,e,n,r);return $F(t.processor_,o.viewCache),m(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,H0(t,o.changes,o.viewCache.eventCache.getNode(),null)}function XF(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ce,(o,s)=>{r.push(mo(o,s))}),n.isFullyInitialized()&&r.push(O0(n.getNode())),H0(t,r,n.getNode(),e)}function H0(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return EF(t.eventGenerator_,e,n,i)}var uu,du=class{constructor(){this.views=new Map}};function eL(t){m(!uu,"__referenceConstructor has already been defined"),uu=t}function tL(){return m(uu,"Reference.ts has not been loaded"),uu}function nL(t){return t.views.size===0}function Hm(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return m(o!=null,"SyncTree gave us an op for an invalid query."),e0(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(e0(s,e,n,r));return o}}function G0(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=au(n,i?r:null),l=!1;a?l=!0:r instanceof F?(a=Um(n,r),l=!1):(a=F.EMPTY_NODE,l=!1);let c=Eu(new hn(a,l,!1),new hn(r,i,!1));return new lm(e,c)}return s}function rL(t,e,n,r,i,o){let s=G0(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),JF(s,n),XF(s,n)}function iL(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=dr(t);if(i==="default")for(let[l,c]of t.views.entries())s=s.concat(XE(c,n,r)),JE(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=t.views.get(i);l&&(s=s.concat(XE(l,n,r)),JE(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!dr(t)&&o.push(new(tL())(e._repo,e._path)),{removed:o,events:s}}function W0(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function lr(t,e){let n=null;for(let r of t.views.values())n=n||ZF(r,e);return n}function z0(t,e){if(e._queryParams.loadsAllData())return bu(t);{let r=e._queryIdentifier;return t.views.get(r)}}function q0(t,e){return z0(t,e)!=null}function dr(t){return bu(t)!=null}function bu(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var fu;function oL(t){m(!fu,"__referenceConstructor has already been defined"),fu=t}function sL(){return m(fu,"Reference.ts has not been loaded"),fu}var aL=1,hu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Xe(null),this.pendingWriteTree_=jF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Gm(t,e,n,r,i){return TF(t.pendingWriteTree_,e,n,r,i),i?Eo(t,new vo(Vm(),e,n)):[]}function lL(t,e,n,r){MF(t.pendingWriteTree_,e,n,r);let i=Xe.fromObject(n);return Eo(t,new oa(Vm(),e,i))}function sr(t,e,n=!1){let r=AF(t.pendingWriteTree_,e);if(xF(t.pendingWriteTree_,e)){let o=new Xe(null);return r.snap!=null?o=o.set(Y(),!0):ke(r.children,s=>{o=o.set(new Z(s),!0)}),Eo(t,new Xg(r.path,o,n))}else return[]}function ga(t,e,n){return Eo(t,new vo(jm(),e,n))}function cL(t,e,n){let r=Xe.fromObject(n);return Eo(t,new oa(jm(),e,r))}function uL(t,e){return Eo(t,new ou(jm(),e))}function dL(t,e,n){let r=Wm(t,n);if(r){let i=zm(r),o=i.path,s=i.queryId,a=Je(o,e),l=new ou(Bm(s),a);return qm(t,o,l)}else return[]}function pu(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||q0(s,e))){let l=iL(s,e,n,r);nL(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>dr(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=pL(f);for(let p=0;p<h.length;++p){let g=h[p],D=g.query,S=Z0(t,g);t.listenProvider_.startListening(Zs(D),aa(t,D),S.hashFn,S.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Zs(e),null):c.forEach(f=>{let h=t.queryToTagMap.get(Tu(f));t.listenProvider_.stopListening(Zs(f),h)}))}gL(t,c)}return a}function K0(t,e,n,r){let i=Wm(t,r);if(i!=null){let o=zm(i),s=o.path,a=o.queryId,l=Je(s,e),c=new vo(Bm(a),l,n);return qm(t,s,c)}else return[]}function fL(t,e,n,r){let i=Wm(t,r);if(i){let o=zm(i),s=o.path,a=o.queryId,l=Je(s,e),c=Xe.fromObject(n),u=new oa(Bm(a),l,c);return qm(t,s,u)}else return[]}function cm(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Je(f,i);o=o||lr(h,p),s=s||dr(h)});let a=t.syncPointTree_.get(i);a?(s=s||dr(a),o=o||lr(a,Y())):(a=new du,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=F.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let g=lr(p,Y());g&&(o=o.updateImmediateChild(h,g))}));let c=q0(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=Tu(e);m(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=mL();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Iu(t.pendingWriteTree_,i),d=rL(a,e,n,u,o,l);if(!c&&!s&&!r){let f=z0(a,e);d=d.concat(vL(t,e,f))}return d}function Su(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=Je(s,e),c=lr(a,l);if(c)return c});return V0(i,e,o,n,!0)}function hL(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Je(c,n);r=r||lr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||lr(i,Y()):(i=new du,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new hn(r,!0,!1):null,a=Iu(t.pendingWriteTree_,e._path),l=G0(i,e,a,o?s.getNode():F.EMPTY_NODE,o);return YF(l)}function Eo(t,e){return Q0(e,t.syncPointTree_,null,Iu(t.pendingWriteTree_,Y()))}function Q0(t,e,n,r){if(U(t.path))return Y0(t,e,n,r);{let i=e.get(Y());n==null&&i!=null&&(n=lr(i,Y()));let o=[],s=B(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=j0(r,s);o=o.concat(Q0(a,l,c,u))}return i&&(o=o.concat(Hm(i,t,r,n))),o}}function Y0(t,e,n,r){let i=e.get(Y());n==null&&i!=null&&(n=lr(i,Y()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=j0(r,s),u=t.operationForChild(s);u&&(o=o.concat(Y0(u,a,l,c)))}),i&&(o=o.concat(Hm(i,t,r,n))),o}function Z0(t,e){let n=e.query,r=aa(t,n);return{hashFn:()=>(QF(e)||F.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?dL(t,n._path,r):uL(t,n._path);{let o=Tk(i,n);return pu(t,n,null,o)}}}}function aa(t,e){let n=Tu(e);return t.queryToTagMap.get(n)}function Tu(t){return t._path.toString()+"$"+t._queryIdentifier}function Wm(t,e){return t.tagToQueryMap.get(e)}function zm(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Z(t.substr(0,e))}}function qm(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=Iu(t.pendingWriteTree_,e);return Hm(r,n,i,null)}function pL(t){return t.fold((e,n,r)=>{if(n&&dr(n))return[bu(n)];{let i=[];return n&&(i=W0(n)),ke(r,(o,s)=>{i=i.concat(s)}),i}})}function Zs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(sL())(t._repo,t._path):t}function gL(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Tu(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function mL(){return aL++}function vL(t,e,n){let r=e._path,i=aa(t,e),o=Z0(t,n),s=t.listenProvider_.startListening(Zs(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)m(!dr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!U(c)&&u&&dr(u))return[bu(u).query];{let f=[];return u&&(f=f.concat(W0(u).map(h=>h.query))),ke(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(Zs(u),aa(t,u))}}return s}var um=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},dm=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=ge(this.path_,e);return new t(this.syncTree_,n)}node(){return Su(this.syncTree_,this.path_)}},yL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},t0=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return _L(t[".sv"],e,n);if(typeof t[".sv"]=="object")return CL(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},_L=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},CL=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},J0=function(t,e,n,r){return Qm(e,new dm(n,t),r)},Km=function(t,e,n){return Qm(t,new um(e),n)};function Qm(t,e,n){let r=t.getPriority().val(),i=t0(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=t0(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new po(a,ve(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new po(i))),s.forEachChild(ce,(a,l)=>{let c=Qm(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var la=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Mu(t,e){let n=e instanceof Z?e:new Z(e),r=t,i=B(n);for(;i!==null;){let o=Vn(r.node.children,i)||{children:{},childCount:0};r=new la(i,r,o),n=le(n),i=B(n)}return r}function Xr(t){return t.node.value}function Ym(t,e){t.node.value=e,fm(t)}function X0(t){return t.node.childCount>0}function wL(t){return Xr(t)===void 0&&!X0(t)}function Au(t,e){ke(t.node.children,(n,r)=>{e(new la(n,t,r))})}function eI(t,e,n,r){n&&!r&&e(t),Au(t,i=>{eI(i,e,!0,r)}),n&&r&&e(t)}function DL(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ma(t){return new Z(t.parent===null?t.name:ma(t.parent)+"/"+t.name)}function fm(t){t.parent!==null&&EL(t.parent,t.name,t)}function EL(t,e,n){let r=wL(n),i=yt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,fm(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,fm(t))}var IL=/[\[\].#$\/\u0000-\u001F\u007F]/,bL=/[\[\].#$\u0000-\u001F\u007F]/,Eg=10*1024*1024,xu=function(t){return typeof t=="string"&&t.length!==0&&!IL.test(t)},tI=function(t){return typeof t=="string"&&t.length!==0&&!bL.test(t)},SL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tI(t)},ca=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!wu(t)||t&&typeof t=="object"&&yt(t,".sv")},pn=function(t,e,n,r){r&&e===void 0||va(nt(t,"value"),e,n)},va=function(t,e,n){let r=n instanceof Z?new Fg(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+qr(r));if(typeof e=="function")throw new Error(t+"contains a function "+qr(r)+" with contents = "+e.toString());if(wu(e))throw new Error(t+"contains "+e.toString()+" "+qr(r));if(typeof e=="string"&&e.length>Eg/3&&Fo(e)>Eg)throw new Error(t+"contains a string greater than "+Eg+" utf8 bytes "+qr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(ke(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!xu(s)))throw new Error(t+" contains an invalid key ("+s+") "+qr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nF(r,s),va(t,a,r),rF(r)}),i&&o)throw new Error(t+' contains ".value" child '+qr(r)+" in addition to actual children.")}},TL=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=Xs(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!xu(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(tF);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Tt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},nI=function(t,e,n,r){if(r&&e===void 0)return;let i=nt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];ke(e,(s,a)=>{let l=new Z(s);if(va(i,a,ge(n,l)),Pm(l)===".priority"&&!ca(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),TL(i,o)},Zm=function(t,e,n){if(!(n&&e===void 0)){if(wu(e))throw new Error(nt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ca(e))throw new Error(nt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ya=function(t,e,n,r){if(!(r&&n===void 0)&&!xu(n))throw new Error(nt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Io=function(t,e,n,r){if(!(r&&n===void 0)&&!tI(n))throw new Error(nt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ML=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Io(t,e,n,r)},pt=function(t,e){if(B(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},rI=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!xu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!SL(n))throw new Error(nt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var hm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Nu(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Om(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function iI(t,e,n){Nu(t,n),oI(t,r=>Om(r,e))}function gt(t,e,n){Nu(t,n),oI(t,r=>Tt(r,e)||Tt(e,r))}function oI(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(AL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function AL(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Qr&&Oe("event: "+n.toString()),wo(r)}}}var sI="repo_interrupt",xL=25,pm=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=iu(),this.transactionQueueTree_=new la,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function NL(t,e,n){if(t.stats_=Rm(t.repoInfo_),t.forceRestClient_||Nk())t.server_=new qg(t.repoInfo_,(r,i,o,s)=>{n0(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>r0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{De(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new km(t.repoInfo_,e,(r,i,o,s)=>{n0(t,r,i,o,s)},r=>{r0(t,r)},r=>{RL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Pk(t.repoInfo_,()=>new Jg(t.stats_,t.server_)),t.infoData_=new Kg,t.infoSyncTree_=new hu({startListening:(r,i,o,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ga(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Jm(t,"connected",!1),t.serverSyncTree_=new hu({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);gt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function aI(t){let n=t.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _a(t){return yL({timestamp:aI(t)})}function n0(t,e,n,r,i){t.dataUpdateCount++;let o=new Z(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let l=ko(n,c=>ve(c));s=fL(t.serverSyncTree_,o,l,i)}else{let l=ve(n);s=K0(t.serverSyncTree_,o,l,i)}else if(r){let l=ko(n,c=>ve(c));s=cL(t.serverSyncTree_,o,l)}else{let l=ve(n);s=ga(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=_o(t,o)),gt(t.eventQueue_,a,s)}function r0(t,e){Jm(t,"connected",e),e===!1&&kL(t)}function RL(t,e){ke(e,(n,r)=>{Jm(t,n,r)})}function Jm(t,e,n){let r=new Z("/.info/"+e),i=ve(n);t.infoData_.updateSnapshot(r,i);let o=ga(t.infoSyncTree_,r,i);gt(t.eventQueue_,r,o)}function Ru(t){return t.nextWriteId_++}function PL(t,e,n){let r=hL(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=ve(i).withIndex(e._queryParams.getIndex());cm(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=ga(t.serverSyncTree_,e._path,o);else{let a=aa(t.serverSyncTree_,e);s=K0(t.serverSyncTree_,e._path,o,a)}return gt(t.eventQueue_,e._path,s),pu(t.serverSyncTree_,e,n,null,!0),o},i=>(bo(t,"get for query "+De(e)+" failed: "+i),Promise.reject(new Error(i))))}function Xm(t,e,n,r,i){bo(t,"set",{path:e.toString(),value:n,priority:r});let o=_a(t),s=ve(n,r),a=Su(t.serverSyncTree_,e),l=Km(s,a,o),c=Ru(t),u=Gm(t.serverSyncTree_,e,l,c,!0);Nu(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||qe("set at "+e+" failed: "+f);let g=sr(t.serverSyncTree_,c,!p);gt(t.eventQueue_,e,g),fr(t,i,f,h)});let d=tv(t,e);_o(t,d),gt(t.eventQueue_,d,[])}function OL(t,e,n,r){bo(t,"update",{path:e.toString(),value:n});let i=!0,o=_a(t),s={};if(ke(n,(a,l)=>{i=!1,s[a]=J0(ge(e,a),ve(l),t.serverSyncTree_,o)}),i)Oe("update() called with empty data.  Don't do anything."),fr(t,r,"ok",void 0);else{let a=Ru(t),l=lL(t.serverSyncTree_,e,s,a);Nu(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||qe("update at "+e+" failed: "+c);let f=sr(t.serverSyncTree_,a,!d),h=f.length>0?_o(t,e):e;gt(t.eventQueue_,h,f),fr(t,r,c,u)}),ke(n,c=>{let u=tv(t,ge(e,c));_o(t,u)}),gt(t.eventQueue_,e,[])}}function kL(t){bo(t,"onDisconnectEvents");let e=_a(t),n=iu();Yg(t.onDisconnect_,Y(),(i,o)=>{let s=J0(i,o,t.serverSyncTree_,e);Do(n,i,s)});let r=[];Yg(n,Y(),(i,o)=>{r=r.concat(ga(t.serverSyncTree_,i,o));let s=tv(t,i);_o(t,s)}),t.onDisconnect_=iu(),gt(t.eventQueue_,Y(),r)}function FL(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&Qg(t.onDisconnect_,e),fr(t,n,r,i)})}function i0(t,e,n,r){let i=ve(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{o==="ok"&&Do(t.onDisconnect_,e,i),fr(t,r,o,s)})}function LL(t,e,n,r,i){let o=ve(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&Do(t.onDisconnect_,e,o),fr(t,i,s,a)})}function VL(t,e,n,r){if(Ba(n)){Oe("onDisconnect().update() called with empty data.  Don't do anything."),fr(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&ke(n,(s,a)=>{let l=ve(a);Do(t.onDisconnect_,ge(e,s),l)}),fr(t,r,i,o)})}function jL(t,e,n){let r;B(e._path)===".info"?r=cm(t.infoSyncTree_,e,n):r=cm(t.serverSyncTree_,e,n),iI(t.eventQueue_,e._path,r)}function gm(t,e,n){let r;B(e._path)===".info"?r=pu(t.infoSyncTree_,e,n):r=pu(t.serverSyncTree_,e,n),iI(t.eventQueue_,e._path,r)}function lI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(sI)}function BL(t){t.persistentConnection_&&t.persistentConnection_.resume(sI)}function bo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Oe(n,...e)}function fr(t,e,n,r){e&&wo(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function UL(t,e,n,r,i,o){bo(t,"transaction on "+e);let s={path:e,update:n,onComplete:r,status:null,order:a0(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=ev(t,e,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{va("transaction failed: Data returned ",l,s.path),s.status=0;let c=Mu(t.transactionQueueTree_,e),u=Xr(c)||[];u.push(s),Ym(c,u);let d;typeof l=="object"&&l!==null&&yt(l,".priority")?(d=Vn(l,".priority"),m(ca(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Su(t.serverSyncTree_,e)||F.EMPTY_NODE).getPriority().val();let f=_a(t),h=ve(l,d),p=Km(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=p,s.currentWriteId=Ru(t);let g=Gm(t.serverSyncTree_,e,p,s.currentWriteId,s.applyLocally);gt(t.eventQueue_,e,g),Pu(t,t.transactionQueueTree_)}}function ev(t,e,n){return Su(t.serverSyncTree_,e,n)||F.EMPTY_NODE}function Pu(t,e=t.transactionQueueTree_){if(e||Ou(t,e),Xr(e)){let n=uI(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&$L(t,ma(e),n)}else X0(e)&&Au(e,n=>{Pu(t,n)})}function $L(t,e,n){let r=n.map(c=>c.currentWriteId),i=ev(t,e,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];m(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Je(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{bo(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(sr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ou(t,Mu(t.transactionQueueTree_,e)),Pu(t,t.transactionQueueTree_),gt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)wo(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{qe("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}_o(t,e)}},s)}function _o(t,e){let n=cI(t,e),r=ma(n),i=uI(t,n);return HL(t,i,r),r}function HL(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Je(n,l.path),u=!1,d;if(m(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(sr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=xL)u=!0,d="maxretry",i=i.concat(sr(t.serverSyncTree_,l.currentWriteId,!0));else{let f=ev(t,l.path,s);l.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){va("transaction failed: Data returned ",h,l.path);let p=ve(h);typeof h=="object"&&h!=null&&yt(h,".priority")||(p=p.updatePriority(f.getPriority()));let D=l.currentWriteId,S=_a(t),J=Km(p,f,S);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=J,l.currentWriteId=Ru(t),s.splice(s.indexOf(D),1),i=i.concat(Gm(t.serverSyncTree_,l.path,J,l.currentWriteId,l.applyLocally)),i=i.concat(sr(t.serverSyncTree_,D,!0))}else u=!0,d="nodata",i=i.concat(sr(t.serverSyncTree_,l.currentWriteId,!0))}gt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Ou(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)wo(r[a]);Pu(t,t.transactionQueueTree_)}function cI(t,e){let n,r=t.transactionQueueTree_;for(n=B(e);n!==null&&Xr(r)===void 0;)r=Mu(r,n),e=le(e),n=B(e);return r}function uI(t,e){let n=[];return dI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function dI(t,e,n){let r=Xr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Au(e,i=>{dI(t,i,n)})}function Ou(t,e){let n=Xr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Ym(e,n.length>0?n:void 0)}Au(e,r=>{Ou(t,r)})}function tv(t,e){let n=ma(cI(t,e)),r=Mu(t.transactionQueueTree_,e);return DL(r,i=>{Ig(t,i)}),Ig(t,r),eI(r,i=>{Ig(t,i)}),n}function Ig(t,e){let n=Xr(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(m(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(m(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(sr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Ym(e,void 0):n.length=o+1,gt(t.eventQueue_,ma(e),i);for(let s=0;s<r.length;s++)wo(r[s])}}function GL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function WL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qe(`Invalid query segment '${n}' in query '${t}'`)}return e}var mm=function(t,e){let n=zL(t),r=n.namespace;n.domain==="firebase.com"&&fn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Dk();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Yc(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Z(n.pathString)}},zL=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=GL(t.substring(u,d)));let f=WL(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var o0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qL=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=o0.charAt(n%64),n=Math.floor(n/64);m(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=o0.charAt(e[i]);return m(s.length===20,"nextPushId: Length should be 20."),s}}();var gu=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+De(this.snapshot.exportVal())}},mu=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ua=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var vu=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new Ne;return FL(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){pt("OnDisconnect.remove",this._path);let e=new Ne;return i0(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){pt("OnDisconnect.set",this._path),pn("OnDisconnect.set",e,this._path,!1);let n=new Ne;return i0(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){pt("OnDisconnect.setWithPriority",this._path),pn("OnDisconnect.setWithPriority",e,this._path,!1),Zm("OnDisconnect.setWithPriority",n,!1);let r=new Ne;return LL(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){pt("OnDisconnect.update",this._path),nI("OnDisconnect.update",e,this._path,!1);let n=new Ne;return VL(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var et=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return U(this._path)?null:Pm(this._path)}get ref(){return new mt(this._repo,this._path)}get _queryIdentifier(){let e=WE(this._queryParams),n=Nm(e);return n==="{}"?"default":n}get _queryObject(){return WE(this._queryParams)}isEqual(e){if(e=Qe(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Om(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+eF(this._path)}};function ku(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function pr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===dn){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==cr)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==On)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ce){if(e!=null&&!ca(e)||n!=null&&!ca(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(m(t.getIndex()instanceof ea||t.getIndex()===Lm,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Fu(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var mt=class t extends et{constructor(e,n){super(e,n,new ia,!1)}get parent(){let e=M0(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Co=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Z(e),r=hr(this.ref,e);return new t(this._node.getChild(n),r,ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,hr(this.ref,r),ce)))}hasChild(e){let n=new Z(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function nv(t,e){return t=Qe(t),t._checkNotDeleted("ref"),e!==void 0?hr(t._root,e):t._root}function rv(t,e){t=Qe(t),t._checkNotDeleted("refFromURL");let n=mm(e,t._repo.repoInfo_.nodeAdmin);rI("refFromURL",n);let r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&fn("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),nv(t,n.path.toString())}function hr(t,e){return t=Qe(t),B(t._path)===null?ML("child","path",e,!1):Io("child","path",e,!1),new mt(t._repo,ge(t._path,e))}function fI(t,e){t=Qe(t),pt("push",t._path),pn("push",e,t._path,!0);let n=aI(t._repo),r=qL(n),i=hr(t,r),o=hr(t,r),s;return e!=null?s=Lu(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function hI(t){return pt("remove",t._path),Lu(t,null)}function Lu(t,e){t=Qe(t),pt("set",t._path),pn("set",e,t._path,!1);let n=new Ne;return Xm(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function pI(t,e){t=Qe(t),pt("setPriority",t._path),Zm("setPriority",e,!1);let n=new Ne;return Xm(t._repo,ge(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function gI(t,e,n){if(pt("setWithPriority",t._path),pn("setWithPriority",e,t._path,!1),Zm("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let r=new Ne;return Xm(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function mI(t,e){nI("update",e,t._path,!1);let n=new Ne;return OL(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function vI(t){t=Qe(t);let e=new ua(()=>{}),n=new da(e);return PL(t._repo,t,n).then(r=>new Co(r,new mt(t._repo,t._path),t._queryParams.getIndex()))}var da=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new gu("value",this,new Co(e.snapshotNode,new mt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new mu(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},yu=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new mu(this,e,n):null}createEvent(e,n){m(e.childName!=null,"Child events should have a childName.");let r=hr(new mt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new gu(e.type,this,new Co(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Ca(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{gm(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new ua(n,o||void 0),a=e==="value"?new da(s):new yu(e,s);return jL(t._repo,t,a),()=>gm(t._repo,t,a)}function Vu(t,e,n,r){return Ca(t,"value",e,n,r)}function iv(t,e,n,r){return Ca(t,"child_added",e,n,r)}function ov(t,e,n,r){return Ca(t,"child_changed",e,n,r)}function sv(t,e,n,r){return Ca(t,"child_moved",e,n,r)}function av(t,e,n,r){return Ca(t,"child_removed",e,n,r)}function lv(t,e,n){let r=null,i=n?new ua(n):null;e==="value"?r=new da(i):e&&(r=new yu(e,i)),gm(t._repo,t,r)}var vt=class{},_u=class extends vt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){pn("endAt",this._value,e._path,!0);let n=zg(e._queryParams,this._value,this._key);if(Fu(n),pr(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new et(e._repo,e._path,n,e._orderByCalled)}};function yI(t,e){return ya("endAt","key",e,!0),new _u(t,e)}var vm=class extends vt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){pn("endBefore",this._value,e._path,!1);let n=_F(e._queryParams,this._value,this._key);if(Fu(n),pr(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new et(e._repo,e._path,n,e._orderByCalled)}};function _I(t,e){return ya("endBefore","key",e,!0),new vm(t,e)}var Cu=class extends vt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){pn("startAt",this._value,e._path,!0);let n=Wg(e._queryParams,this._value,this._key);if(Fu(n),pr(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new et(e._repo,e._path,n,e._orderByCalled)}};function CI(t=null,e){return ya("startAt","key",e,!0),new Cu(t,e)}var ym=class extends vt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){pn("startAfter",this._value,e._path,!1);let n=yF(e._queryParams,this._value,this._key);if(Fu(n),pr(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new et(e._repo,e._path,n,e._orderByCalled)}};function wI(t,e){return ya("startAfter","key",e,!0),new ym(t,e)}var _m=class extends vt{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new et(e._repo,e._path,mF(e._queryParams,this._limit),e._orderByCalled)}};function DI(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new _m(t)}var Cm=class extends vt{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new et(e._repo,e._path,vF(e._queryParams,this._limit),e._orderByCalled)}};function EI(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Cm(t)}var wm=class extends vt{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){ku(e,"orderByChild");let n=new Z(this._path);if(U(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new ea(n),i=Du(e._queryParams,r);return pr(i),new et(e._repo,e._path,i,!0)}};function II(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Io("orderByChild","path",t,!1),new wm(t)}var Dm=class extends vt{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){ku(e,"orderByKey");let n=Du(e._queryParams,dn);return pr(n),new et(e._repo,e._path,n,!0)}};function bI(){return new Dm}var Em=class extends vt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){ku(e,"orderByPriority");let n=Du(e._queryParams,ce);return pr(n),new et(e._repo,e._path,n,!0)}};function SI(){return new Em}var Im=class extends vt{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){ku(e,"orderByValue");let n=Du(e._queryParams,Lm);return pr(n),new et(e._repo,e._path,n,!0)}};function TI(){return new Im}var bm=class extends vt{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(pn("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _u(this._value,this._key)._apply(new Cu(this._value,this._key)._apply(e))}};function MI(t,e){return ya("equalTo","key",e,!0),new bm(t,e)}function At(t,...e){let n=Qe(t);for(let r of e)n=r._apply(n);return n}eL(mt);oL(mt);var KL="FIREBASE_DATABASE_EMULATOR_HOST",Sm={},QL=!1;function YL(t,e,n,r){t.repoInfo_=new Yc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function cv(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Oe("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=mm(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[KL]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=mm(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new Ks(Ks.OWNER):new xg(t.name,t.options,e);rI("Invalid Firebase Database URL",s),U(s.path)||fn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=JL(a,t,u,new Ag(t.name,n));return new Tm(d,t)}function ZL(t,e){let n=Sm[e];(!n||n[t.key]!==t)&&fn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),lI(t),delete n[t.key]}function JL(t,e,n,r){let i=Sm[e.name];i||(i={},Sm[e.name]=i);let o=i[t.toURLString()];return o&&fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new pm(t,QL,n,r),i[t.toURLString()]=o,o}var Tm=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(NL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mt(this._repo,Y())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ZL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fn("Cannot call "+e+" on a deleted database.")}};function AI(){T0.IS_TRANSPORT_INITIALIZED&&qe("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function xI(){AI(),Js.forceDisallow()}function NI(){AI(),co.forceDisallow(),Js.forceAllow()}function RI(t,e,n,r={}){t=Qe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&fn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ks(Ks.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:Jv(r.mockUserToken,t.app.options.projectId);o=new Ks(s)}YL(i,e,n,o)}function PI(t){t=Qe(t),t._checkNotDeleted("goOffline"),lI(t._repo)}function OI(t){t=Qe(t),t._checkNotDeleted("goOnline"),BL(t._repo)}function kI(t,e){c0(t,e)}function XL(t){xm(ly),Lo(new mn("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return cv(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),jn(ME,AE,t),jn(ME,AE,"esm2017")}var eV={".sv":"timestamp"};function FI(){return eV}function LI(t){return{".sv":{increment:t}}}var Mm=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function VI(t,e,n){var r;if(t=Qe(t),pt("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new Ne,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new Co(u,new mt(t._repo,t._path),ce),o.resolve(new Mm(c,d)))},a=Vu(t,()=>{});return UL(t._repo,t._path,e,s,a,i),o.promise}km.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};km.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};XL();var tV="@firebase/database-compat",nV="1.0.3";var rV=new ci("@firebase/database-compat"),jI=function(t){let e="FIREBASE WARNING: "+t;rV.warn(e)};var iV=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(nt(t,e)+"must be a boolean.")},oV=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(nt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var uv=class{constructor(e){this._delegate=e}cancel(e){x("OnDisconnect.cancel",0,1,arguments.length),Me("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){x("OnDisconnect.remove",0,1,arguments.length),Me("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){x("OnDisconnect.set",1,2,arguments.length),Me("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){x("OnDisconnect.setWithPriority",2,3,arguments.length),Me("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if(x("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,jI("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Me("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}};var dv=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return x("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var ei=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return x("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return x("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return x("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return x("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return x("DataSnapshot.child",0,1,arguments.length),e=String(e),Io("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return x("DataSnapshot.hasChild",1,1,arguments.length),Io("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return x("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return x("DataSnapshot.forEach",1,1,arguments.length),Me("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return x("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return x("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return x("DataSnapshot.ref",0,0,arguments.length),new kn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},ju=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;x("Query.on",2,4,arguments.length),Me("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new ei(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return Vu(this._delegate,a,l),n;case"child_added":return iv(this._delegate,a,l),n;case"child_removed":return av(this._delegate,a,l),n;case"child_changed":return ov(this._delegate,a,l),n;case"child_moved":return sv(this._delegate,a,l),n;default:throw new Error(nt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(x("Query.off",0,3,arguments.length),oV("Query.off",e,!0),Me("Query.off","callback",n,!0),fd("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,lv(this._delegate,e,i)}else lv(this._delegate,e)}get(){return vI(this._delegate).then(e=>new ei(this.database,e))}once(e,n,r,i){x("Query.once",1,4,arguments.length),Me("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",r,i),s=new Ne,a=(c,u)=>{let d=new ei(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(e){case"value":Vu(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":iv(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":av(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":ov(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":sv(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(nt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return x("Query.limitToFirst",1,1,arguments.length),new t(this.database,At(this._delegate,DI(e)))}limitToLast(e){return x("Query.limitToLast",1,1,arguments.length),new t(this.database,At(this._delegate,EI(e)))}orderByChild(e){return x("Query.orderByChild",1,1,arguments.length),new t(this.database,At(this._delegate,II(e)))}orderByKey(){return x("Query.orderByKey",0,0,arguments.length),new t(this.database,At(this._delegate,bI()))}orderByPriority(){return x("Query.orderByPriority",0,0,arguments.length),new t(this.database,At(this._delegate,SI()))}orderByValue(){return x("Query.orderByValue",0,0,arguments.length),new t(this.database,At(this._delegate,TI()))}startAt(e=null,n){return x("Query.startAt",0,2,arguments.length),new t(this.database,At(this._delegate,CI(e,n)))}startAfter(e=null,n){return x("Query.startAfter",0,2,arguments.length),new t(this.database,At(this._delegate,wI(e,n)))}endAt(e=null,n){return x("Query.endAt",0,2,arguments.length),new t(this.database,At(this._delegate,yI(e,n)))}endBefore(e=null,n){return x("Query.endBefore",0,2,arguments.length),new t(this.database,At(this._delegate,_I(e,n)))}equalTo(e,n){return x("Query.equalTo",1,2,arguments.length),new t(this.database,At(this._delegate,MI(e,n)))}toString(){return x("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return x("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(x("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Me(e,"cancel",i.cancel,!0),i.context=r,fd(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(nt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new kn(this.database,new mt(this._delegate._repo,this._delegate._path))}},kn=class t extends ju{constructor(e,n){super(e,new et(n._repo,n._path,new ia,!1)),this.database=e,this._delegate=n}getKey(){return x("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return x("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,hr(this._delegate,e))}getParent(){x("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return x("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){x("Reference.set",1,2,arguments.length),Me("Reference.set","onComplete",n,!0);let r=Lu(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(x("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,jI("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pt("Reference.update",this._delegate._path),Me("Reference.update","onComplete",n,!0);let r=mI(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){x("Reference.setWithPriority",2,3,arguments.length),Me("Reference.setWithPriority","onComplete",r,!0);let i=gI(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){x("Reference.remove",0,1,arguments.length),Me("Reference.remove","onComplete",e,!0);let n=hI(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){x("Reference.transaction",1,3,arguments.length),Me("Reference.transaction","transactionUpdate",e,!1),Me("Reference.transaction","onComplete",n,!0),iV("Reference.transaction","applyLocally",r,!0);let i=VI(this._delegate,e,{applyLocally:r}).then(o=>new dv(o.committed,new ei(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){x("Reference.setPriority",1,2,arguments.length),Me("Reference.setPriority","onComplete",n,!0);let r=pI(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){x("Reference.push",0,2,arguments.length),Me("Reference.push","onComplete",n,!0);let r=fI(this._delegate,e),i=r.then(s=>new t(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new t(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return pt("Reference.onDisconnect",this._delegate._path),new uv(new vu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var ti=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:xI,forceLongPolling:NI}}useEmulator(e,n,r={}){RI(this._delegate,e,n,r)}ref(e){if(x("database.ref",0,1,arguments.length),e instanceof kn){let n=rv(this._delegate,e.toString());return new kn(this,n)}else{let n=nv(this._delegate,e);return new kn(this,n)}}refFromURL(e){x("database.refFromURL",1,1,arguments.length);let r=rv(this._delegate,e);return new kn(this,r)}goOffline(){return x("database.goOffline",0,0,arguments.length),PI(this._delegate)}goOnline(){return x("database.goOnline",0,0,arguments.length),OI(this._delegate)}};ti.ServerValue={TIMESTAMP:FI(),increment:t=>LI(t)};function sV({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){xm(n);let a=new hd("database-standalone"),l=new Ua("auth-internal",a);l.setComponent(new mn("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new Ua("app-check-internal",a),c.setComponent(new mn("app-check-internal",()=>i,"PRIVATE"))),{instance:new ti(cv(t,l,c,e,s),t),namespace:o}}var aV=Object.freeze({__proto__:null,initStandalone:sV});var lV=ti.ServerValue;function cV(t){t.INTERNAL.registerComponent(new mn("database-compat",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new ti(i,r)},"PUBLIC").setServiceProps({Reference:kn,Query:ju,Database:ti,DataSnapshot:ei,enableLogging:kI,INTERNAL:aV,ServerValue:lV}).setMultipleInstances(!0)),t.registerVersion(tV,nV)}cV(rt);function wa(t,e,n="on",r=Bo){return new W(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(I(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),Ho())}function uV(t){return typeof t=="string"}function dV(t){return typeof t.exportVal=="function"}function GI(t){return t==null}function WI(t){return typeof t.set=="function"}function BI(t,e){return WI(e)?e:t.ref(e)}function zI(t,e){if(uV(t))return e.stringCase();if(WI(t))return e.firebaseCase();if(dV(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function qI(t){return(GI(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function KI(t,e,n){e=qI(e);let r=e.map(i=>wa(t,i,"on",n));return Di(...r)}function fV(t,e,n){let r=KI(t,e).pipe(Ii((i,o)=>[...i,o],[]));return pV(t,r,n)}function hV(t,e){return wa(t,"value","on",e).pipe(I(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function pV(t,e,n){return hV(t,n).pipe(jd(e),I(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Fd(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),I(i=>i.actions))}function UI(t,e){return function(r,i){return zI(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function gV(t){return function(n){return n?zI(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function mV(t,e,n){return wa(t,"value","once",n).pipe(pe(r=>{let i=[M(r)];return e.forEach(o=>i.push(wa(t,o,"on",n))),Di(...i).pipe(Ii(yV,[]))}),Pd())}function QI(t,e){let n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function vV(t,e){if(GI(e))return 0;{let n=QI(t,e);return n===-1?t.length:n+1}}function yV(t,e){let{payload:n,prevKey:r,key:i}=e,o=QI(t,i),s=vV(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,t=[...t,c],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(l=>l.payload.key!==n.key),t.splice(s,0,e));else{if(r==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function $I(t,e,n){return e=qI(e),mV(t,e,n)}function _V(t,e){let n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:UI(r,"update"),set:UI(r,"set"),push:i=>r.push(i),remove:gV(r),snapshotChanges(i){return $I(t,i,n).pipe(Pn)},stateChanges(i){return KI(t,i,n).pipe(Pn)},auditTrail(i){return fV(t,i,n).pipe(Pn)},valueChanges(i,o){return $I(t,i,n).pipe(I(a=>a.map(l=>o&&o.idField?ne(y({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),Pn)}}}function HI(t,e){return function(){return wa(t,"value","on",e)}}function CV(t,e){return{query:t,snapshotChanges(){return HI(t,e.schedulers.outsideAngular)().pipe(Pn)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return HI(t,e.schedulers.outsideAngular)().pipe(Pn,I(r=>r.payload.exists()?r.payload.val():null))}}}var wV=new C("angularfire2.realtimeDatabaseURL"),DV=new C("angularfire2.database.use-emulator"),fv=(()=>{class t{schedulers;database;constructor(n,r,i,o,s,a,l,c,u,d,f,h,p,g,D){this.schedulers=a;let S=l,J=$s(n,s,r);c&&vg(J,s,u,f,h,p,d,g),this.database=qc(`${J.name}.database.${i}`,"AngularFireDatabase",J.name,()=>{let P=s.runOutsideAngular(()=>J.database(i||void 0));return S&&P.useEmulator(...S),P},[S])}list(n,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>BI(this.database,n)),o=i;return r&&(o=r(i)),_V(o,this)}object(n){let r=this.schedulers.ngZone.runOutsideAngular(()=>BI(this.database,n));return CV(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(v(so),v(ao,8),v(wV,8),v(ut),v(q),v(Gc),v(DV,8),v(TE,8),v(dg,8),v(fg,8),v(hg,8),v(pg,8),v(gg,8),v(mg,8),v(zr,8))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),YI=(()=>{class t{constructor(){rt.registerVersion("angularfire",oo.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=_e({type:t});static \u0275inj=Ce({providers:[fv]})}return t})();var Fe=(()=>{let e=class e{constructor(r){this.db=r,this.dbPath="/cemetery",this.cemeteriesRef=r.list(this.dbPath)}getAll(){return this.cemeteriesRef}create(r){return this.cemeteriesRef.push(r)}createGrave(r,i){if(i)return this.db.list(`/cemetery/${i}/graves`).push(r)}getGravesByCemetery(r){return this.db.list(`/cemetery/${r}/graves`)}createPeople(r,i,o){return this.db.list(`/cemetery/${i}/graves/${o}/peoples`).push(r)}getPeopleByGrave(r,i){return this.db.list(`/cemetery/${r}/graves/${i}/peoples`)}update(r,i){return this.cemeteriesRef.update(r,i)}delete(r){return this.cemeteriesRef.remove(r)}deleteAll(){return this.cemeteriesRef.remove()}};e.\u0275fac=function(i){return new(i||e)(v(fv))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ob=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(w(An),w(Bt))},e.\u0275dir=Ge({type:e});let t=e;return t})(),IV=(()=>{let e=class e extends ob{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$i(e)))(o||e)}})(),e.\u0275dir=Ge({type:e,features:[en]});let t=e;return t})(),vv=new C("");var bV={provide:vv,useExisting:Yn(()=>mr),multi:!0};function SV(){let t=rn()?rn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var TV=new C(""),mr=(()=>{let e=class e extends ob{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!SV())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(w(An),w(Bt),w(TV,8))},e.\u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&ze("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[zi([bV]),en]});let t=e;return t})();function gr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function sb(t){return t!=null&&typeof t.length=="number"}var Ku=new C(""),yv=new C(""),MV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,gn=class{static min(e){return AV(e)}static max(e){return xV(e)}static required(e){return ab(e)}static requiredTrue(e){return NV(e)}static email(e){return RV(e)}static minLength(e){return PV(e)}static maxLength(e){return OV(e)}static pattern(e){return kV(e)}static nullValidator(e){return Uu(e)}static compose(e){return hb(e)}static composeAsync(e){return gb(e)}};function AV(t){return e=>{if(gr(e.value)||gr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function xV(t){return e=>{if(gr(e.value)||gr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function ab(t){return gr(t.value)?{required:!0}:null}function NV(t){return t.value===!0?null:{required:!0}}function RV(t){return gr(t.value)||MV.test(t.value)?null:{email:!0}}function PV(t){return e=>gr(e.value)||!sb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function OV(t){return e=>sb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function kV(t){if(!t)return Uu;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(gr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Uu(t){return null}function lb(t){return t!=null}function cb(t){return Ur(t)?ie(t):t}function ub(t){let e={};return t.forEach(n=>{e=n!=null?y(y({},e),n):e}),Object.keys(e).length===0?null:e}function db(t,e){return e.map(n=>n(t))}function FV(t){return!t.validate}function fb(t){return t.map(e=>FV(e)?e:n=>e.validate(n))}function hb(t){if(!t)return null;let e=t.filter(lb);return e.length==0?null:function(n){return ub(db(n,e))}}function pb(t){return t!=null?hb(fb(t)):null}function gb(t){if(!t)return null;let e=t.filter(lb);return e.length==0?null:function(n){let r=db(n,e).map(cb);return Nd(r).pipe(I(ub))}}function mb(t){return t!=null?gb(fb(t)):null}function ZI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function vb(t){return t._rawValidators}function yb(t){return t._rawAsyncValidators}function hv(t){return t?Array.isArray(t)?t:[t]:[]}function $u(t,e){return Array.isArray(t)?t.includes(e):t===e}function JI(t,e){let n=hv(e);return hv(t).forEach(i=>{$u(n,i)||n.push(i)}),n}function XI(t,e){return hv(e).filter(n=>!$u(t,n))}var Hu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ni=class extends Hu{get formDirective(){return null}get path(){return null}},ri=class extends Hu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Gu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},LV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Sz=ne(y({},LV),{"[class.ng-submitted]":"isSubmitted"}),Mo=(()=>{let e=class e extends Gu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(w(ri,2))},e.\u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Gi("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[en]});let t=e;return t})(),Qu=(()=>{let e=class e extends Gu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(w(ni,10))},e.\u0275dir=Ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Gi("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[en]});let t=e;return t})();var Da="VALID",Bu="INVALID",So="PENDING",Ea="DISABLED";function _v(t){return(Yu(t)?t.validators:t)||null}function VV(t){return Array.isArray(t)?pb(t):t||null}function Cv(t,e){return(Yu(e)?e.asyncValidators:t)||null}function jV(t){return Array.isArray(t)?mb(t):t||null}function Yu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function _b(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function Cb(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var To=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Da}get invalid(){return this.status===Bu}get pending(){return this.status==So}get disabled(){return this.status===Ea}get enabled(){return this.status!==Ea}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XI(e,this._rawAsyncValidators))}hasValidator(e){return $u(this._rawValidators,e)}hasAsyncValidator(e){return $u(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=So,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ea,this.errors=null,this._forEachChild(r=>{r.disable(ne(y({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(y({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Da,this._forEachChild(r=>{r.enable(ne(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ne(y({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Da||this.status===So)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ea:Da}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=So,this._hasOwnPendingAsyncValidator=!0;let n=cb(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new oe,this.statusChanges=new oe}_calculateStatus(){return this._allControlsDisabled()?Ea:this.errors?Bu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(So)?So:this._anyControlsHaveStatus(Bu)?Bu:Da}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=VV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=jV(this._rawAsyncValidators)}},Wu=class extends To{constructor(e,n,r){super(_v(n),Cv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Cb(this,!0,e),Object.keys(e).forEach(r=>{_b(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var pv=class extends Wu{};var Zu=new C("CallSetDisabledState",{providedIn:"root",factory:()=>Ju}),Ju="always";function wb(t,e){return[...e.path,t]}function gv(t,e,n=Ju){wv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),UV(t,e),HV(t,e),$V(t,e),BV(t,e)}function eb(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function zu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function BV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function wv(t,e){let n=vb(t);e.validator!==null?t.setValidators(ZI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=yb(t);e.asyncValidator!==null?t.setAsyncValidators(ZI(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();zu(e._rawValidators,i),zu(e._rawAsyncValidators,i)}function qu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=vb(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=yb(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return zu(e._rawValidators,r),zu(e._rawAsyncValidators,r),n}function UV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Db(t,e)})}function $V(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Db(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Db(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function HV(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function GV(t,e){t==null,wv(t,e)}function WV(t,e){return qu(t,e)}function Eb(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function zV(t){return Object.getPrototypeOf(t.constructor)===IV}function qV(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ib(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===mr?n=o:zV(o)?r=o:i=o}),i||r||n||null}function KV(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function tb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function nb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ia=class extends To{constructor(e=null,n,r){super(_v(n),Cv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(nb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){nb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var QV=t=>t instanceof Ia;var YV={provide:ri,useExisting:Yn(()=>Dv)},rb=Promise.resolve(),Dv=(()=>{let e=class e extends ri{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Ia,this._registered=!1,this.name="",this.update=new oe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Ib(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Eb(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){rb.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Xn(i);rb.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?wb(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(w(ni,9),w(Ku,10),w(yv,10),w(vv,10),w($r,8),w(Zu,8))},e.\u0275dir=Ge({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ae.None,"disabled","isDisabled"],model:[Ae.None,"ngModel","model"],options:[Ae.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zi([YV]),en,dt]});let t=e;return t})(),Xu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var bb=new C("");var ZV={provide:ni,useExisting:Yn(()=>ba)},ba=(()=>{let e=class e extends ni{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new oe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return gv(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){eb(r.control||null,r,!1),KV(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,qV(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(eb(i||null,r),QV(o)&&(gv(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);GV(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&WV(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wv(this.form,this),this._oldForm&&qu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(w(Ku,10),w(yv,10),w(Zu,8))},e.\u0275dir=Ge({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&ze("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[Ae.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zi([ZV]),en,dt]});let t=e;return t})();var JV={provide:ri,useExisting:Yn(()=>Sa)},Sa=(()=>{let e=class e extends ri{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new oe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Ib(this,s)}ngOnChanges(r){this._added||this._setUpControl(),Eb(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return wb(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(w(ni,13),w(Ku,10),w(yv,10),w(vv,10),w(bb,8))},e.\u0275dir=Ge({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ae.None,"formControlName","name"],isDisabled:[Ae.None,"disabled","isDisabled"],model:[Ae.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[zi([JV]),en,dt]});let t=e;return t})();var XV=(()=>{let e=class e{constructor(){this._validator=Uu}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Uu,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ge({type:e,features:[dt]});let t=e;return t})();var ej={provide:Ku,useExisting:Yn(()=>Ev),multi:!0};var Ev=(()=>{let e=class e extends XV{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Xn,this.createValidator=r=>ab}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=$i(e)))(o||e)}})(),e.\u0275dir=Ge({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&ps("required",o._enabled?"":null)},inputs:{required:"required"},features:[zi([ej]),en]});let t=e;return t})();var Sb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({});let t=e;return t})(),mv=class extends To{constructor(e,n,r){super(_v(n),Cv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Cb(this,!1,e),e.forEach((r,i)=>{_b(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ib(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var vr=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return ib(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Wu(o,s)}record(r,i=null){let o=this._reduceControls(r);return new pv(o,i)}control(r,i,o){let s={};return this.useNonNullable?(ib(i)?s=i:(s.validators=i,s.asyncValidators=o),new Ia(r,ne(y({},s),{nonNullable:!0}))):new Ia(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new mv(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof Ia)return r;if(r instanceof To)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Tb=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Zu,useValue:r.callSetDisabledState??Ju}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({imports:[Sb]});let t=e;return t})(),Mb=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:bb,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Zu,useValue:r.callSetDisabledState??Ju}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({imports:[Sb]});let t=e;return t})();var tj=(t,e)=>e.id,nj=(t,e)=>["/grave",t,e];function rj(t,e){if(t&1&&(A(0,"div",3),j(1),A(2,"a",4),j(3," Manage People"),T()()),t&2){let n=e.$implicit,r=Re(3);Q(),It(" ",n.code," "),Q(),Ue("routerLink",qi(2,nj,r.currentCemetery.key,n.key))}}function ij(t,e){if(t&1&&tn(0,rj,4,5,"div",5,tj),t&2){let n=Re(2);nn(n.graveList)}}var oj=t=>["/cemeteries",t];function sj(t,e){if(t&1&&(A(0,"div",1)(1,"h4"),j(2),T(),A(3,"a",2),j(4," Add New Grave "),T(),Dt(5,ij,2,0),T()),t&2){let n=Re();Q(2),Br(n.currentCemetery.title),Q(),Ue("routerLink",hc(3,oj,n.currentCemetery.key)),Q(2),xn(5,n.graveList.length>0?5:-1)}}var Ab=(()=>{let e=class e{constructor(r,i){this.cemeteryService=r,this.fb=i,this.refreshList=new oe,this.graveList=[]}ngOnChanges(){this.graveList=[],this.currentCemetery=y({},this.cemetery),this.getGravesByCemetery()}getGravesByCemetery(){this.graveListSubscription=this.cemeteryService.getGravesByCemetery(this.currentCemetery.key??"").snapshotChanges().pipe(I(r=>r.map(i=>y({key:i.payload.key?.toString()},i.payload.val())))).subscribe(r=>{this.graveList=r})}ngOnDestroy(){this.graveListSubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(w(Fe),w(vr))},e.\u0275cmp=X({type:e,selectors:[["app-cemetery-details"]],inputs:{cemetery:"cemetery"},outputs:{refreshList:"refreshList"},features:[dt],decls:1,vars:1,consts:[["class","edit-form"],[1,"edit-form"],[1,"col-md-3","btn","btn-info",3,"routerLink"],[1,"col-md-12","grave"],[1,"btn","btn-success","btn-sm","pull-right",3,"routerLink"],["class","col-md-12 grave"]],template:function(i,o){i&1&&Dt(0,sj,6,5,"div",0),i&2&&xn(0,o.currentCemetery?0:-1)},dependencies:[ln],styles:[".list[_ngcontent-%COMP%]{text-align:left;margin:auto}.div-card[_ngcontent-%COMP%]{padding:20px;box-shadow:0 0 max(12px,.75rem) #3333331a}div.grave[_ngcontent-%COMP%]{padding:10px;box-shadow:0 0 max(12px,.75rem) #3333331a;margin:20px 10px;font-weight:700}label[_ngcontent-%COMP%]{font-weight:700;padding-bottom:8px;width:100%}.pull-right[_ngcontent-%COMP%]{float:right}"]});let t=e;return t})();var lj=(t,e)=>e.id;function cj(t,e){if(t&1){let n=Wi();A(0,"li",5),ze("click",function(){let i=Vr(n),o=i.$implicit,s=i.$index,a=Re();return jr(a.setActiveCemetery(o,s))}),j(1),T()}if(t&2){let n=e.$implicit,r=e.$index,i=Re();Gi("active",r==i.currentIndex),Q(),It(" ",n.title," ")}}function uj(t,e){if(t&1){let n=Wi();A(0,"div")(1,"app-cemetery-details",6),ze("refreshList",function(){Vr(n);let i=Re();return jr(i.refreshList())}),T()()}if(t&2){let n=Re();Q(),Ue("cemetery",n.currentCemetery)}}function dj(t,e){t&1&&(A(0,"div"),me(1,"br"),A(2,"p"),j(3,"Please click on a Cemetery..."),T()())}var xb=(()=>{let e=class e{constructor(r){this.cemeteryService=r,this.currentIndex=-1,this.title=""}ngOnInit(){this.retrieveCemetery()}refreshList(){this.currentCemetery=void 0,this.currentIndex=-1,this.retrieveCemetery()}retrieveCemetery(){this.cemeteryService.getAll().snapshotChanges().pipe(I(r=>r.map(i=>y({key:i.payload.key?.toString()},i.payload.val())))).subscribe(r=>{this.cemeteries=r})}setActiveCemetery(r,i){this.currentCemetery=r,this.currentIndex=i}ngOnDestroy(){this.cemeteryListSubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(w(Fe))},e.\u0275cmp=X({type:e,selectors:[["app-cemetery-list"]],decls:11,vars:1,consts:[[1,"col-md-12"],[1,"list","row"],[1,"col-md-3"],[1,"list-group"],[1,"col-md-9"],[1,"list-group-item",3,"click"],[3,"cemetery","refreshList"],["class","list-group-item",3,"active"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),j(4,"Cemeteries List"),T(),A(5,"ul",3),tn(6,cj,2,3,"li",7,lj),T()(),A(8,"div",4),Dt(9,uj,2,1,"div")(10,dj,4,0),T()()()),i&2&&(Q(6),nn(o.cemeteries),Q(3),xn(9,o.currentCemetery?9:10))},dependencies:[Ab],styles:[".list[_ngcontent-%COMP%]{text-align:left;margin:auto}"]});let t=e;return t})();var Ma=class{};function fj(t,e){if(t&1){let n=Wi();A(0,"div")(1,"div",1)(2,"label",2),j(3,"Title"),T(),A(4,"input",3),Qh("ngModelChange",function(i){Vr(n);let o=Re();return Hw(o.cemetery.title,i)||(o.cemetery.title=i),jr(i)}),T()(),A(5,"button",4),ze("click",function(){Vr(n);let i=Re();return jr(i.saveCemetery())}),j(6,"Submit"),T()()}if(t&2){let n=Re();Q(4),Kh("ngModel",n.cemetery.title)}}function hj(t,e){if(t&1){let n=Wi();A(0,"div")(1,"h4"),j(2,"You submitted successfully!"),T(),A(3,"button",4),ze("click",function(){Vr(n);let i=Re();return jr(i.newCemetery())}),j(4,"Add"),T()()}}var Nb=(()=>{let e=class e{constructor(r){this.cemeteryService=r,this.cemetery=new Ma,this.submitted=!1}saveCemetery(){this.cemeteryService.create(this.cemetery).then(()=>{console.log("Created new item successfully!"),this.submitted=!0})}newCemetery(){this.submitted=!1,this.cemetery=new Ma}};e.\u0275fac=function(i){return new(i||e)(w(Fe))},e.\u0275cmp=X({type:e,selectors:[["app-add-cemetery"]],decls:3,vars:1,consts:[[1,"submit-form"],[1,"form-group"],["for","title"],["type","text","id","title","required","","name","title",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"]],template:function(i,o){i&1&&(A(0,"div",0),Dt(1,fj,7,1,"div")(2,hj,5,0),T()),i&2&&(Q(),xn(1,o.submitted?2:1))},dependencies:[mr,Mo,Ev,Dv],styles:[".submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}"]});let t=e;return t})();var Rb=(()=>{let e=class e{constructor(r,i,o){this.cemeteryService=r,this.route=i,this.fb=o,this.message=""}ngOnInit(){this.message="",this.currentCemeteryKey=this.route.snapshot.params?.id,this.myForm=this.fb.group({code:["",gn.required],description:[""]})}getPeople(r){return this.graves.at(r).get("people")}addPeople(r){let i=this.fb.group({fullName:["",gn.required],dateOfDeath:["",gn.required]});this.getPeople(r).push(i)}removePeople(r,i){this.getPeople(r).removeAt(i)}addItem(){let r=this.fb.group({code:["",gn.required],description:[""],people:this.fb.array([])});this.graves.push(r)}removeItem(r){this.graves.removeAt(r)}get graves(){return this.myForm.get("graves")}updateCemetery(){this.myForm.valid&&this.cemeteryService.createGrave(this.myForm.value,this.currentCemeteryKey).then(()=>this.message="The cemetery was updated successfully!").catch(r=>console.log(r))}};e.\u0275fac=function(i){return new(i||e)(w(Fe),w(xe),w(vr))},e.\u0275cmp=X({type:e,selectors:[["app-grave"]],decls:16,vars:2,consts:[[1,"edit-form"],[3,"formGroup"],[1,"mt-2","col-md-6","div-card"],[1,"form-group","col-md-12"],["formControlName","code","placeholder","code",1,"form-control"],[1,"mt-4","form-group","col-md-12"],["for","description"],["formControlName","description","placeholder","description",1,"form-control"],[1,"mt-4"],["type","submit",1,"btn","btn-success","col-12","col-sm-12","col-md-4",3,"click"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label"),j(5," Code "),T(),me(6,"input",4),T(),A(7,"div",5)(8,"label",6),j(9," Description: "),T(),me(10,"input",7),T()()(),A(11,"div",8)(12,"button",9),ze("click",function(){return o.updateCemetery()}),j(13," Update "),T(),A(14,"p"),j(15),T()()()),i&2&&(Q(),Ue("formGroup",o.myForm),Q(14),Br(o.message))},dependencies:[Xu,mr,Mo,Qu,ba,Sa],styles:[".list[_ngcontent-%COMP%]{text-align:left;margin:auto}.div-card[_ngcontent-%COMP%]{padding:20px;box-shadow:0 0 max(12px,.75rem) #3333331a}label[_ngcontent-%COMP%]{font-weight:700;padding-bottom:8px;width:100%}.pull-right[_ngcontent-%COMP%]{float:right}"]});let t=e;return t})();var pj=(t,e)=>e.id;function gj(t,e){if(t&1&&(A(0,"div",2),j(1),T()),t&2){let n=e.$implicit;Q(),It(" ",n.fullName," ")}}function mj(t,e){if(t&1&&tn(0,gj,2,1,"div",3,pj),t&2){let n=Re();nn(n.peopleList)}}var vj=(t,e)=>["/people",t,e],Pb=(()=>{let e=class e{constructor(r,i,o){this.cemeteryService=r,this.route=i,this.fb=o,this.refreshList=new oe,this.peopleList=[]}ngOnInit(){this.currentGraveKey=this.route.snapshot.params?.graveKey,this.currentCemeteryKey=this.route.snapshot.params?.cemeteryKey,this.getGravesByCemetery()}getGravesByCemetery(){this.cemeteryService.getPeopleByGrave(this.currentCemeteryKey,this.currentGraveKey).snapshotChanges().pipe(I(r=>r.map(i=>y({key:i.payload.key?.toString()},i.payload.val())))).subscribe(r=>{this.peopleList=r})}ngOnDestroy(){this.peopleListSubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(w(Fe),w(xe),w(vr))},e.\u0275cmp=X({type:e,selectors:[["app-people"]],inputs:{cemetery:"cemetery"},outputs:{refreshList:"refreshList"},decls:4,vars:5,consts:[[1,"edit-form"],[1,"col-md-3","btn","btn-info",3,"routerLink"],[1,"col-md-12","grave"],["class","col-md-12 grave"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"a",1),j(2," Add New People "),T(),Dt(3,mj,2,0),T()),i&2&&(Q(),Ue("routerLink",qi(2,vj,o.currentCemeteryKey,o.currentGraveKey)),Q(2),xn(3,o.peopleList.length>0?3:-1))},dependencies:[ln],styles:[".list[_ngcontent-%COMP%]{text-align:left;margin:auto}.div-card[_ngcontent-%COMP%]{padding:20px;box-shadow:0 0 max(12px,.75rem) #3333331a}div.grave[_ngcontent-%COMP%]{padding:10px;box-shadow:0 0 max(12px,.75rem) #3333331a;margin:20px 10px;font-weight:700}label[_ngcontent-%COMP%]{font-weight:700;padding-bottom:8px;width:100%}.pull-right[_ngcontent-%COMP%]{float:right}"]});let t=e;return t})();var Ob=(()=>{let e=class e{constructor(r,i,o){this.cemeteryService=r,this.route=i,this.fb=o,this.message=""}ngOnInit(){this.message="",this.currentCemeteryKey=this.route.snapshot.params?.cemeteryKey,this.currentGraveKey=this.route.snapshot.params?.graveKey,this.myForm=this.fb.group({fullName:["",gn.required],dateOfDeath:["",gn.required]})}updateCemetery(){console.log(this.myForm.value,this.currentCemetery),this.myForm.valid&&this.cemeteryService.createPeople(this.myForm.value,this.currentCemeteryKey,this.currentGraveKey).then(()=>this.message="The cemetery was updated successfully!").catch(r=>console.log(r))}};e.\u0275fac=function(i){return new(i||e)(w(Fe),w(xe),w(vr))},e.\u0275cmp=X({type:e,selectors:[["app-people-form"]],decls:16,vars:2,consts:[[1,"edit-form"],[3,"formGroup"],[1,"mt-2","col-md-12","div-card"],[1,"form-group","col-md-6"],["for","fullName"],["type","text","id","fullName","formControlName","fullName","name","fullName",1,"form-control"],[1,"mt-2","form-group","col-md-6"],["for","dateOfDeath"],["type","date","id","dateOfDeath","formControlName","dateOfDeath","name","dateOfDeath",1,"form-control"],[2,"margin-top","10px"],["type","submit",1,"form-control","btn","btn-success",3,"click"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),j(5," Full Name "),T(),me(6,"input",5),T(),A(7,"div",6)(8,"label",7),j(9,"date Of Death"),T(),me(10,"input",8),T()()(),A(11,"div",9)(12,"button",10),ze("click",function(){return o.updateCemetery()}),j(13," Update "),T(),A(14,"p"),j(15),T()()()),i&2&&(Q(),Ue("formGroup",o.myForm),Q(14),Br(o.message))},dependencies:[Xu,mr,Mo,Qu,ba,Sa],styles:[".list[_ngcontent-%COMP%]{text-align:left;margin:auto}.div-card[_ngcontent-%COMP%]{padding:20px;box-shadow:0 0 max(12px,.75rem) #3333331a}label[_ngcontent-%COMP%]{font-weight:700;padding-bottom:8px;width:100%}.pull-right[_ngcontent-%COMP%]{float:right}"]});let t=e;return t})();var Oo=YS(FS(),1);var f2=["qrcElement"],LS=(()=>{let e=class e{constructor(r,i){this.renderer=r,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new oe,this.context=null}ngOnChanges(){return tt(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(r){return this.allowEmptyString===!1?!(typeof r>"u"||r===""||r==="null"||r===null):!(typeof r>"u")}toDataURL(r){return new Promise((i,o)=>{(0,Oo.toDataURL)(this.qrdata,r,(s,a)=>{s?o(s):i(a)})})}toCanvas(r,i){return new Promise((o,s)=>{(0,Oo.toCanvas)(r,this.qrdata,i,a=>{a?s(a):o("success")})})}toSVG(r){return new Promise((i,o)=>{(0,Oo.toString)(this.qrdata,r,(s,a)=>{s?o(s):i(a)})})}renderElement(r){for(let i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,r)}createQRCode(){return tt(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let r={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},i=this.imageSrc,o=this.imageHeight||40,s=this.imageWidth||40;switch(this.elementType){case"canvas":{let a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,r).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),i&&this.context){this.centerImage=new Image(s,o),i!==this.centerImage.src&&(this.centerImage.src=i),o!==this.centerImage.height&&(this.centerImage.height=o),s!==this.centerImage.width&&(this.centerImage.width=s);let l=this.centerImage;l&&(l.onload=()=>{this.context?.drawImage(l,a.width/2-s/2,a.height/2-o/2,s,o)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] canvas error:",l)});break}case"svg":{let a=this.renderer.createElement("div");this.toSVG(r).then(l=>{this.renderer.setProperty(a,"innerHTML",l);let c=a.firstChild;this.renderer.setAttribute(c,"height",`${this.width}`),this.renderer.setAttribute(c,"width",`${this.width}`),this.renderElement(c),this.emitQRCodeURL(c)}).catch(l=>{console.error("[angularx-qrcode] svg error:",l)});break}case"url":case"img":default:{let a=this.renderer.createElement("img");this.toDataURL(r).then(l=>{this.alt&&a.setAttribute("alt",this.alt),this.ariaLabel&&a.setAttribute("aria-label",this.ariaLabel),a.setAttribute("src",l),this.title&&a.setAttribute("title",this.title),this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] img/url error:",l)})}}}catch(r){console.error("[angularx-qrcode] Error generating QR Code:",r.message)}})}emitQRCodeURL(r){let i=r.constructor.name;if(i===SVGSVGElement.name){let s=r.outerHTML,a=new Blob([s],{type:"image/svg+xml"}),l=URL.createObjectURL(a),c=this.sanitizer.bypassSecurityTrustUrl(l);this.qrCodeURL.emit(c);return}let o="";i===HTMLCanvasElement.name&&(o=r.toDataURL("image/png")),i===HTMLImageElement.name&&(o=r.src),fetch(o).then(s=>s.blob()).then(s=>URL.createObjectURL(s)).then(s=>this.sanitizer.bypassSecurityTrustUrl(s)).then(s=>{this.qrCodeURL.emit(s)}).catch(s=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+s)})}};e.\u0275fac=function(i){return new(i||e)(w(An),w(mp))},e.\u0275cmp=X({type:e,selectors:[["qrcode"]],viewQuery:function(i,o){if(i&1&&$w(f2,7),i&2){let s;zh(s=qh())&&(o.qrcElement=s.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[dt],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,o){i&1&&me(0,"div",null,0),i&2&&Fw(o.cssClass)},encapsulation:2,changeDetection:0});let t=e;return t})(),VS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({});let t=e;return t})();var p2=(t,e)=>["/front-end/grave-people-list",t,e];function g2(t,e){if(t&1&&(A(0,"div",2)(1,"a",3)(2,"div",4),me(3,"qrcode",5),T(),j(4),T()()),t&2){let n=e.$implicit,r=Re();Q(),Ue("routerLink",qi(13,p2,r.currentCemeteryKey,n.key)),Q(2),Ue("qrdata","https://mohamad2maryam.github.io/cemetery-app//front-end/grave-people-list/"+r.currentCemeteryKey+"/"+n.key)("cssClass","center")("colorDark","#000000ff")("colorLight","#ffffffff")("elementType","canvas")("errorCorrectionLevel","M")("imageHeight",75)("imageWidth",75)("margin",4)("scale",1)("width",100),Q(),It(" ",n.code," ")}}function m2(t,e){t&1&&(A(0,"div"),j(1,"No data found"),T())}var jS=(()=>{let e=class e{constructor(r,i){this.cemeteryService=r,this.route=i}ngOnInit(){this.currentCemeteryKey=this.route.snapshot.params?.id,this.getGravesByCemetery()}getGravesByCemetery(){this.graveListSubscription=this.cemeteryService.getGravesByCemetery(this.currentCemeteryKey).snapshotChanges().pipe(I(r=>r.map(i=>y({key:i.payload.key?.toString()},i.payload.val())))).subscribe(r=>{this.graveList=r})}ngOnDestroy(){this.graveListSubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(w(Fe),w(xe))},e.\u0275cmp=X({type:e,selectors:[["app-grave-list"]],decls:5,vars:1,consts:[[1,"container"],["id","gridContainer",1,"grid"],[1,"box"],[3,"routerLink"],[1,"qrcodeImage"],[3,"qrdata","cssClass","colorDark","colorLight","elementType","errorCorrectionLevel","imageHeight","imageWidth","margin","scale","width"],["class","box"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"div",1),tn(2,g2,5,16,"div",6,fc,!1,m2,2,0,"div"),T()()),i&2&&(Q(2),nn(o.graveList))},dependencies:[ln,LS],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f2f2f2}.container[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);grid-gap:20px;padding:20px;overflow-x:auto;justify-content:center}.box[_ngcontent-%COMP%]{background-color:gray;border:1px solid #ccc;padding:20px;margin:10px;box-sizing:border-box;text-align:center;transition:all .3s ease;width:auto;cursor:pointer}.box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;list-style:none;text-decoration:none}.box[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 8px #0000001a}"]});let t=e;return t})();var v2=t=>["/front-end/people-detail",t];function y2(t,e){if(t&1&&(A(0,"div",1)(1,"a",2),j(2),T()()),t&2){let n=e.$implicit;Q(),Ue("routerLink",hc(2,v2,n.key)),Q(),It(" ",n.fullName," ")}}var BS=(()=>{let e=class e{constructor(r,i){this.cemeteryService=r,this.route=i}ngOnInit(){this.currentGraveKey=this.route.snapshot.params?.graveKey,this.currentCemeteryKey=this.route.snapshot.params?.cemeteryKey,this.getPeopleByGrave()}getPeopleByGrave(){this.gravePeopleListSubscription=this.cemeteryService.getPeopleByGrave(this.currentCemeteryKey,this.currentGraveKey).snapshotChanges().pipe(I(r=>r.map(i=>y({key:i.payload.key?.toString()},i.payload.val())))).subscribe(r=>{this.gravePeopleList=r})}ngOnDestroy(){this.gravePeopleListSubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(w(Fe),w(xe))},e.\u0275cmp=X({type:e,selectors:[["app-grave-people-list"]],decls:3,vars:0,consts:[["id","listContainer",1,"container"],[1,"box"],[3,"routerLink"],["class","box"]],template:function(i,o){i&1&&(A(0,"div",0),tn(1,y2,3,4,"div",3,fc),T()),i&2&&(Q(),nn(o.gravePeopleList))},dependencies:[ln],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f2f2f2}.container[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:0 20px}.box[_ngcontent-%COMP%]{background-color:gray;border:1px solid #ccc;padding:20px;margin:10px;box-sizing:border-box;text-align:center;transition:all .3s ease;display:block}.box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}"]});let t=e;return t})();var US=(()=>{let e=class e{constructor(r,i){this.cemeteryService=r,this.route=i}ngOnInit(){this.currentGraveKey=this.route.snapshot.params?.graveKey,this.currentCemeteryKey=this.route.snapshot.params?.cemeteryKey,this.getPeopleByGrave()}getPeopleByGrave(){this.gravePeopleListSubscription=this.cemeteryService.getPeopleByGrave(this.currentCemeteryKey,this.currentGraveKey).snapshotChanges().pipe(I(r=>r.map(i=>y({key:i.payload.key?.toString()},i.payload.val())))).subscribe(r=>{this.gravePeopleList=r})}ngOnDestroy(){this.gravePeopleListSubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(w(Fe),w(xe))},e.\u0275cmp=X({type:e,selectors:[["app-people-detail"]],decls:2,vars:0,consts:[[1,"container"],[1,"detail-box"]],template:function(i,o){i&1&&(A(0,"div",0),me(1,"div",1),T())},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f2f2f2}.container[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:0 20px}.detail-box[_ngcontent-%COMP%]{background-color:gray;border:1px solid #ccc;padding:20px;margin:10px;box-sizing:border-box;text-align:center;transition:all .3s ease;display:block}"]});let t=e;return t})();var $S=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=X({type:e,selectors:[["app-front-end"]],decls:1,vars:0,template:function(i,o){i&1&&me(0,"router-outlet")},dependencies:[Wr],encapsulation:2});let t=e;return t})();var HS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=X({type:e,selectors:[["app-admin"]],decls:11,vars:0,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-dark",2,"margin-bottom","20px"],["href","#",1,"navbar-brand"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","cemeteries",1,"nav-link"],["routerLink","add",1,"nav-link"]],template:function(i,o){i&1&&(A(0,"nav",0)(1,"a",1),j(2,"Cemetery APP"),T(),A(3,"div",2)(4,"li",3)(5,"a",4),j(6,"Cemeteries"),T()(),A(7,"li",3)(8,"a",5),j(9,"Add"),T()()()(),me(10,"router-outlet"))},dependencies:[Wr,ln],encapsulation:2});let t=e;return t})();var GS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=X({type:e,selectors:[["app-not-found"]],decls:13,vars:0,consts:[[1,"page_404"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"col-sm-10","col-sm-offset-1","text-center"],[1,"four_zero_four_bg"],[1,"text-center"],[1,"contant_box_404"],[1,"h2"]],template:function(i,o){i&1&&(A(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1",6),j(7,"404"),T()(),A(8,"div",7)(9,"h3",8),j(10," Look like you're lost "),T(),A(11,"p"),j(12,"the page you are looking for not avaible!"),T()()()()()()())},styles:[".page_404[_ngcontent-%COMP%]{padding:40px 0;background:#fff;font-family:Arvo,serif}.page_404[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.four_zero_four_bg[_ngcontent-%COMP%]{background-image:url(https://cdn.dribbble.com/users/285475/screenshots/2083086/dribbble_1.gif);height:400px;background-position:center}.four_zero_four_bg[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .four_zero_four_bg[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:80px}.link_404[_ngcontent-%COMP%]{color:#fff!important;padding:10px 20px;background:#39ac31;margin:20px 0;display:inline-block}.contant_box_404[_ngcontent-%COMP%]{margin-top:-50px}"]});let t=e;return t})();var _2=[{path:"rs",component:HS,children:[{path:"",redirectTo:"cemeteries",pathMatch:"full"},{path:"cemeteries",component:xb},{path:"cemeteries/:id",component:Rb},{path:"grave/:cemeteryKey/:graveKey",component:Pb},{path:"people/:cemeteryKey/:graveKey",component:Ob},{path:"add",component:Nb}]},{path:"front-end",component:$S,children:[{path:"grave-list/:id",component:jS},{path:"people-detail/:id",component:US},{path:"grave-people-list/:cemeteryKey/:graveKey",component:BS}]},{path:"**",component:GS}],WS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({imports:[ng.forRoot(_2,{useHash:!0}),ng]});let t=e;return t})();var zS=(()=>{let e=class e{constructor(){this.title="cemetery"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=X({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){i&1&&me(0,"router-outlet")},dependencies:[Wr]});let t=e;return t})();var C2={apiKey:"AIzaSyC42xCfHEOyJKM4L1UGFJHHURANTN0WndY",authDomain:"cemetery-9c279.firebaseapp.com",databaseURL:"https://cemetery-9c279-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"cemetery-9c279",storageBucket:"cemetery-9c279.appspot.com",messagingSenderId:"381111280069",appId:"1:381111280069:web:312049192459246807ebac"},qS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_e({type:e,bootstrap:[zS]}),e.\u0275inj=Ce({providers:[{provide:wc,useValue:"/"}],imports:[wD,WS,Tb,Mb,SE.initializeApp(C2),YI,VS]});let t=e;return t})();CD().bootstrapModule(qS).catch(t=>console.error(t));
